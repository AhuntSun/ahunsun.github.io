(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{532:function(e,t,s){"use strict";s.r(t);var v=s(27),i=Object(v.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"第七讲：git-refspec与远程分支的重要操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第七讲：git-refspec与远程分支的重要操作"}},[e._v("#")]),e._v(" 第七讲：Git refspec与远程分支的重要操作")]),e._v(" "),s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[e._v("#")]),e._v(" 前言")]),e._v(" "),s("p",[e._v("这一节来介绍本地仓库与远程仓库的分支映射关系："),s("code",[e._v("git refspec")]),e._v("。彻底弄清楚本地仓库到底是如何与远程仓库进行联系的。")]),e._v(" "),s("h2",{attrs:{id:"一、git-refspec"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、git-refspec"}},[e._v("#")]),e._v(" 一、"),s("code",[e._v("Git refspec")])]),e._v(" "),s("p",[s("code",[e._v("refspec")]),e._v("是"),s("code",[e._v("Reference Specification")]),e._v("的缩写，字面意思就是"),s("strong",[e._v("具体的引用")]),e._v("。它其实是"),s("strong",[e._v("一种格式")]),e._v("，"),s("code",[e._v("git")]),e._v("通过这种格式来表示"),s("strong",[e._v("本地分支")]),e._v("与"),s("strong",[e._v("远程分支")]),e._v("的映射关系；")]),e._v(" "),s("p",[e._v("在本地仓库创建"),s("code",[e._v("master")]),e._v("分支外的其他两个分支"),s("code",[e._v("develop")]),e._v("和"),s("code",[e._v("test")]),e._v(":")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/1.png",alt:"image-20200329114836186"}})]),e._v(" "),s("p",[e._v("在"),s("code",[e._v("develop")]),e._v("分支上执行"),s("code",[e._v("git push")]),e._v("命令，出现如下错误：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/2.png",alt:"image-20200329114910354"}})]),e._v(" "),s("p",[e._v("这是由于本地分支"),s("code",[e._v("develop")]),e._v("没有与任何的远程分支建立联系导致的。通过"),s("code",[e._v("git branch -vv")]),e._v("查看本地与远程分支的关联情况，可见并没有建立任何联系：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/3.png",alt:"image-20200416172209683"}})]),e._v(" "),s("h2",{attrs:{id:"二、本地远程分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、本地远程分支"}},[e._v("#")]),e._v(" 二、本地远程分支")]),e._v(" "),s("p",[e._v("在讲解如何建立与本地分支关联的远程分支之前，首先我们来介绍期待已久的本地远程分支：")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("git")]),e._v("中其实有三种分支：本地分支、本地远程分支、远程分支；")]),e._v(" "),s("li",[e._v("可以这样理解：本地远程分支是远程分支的一个镜像，并且在本地仓库与远程仓库之间起到一个桥梁的作用；")]),e._v(" "),s("li",[e._v("在没有办法直接查看远程仓库的时候，可以通过本地远程分支观察远程分支的变化情况。比如本地远程分支"),s("code",[e._v("origin/develop")]),e._v("就对应着远程分支"),s("code",[e._v("develop")]),e._v("。")])]),e._v(" "),s("h3",{attrs:{id:"_1-三分支关系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-三分支关系"}},[e._v("#")]),e._v(" 1.三分支关系")]),e._v(" "),s("p",[e._v("当本地"),s("code",[e._v("master")]),e._v("分支建立了与之关联的远程分支"),s("code",[e._v("master")]),e._v("后，查看当前分支状态：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/4.png",alt:"image-20200416172925457"}})]),e._v(" "),s("p",[e._v("图中的"),s("code",[e._v("origin/master")]),e._v("为本地远程分支，代表的是远程仓库的"),s("code",[e._v("master")]),e._v("分支，而这个分支是在本地的；也就是说加上远程仓库的"),s("code",[e._v("master")]),e._v("分支，一共有三个"),s("code",[e._v("master")]),e._v("分支：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/5.png",alt:"image-20200407133027775"}})]),e._v(" "),s("p",[e._v("并且，当本地仓库中的每一个分支都有与之关联的远程分支之后，本地仓库都会创建对应的"),s("strong",[e._v("本地远程分支")]),e._v("，它们所处的位置和关系如下图所示：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/6.png",alt:"image-20200407134533388"}})]),e._v(" "),s("blockquote",[s("p",[e._v("可以这样理解：本地远程分支"),s("code",[e._v("origin/master")]),e._v("为远程分支"),s("code",[e._v("master")]),e._v("的本地化形式；")])]),e._v(" "),s("p",[e._v("假设远程仓库和本地仓库文件内容是一样的，都只有两次提交，此时三个分支的状态如下图所示：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/7.png",alt:"image-20200407133442447"}})]),e._v(" "),s("p",[e._v("然后，在本地的"),s("code",[e._v("master")]),e._v("分支中新增了提交"),s("code",[e._v("3rd")]),e._v("，本地仓库的分支情况变为：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/8.png",alt:"image-20200416174501257"}})]),e._v(" "),s("blockquote",[s("p",[e._v("上图中的"),s("code",[e._v("git dog")]),e._v("为指令："),s("code",[e._v("git log --all --decorate --oneline --graph")]),e._v("的别名，有关内容将在下一节讲解。")])]),e._v(" "),s("p",[e._v("分支的示意图如下：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/9.png",alt:"image-20200407133629409"}})]),e._v(" "),s("p",[e._v("可见本地"),s("code",[e._v("master")]),e._v("分支比本地远程分支"),s("code",[e._v("origin/master")]),e._v("多了一次提交。这是因为本地远程分支是为了追踪远程分支而存在的，只有在执行"),s("code",[e._v("pull")]),e._v("或"),s("code",[e._v("push")]),e._v("操作时它的指向才会更新。比如在执行推送（"),s("code",[e._v("push")]),e._v("）指令时：")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("首先，本地"),s("code",[e._v("master")]),e._v("分支对应的本地远程分支（"),s("code",[e._v("origin/master")]),e._v("）会指向本地"),s("code",[e._v("master")]),e._v("分支最新的提交（向前走了几步）；")])]),e._v(" "),s("li",[s("p",[e._v("然后，本地"),s("code",[e._v("master")]),e._v("分支再将文件推送到远程"),s("code",[e._v("master")]),e._v("分支中。完成推送后，三分支的状态为：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/10.png",alt:"image-20200416175059690"}})])])]),e._v(" "),s("p",[e._v("回到终端，我们将刚才新增的提交"),s("code",[e._v("3rd")]),e._v("推送到远程分支，成功后查看本地分支以及本地远程分支的提交历史：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/11.png",alt:"image-20200416180507680"}})]),e._v(" "),s("p",[e._v("可见，本地远程分支的指向得到了更新，指向了最新的提交"),s("code",[e._v("3rd")]),e._v("，由此验证了上述说法。")]),e._v(" "),s("p",[s("strong",[e._v("查看分支关联")])]),e._v(" "),s("p",[e._v("可以通过以下指令查看本地分支与本地远程分支的关联情况：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git branch -vv\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/12.png",alt:"image-20200410120936906"}})]),e._v(" "),s("p",[e._v("可以看到：本地的"),s("code",[e._v("master")]),e._v("分支有本地远程分支"),s("code",[e._v("origin/master")]),e._v("关联，说明本地"),s("code",[e._v("master")]),e._v("分支已经和远程"),s("code",[e._v("master")]),e._v("分支建立了关联；")]),e._v(" "),s("p",[e._v("其余两个本地分支"),s("code",[e._v("pop")]),e._v("和"),s("code",[e._v("develop")]),e._v("并没有与之关联的本地远程分支，所以它们并没有与远程分支建立联系。")]),e._v(" "),s("blockquote",[s("p",[e._v("简单点说：只要"),s("strong",[e._v("本地分支")]),e._v("有与之对应的"),s("strong",[e._v("本地远程分支")]),e._v("，就有与之对应的"),s("strong",[e._v("远程分支")]),e._v("。")])]),e._v(" "),s("p",[s("strong",[e._v("总结：")]),s("code",[e._v("origin/master")]),e._v("作用："),s("strong",[e._v("追踪远程分支")]),e._v("。当执行"),s("code",[e._v("git push/pull")]),e._v("操作时，该分支的指向都会相应地发生变化，用于与远程仓库保持同步；比如：本地仓库在执行"),s("code",[e._v("git push")]),e._v("操作的时候，不仅会把本地的修改推送到远程；还会同时修改"),s("code",[e._v("origin/master")]),e._v("分支的指向；")]),e._v(" "),s("h3",{attrs:{id:"_2-实战演示"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-实战演示"}},[e._v("#")]),e._v(" 2.实战演示")]),e._v(" "),s("p",[e._v("可通过该指令查看本地的所有分支及其"),s("strong",[e._v("最新的提交信息")]),e._v("：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git branch -av\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/13.png",alt:"image-20200328164526656"}})]),e._v(" "),s("p",[e._v("首先，在"),s("code",[e._v("master")]),e._v("分支上进行三次提交，并将它推送到与之关联的远程"),s("code",[e._v("master")]),e._v("分支，此时各分支的提交历史为：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/14.png",alt:"image-20200416181958738"}})]),e._v(" "),s("p",[e._v("三个分支的状态为：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/15.png",alt:"image-20200416182211614"}})]),e._v(" "),s("p",[e._v("在此基础上，在"),s("code",[e._v("master")]),e._v("分支上进行一次提交"),s("code",[e._v("4th")]),e._v("，然后查看状态"),s("code",[e._v("git status")]),e._v("：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/16.png",alt:"image-20200416182358491"}})]),e._v(" "),s("p",[e._v("图中提示信息表明，当前分支（"),s("code",[e._v("master")]),e._v("）已经领先于"),s("code",[e._v("origin/master")]),e._v("分支一次提交。为了看得更清楚，我们查看本地各分支的提交历史：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/17.png",alt:"image-20200416182650885"}})]),e._v(" "),s("p",[e._v("从图中可看出，"),s("code",[e._v("origin/master")]),e._v("分支确实落后了一次提交，表示远程"),s("code",[e._v("master")]),e._v("分支落后了一次提交。此时可以使用"),s("code",[e._v("git push")]),e._v("将新增的提交推送到远程"),s("code",[e._v("master")]),e._v("分支，在这个过程中会将本地远程分支"),s("code",[e._v("origin/master")]),e._v("指向最新的提交"),s("code",[e._v("4th")]),e._v("。成功推送之后，再次查看本地各分支的提交历史：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/18.png",alt:"image-20200416182921683"}})]),e._v(" "),s("p",[e._v("可见，通过"),s("code",[e._v("git push")]),e._v("操作本地远程分支确实发生了更新，指向了最新提交"),s("code",[e._v("4th")]),e._v("。这就验证了执行"),s("code",[e._v("git push")]),e._v("时进行了两步操作：")]),e._v(" "),s("ul",[s("li",[e._v("将本地"),s("code",[e._v("master")]),e._v("分支的新提交推送到与之关联的远程"),s("code",[e._v("master")]),e._v("分支；")]),e._v(" "),s("li",[e._v("将本地远程分支"),s("code",[e._v("origin/master")]),e._v("指向本地"),s("code",[e._v("master")]),e._v("分支的最新提交；")])]),e._v(" "),s("p",[s("code",[e._v("git pull")]),e._v("操作同理，也会更新本地远程分支的指向；")]),e._v(" "),s("p",[e._v("也就是说："),s("strong",[e._v("每次执行"),s("code",[e._v("push")]),e._v("或"),s("code",[e._v("pull")]),e._v("操作后，本地分支、本地远程分支、远程分支三个分支的指向都会达到同步。")])]),e._v(" "),s("p",[e._v("当切换到"),s("code",[e._v("origin/master")]),e._v("分支上时，如下图所示：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/19.png",alt:"image-20200416183352637"}})]),e._v(" "),s("p",[s("code",[e._v("git")]),e._v("并不会直接将分支切换到"),s("code",[e._v("origin/master")]),e._v("上，而是切换到最新的一次提交上，即一个游离的提交。这从侧面说明了："),s("code",[e._v("git")]),e._v("是"),s("strong",[e._v("禁止")]),e._v("我们直接修改"),s("code",[e._v("origin/master")]),e._v("分支的，只允许我们切换到最新的提交上；")]),e._v(" "),s("p",[s("strong",[e._v("也就是说本地远程分支（如"),s("code",[e._v("origin/master")]),e._v("）是只读的，只能由"),s("code",[e._v("git")]),e._v("来改变，这就解释了为何使用"),s("code",[e._v("git branch")]),e._v("无法查看本地远程分支。")])]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/20.png",alt:"image-20200416183719001"}})]),e._v(" "),s("h2",{attrs:{id:"三、设置远程分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、设置远程分支"}},[e._v("#")]),e._v(" 三、设置远程分支")]),e._v(" "),s("p",[e._v("弄清楚了什么是本地远程分支，就能更好地理解接下来所要介绍的，如何建立本地分支与远程分支的联系了。")]),e._v(" "),s("h3",{attrs:{id:"_1-设置同名远程分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-设置同名远程分支"}},[e._v("#")]),e._v(" 1.设置同名远程分支")]),e._v(" "),s("p",[e._v("上图提示信息中的："),s("code",[e._v("upstream branch")]),e._v("表示上游分支，即远程仓库的分支。当前的本地分支"),s("code",[e._v("develop")]),e._v("并没有一个远程仓库的"),s("code",[e._v("develop")]),e._v("分支与之对应；要想推送"),s("code",[e._v("develop")]),e._v("分支到远程仓库的"),s("strong",[e._v("同名分支")]),e._v("，首先要创建对应的远程分支，有以下两种类型四种方法：")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("**类型一：**建立本地与远程分支追踪关系的。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git push --set-upstream origin <branch>\ngit push -u origin <branch>\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[e._v("使用该类型方法，只需设置一次，之后就可以使用简写形式"),s("code",[e._v("git push")]),e._v("进行推送。")])]),e._v(" "),s("li",[s("p",[e._v("**类型二：**不建立本地与远程分支追踪关系的。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git push origin HEAD\ngit push origin <branch_name>\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[e._v("使用该类型方法，每次推送都需要采用上述的完整写法。")])])]),e._v(" "),s("p",[e._v("下面就来详细介绍这四种方法：")]),e._v(" "),s("h5",{attrs:{id:"git-push-set-upstream-origin-branch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-push-set-upstream-origin-branch"}},[e._v("#")]),e._v(" "),s("code",[e._v("git push --set-upstream origin <branch>")])]),e._v(" "),s("p",[e._v("**方法一：**采用下述指令为本地仓库"),s("code",[e._v("mygit")]),e._v("的"),s("code",[e._v("develop")]),e._v("分支创建远程分支：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git push --set-upstream origin develop\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("该命令的作用为：在远程仓库创键一个与本地分支"),s("code",[e._v("develop")]),s("strong",[e._v("关联")]),e._v("的同名分支"),s("code",[e._v("develop")]),e._v("，并将本地分支"),s("code",[e._v("develop")]),e._v("的文件推送到该远程分支上。")]),e._v(" "),s("p",[e._v("也就是将本地分支"),s("code",[e._v("develop")]),e._v("的上游分支设置为远程仓库的"),s("code",[e._v("develop")]),e._v("分支，并进行文件同步。")]),e._v(" "),s("p",[e._v("执行完上述命令后会有这样的提示：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/21.png",alt:"image-20200416172401646"}})]),e._v(" "),s("p",[e._v("表示本地的"),s("code",[e._v("develop")]),e._v("分支已与远程的"),s("code",[e._v("develop")]),e._v("分支"),s("strong",[e._v("建立联系")]),e._v("；此时查看本地分支，会发现多了一个本地远程分支"),s("code",[e._v("origin/develop")]),e._v("，并且已与本地"),s("code",[e._v("develop")]),e._v("分支建立了联系：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/22.png",alt:"image-20200416235458838"}})]),e._v(" "),s("p",[e._v("随后再次执行"),s("code",[e._v("git push")]),e._v("就不会出现问题了：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/23.png",alt:"image-20200329120642796"}})]),e._v(" "),s("p",[e._v("此时在"),s("code",[e._v("github")]),e._v("上查看对应的远程仓库，就能查看到新增的远程分支"),s("code",[e._v("develop")]),e._v("了：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/24.png",alt:"image-20200329122141124"}})]),e._v(" "),s("blockquote",[s("p",[e._v("上图中的"),s("code",[e._v("master")]),e._v("分支是远程仓库创建时默认创建的，并没有与本地"),s("code",[e._v("master")]),e._v("分支建立联系。")])]),e._v(" "),s("p",[e._v("随后点开"),s("code",[e._v("branch")]),e._v("可以看到：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/25.png",alt:"image-20200329122249532"}})]),e._v(" "),s("p",[e._v("当前一共有两个分支，"),s("code",[e._v("master")]),e._v("分支是"),s("code",[e._v("default")]),e._v("（默认）分支，是不能够被删除的；活跃的分支为"),s("code",[e._v("deavelop")]),e._v("；")]),e._v(" "),s("h5",{attrs:{id:"git-push-u-origin-branch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-push-u-origin-branch"}},[e._v("#")]),e._v(" "),s("code",[e._v("git push -u origin <branch>")])]),e._v(" "),s("p",[e._v("**方法二：**先切换到"),s("code",[e._v("test")]),e._v("分支，再执行以下命令，为本地仓库"),s("code",[e._v("mygit")]),e._v("的"),s("code",[e._v("test")]),e._v("分支创建对应的远程分支：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git push -u origin test\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/26.png",alt:"image-20200417000257150"}})]),e._v(" "),s("p",[s("code",[e._v("-u")]),e._v("与"),s("code",[e._v("--set-upstream")]),e._v("作用是类似的，都是在远程仓库新建一个新的分支，并与本地分支建立联系。")]),e._v(" "),s("p",[e._v("执行完上述指令后，再次查看本地分支的详细情况，以及分支对应关系，可以发现"),s("code",[e._v("test")]),e._v("分支已与远程"),s("code",[e._v("test")]),e._v("分支建立联系：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/27.png",alt:"image-20200417000515217"}})]),e._v(" "),s("h4",{attrs:{id:"git-push-origin-head"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-push-origin-head"}},[e._v("#")]),e._v(" "),s("code",[e._v("git push origin HEAD")])]),e._v(" "),s("p",[s("strong",[e._v("方法三：")])]),e._v(" "),s("p",[e._v("如下图所示，通过该指令成功设置了本地"),s("code",[e._v("develop")]),e._v("分支对应的远程"),s("code",[e._v("develop")]),e._v("分支。但没有显示追踪信息，之后不能使用"),s("code",[e._v("git push")]),e._v("推送。")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/28.png",alt:"image-20200417121129943"}})]),e._v(" "),s("h4",{attrs:{id:"git-push-origin-branch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-push-origin-branch"}},[e._v("#")]),e._v(" "),s("code",[e._v("git push origin <branch>")])]),e._v(" "),s("p",[s("strong",[e._v("方法四：")])]),e._v(" "),s("p",[e._v("如下图所示，该方法实质上与方法三相同，因为"),s("code",[e._v("HEAD")]),e._v("指向的就是当前分支。同样没有显示追踪信息，之后也不能使用"),s("code",[e._v("git push")]),e._v("推送。")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/29.png",alt:"image-20200417121419529"}})]),e._v(" "),s("blockquote",[s("p",[e._v("**总结：**当本地分支与远程分支同名时，一旦手动建立了它们之间的联系。之后推送本地分支的文件到对应的远程分支时可以采用简写形式："),s("code",[e._v("git push")]),e._v("。")]),e._v(" "),s("p",[e._v("这是因为在已经建立三个分支的对应关系并后，再执行"),s("code",[e._v("git push")]),e._v("，"),s("code",[e._v("git")]),e._v("会自动地将同名的本地分支与远程分支进行匹配；")]),e._v(" "),s("p",[e._v("而其他情况则要采用完整写法进行推送。关于这些结论，将在第三大点"),s("code",[e._v("-u")]),e._v("参数的作用中详细介绍。")])]),e._v(" "),s("h3",{attrs:{id:"_2-设置不同名远程分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-设置不同名远程分支"}},[e._v("#")]),e._v(" 2.设置不同名远程分支")]),e._v(" "),s("p",[e._v("主要有以下四种方法，注意：使用每种方法前都需要先切换到对应分支上。")]),e._v(" "),s("h4",{attrs:{id:"git-push-set-upstream-origin-branch1-branch2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-push-set-upstream-origin-branch1-branch2"}},[e._v("#")]),e._v(" "),s("code",[e._v("git push --set-upstream origin <branch1>:<branch2>")])]),e._v(" "),s("p",[s("strong",[e._v("方法一：")]),e._v(" 比如当前位于"),s("code",[e._v("develop")]),e._v("分支，如果采用的是以下简写命令：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v(" git push --set-upstream origin develop\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("则会创建一个同名的远程分支"),s("code",[e._v("develop")]),e._v("。而如果采用该命令的完整写法，就可以自定义远程分支的名字了，比如设为"),s("code",[e._v("develop2")]),e._v("：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git push --set-upstream origin develop:develop2\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/30.png",alt:"image-20200417001750391"}})]),e._v(" "),s("p",[e._v("执行上述指令后，成功创建了对应的，不同名的本地远程分支"),s("code",[e._v("origin/develop2")]),e._v("。表示本地"),s("code",[e._v("develop")]),e._v("分支已与远程"),s("code",[e._v("develop2")]),e._v("分支建立联系（因为远程分支与本地远程分支是一一对应的关系）：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/31.png",alt:"image-20200417001824384"}})]),e._v(" "),s("p",[e._v("在"),s("code",[e._v("github")]),e._v("上查看本地仓库关联的远程仓库"),s("code",[e._v("MY")]),e._v("，可以看到顺利创建了"),s("code",[e._v("develop2")]),e._v("分支：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/32.png",alt:"image-20200417002057662"}})]),e._v(" "),s("blockquote",[s("p",[e._v("可以发现这么一个规律：在创建远程分支的同时会创建同名的本地远程分支。")])]),e._v(" "),s("h4",{attrs:{id:"git-push-u-origin-branch1-branch2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-push-u-origin-branch1-branch2"}},[e._v("#")]),e._v(" "),s("code",[e._v("git push -u origin <branch1>:<branch2>")])]),e._v(" "),s("p",[s("strong",[e._v("方法二：")])]),e._v(" "),s("p",[e._v("如下图所示，使用"),s("code",[e._v("-u")]),e._v("参数也能将本地"),s("code",[e._v("develop")]),e._v("分支的远程分支自定义为"),s("code",[e._v("develop2")]),e._v("。")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/33.png",alt:"image-20200417103419756"}})]),e._v(" "),s("h4",{attrs:{id:"git-push-origin-head-branch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-push-origin-head-branch"}},[e._v("#")]),e._v(" "),s("code",[e._v("git push origin HEAD:<branch>")])]),e._v(" "),s("p",[s("strong",[e._v("方法三：")])]),e._v(" "),s("p",[e._v("通过该方法也能成功设置与本地分支关联的，不同名的远程分支"),s("code",[e._v("develop2")]),e._v("：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/34.png",alt:"image-20200417003727161"}})]),e._v(" "),s("h4",{attrs:{id:"git-push-origin-branch1-branch2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-push-origin-branch1-branch2"}},[e._v("#")]),e._v(" "),s("code",[e._v("git push origin <branch1>:<branch2>")])]),e._v(" "),s("p",[e._v("**方法四：**该方法与方法二实质上是一样的，因为方法二中的"),s("code",[e._v("HEAD")]),e._v("指针指向的就是当前所在的分支，也就是"),s("code",[e._v("develop")]),e._v("分支。过程与方法二类似：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/35.png",alt:"image-20200417004155159"}})]),e._v(" "),s("blockquote",[s("p",[s("strong",[e._v("上面这四种设置不同名远程分支的方法，都有一个共同特点：不能使用"),s("code",[e._v("git push")]),e._v("进行推送")]),e._v("。")])]),e._v(" "),s("p",[e._v("若使用"),s("code",[e._v("git push")]),e._v("都会出现找不到对应远程分支的错误：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/36.png",alt:"image-20200417004455754"}})]),e._v(" "),s("p",[e._v("原因在下面第三点的"),s("code",[e._v("-u")]),e._v("参数作用中会详细讲解。")]),e._v(" "),s("p",[e._v("既然是"),s("code",[e._v("-u")]),e._v("参数追踪问题，那我加上"),s("code",[e._v("-u")]),e._v("参数不就行了么？其实这样也行不通：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/37.png",alt:"image-20200417005033407"}})]),e._v(" "),s("p",[s("strong",[e._v("解决方案")]),e._v("：每次推送的时候，指明本地分支与远程分支的对应关系，即采用上述命令的完整写法，比如：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git push --set-upstream origin develop:develop2\ngit push -u origin develop:develop2\ngit push origin develop:develop2\ngit push origin HEAD:develop2\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])]),s("p",[e._v("采用了完整写法后，成功地进行了推送，如下图所示：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/38.png",alt:"image-20200407215703682"}})]),e._v(" "),s("blockquote",[s("p",[s("strong",[e._v("注意："),s("strong",[e._v("虽然可以自定义远程分支与本地远程分支的名字，但是十分不推荐，因为容易出错。所以，建议")]),e._v("本地远程分支和远程分支")]),e._v("都使用默认的，与本地分支相同的名字。")])]),e._v(" "),s("h3",{attrs:{id:"_3-总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-总结"}},[e._v("#")]),e._v(" 3.总结")]),e._v(" "),s("p",[e._v("以本地分支"),s("code",[e._v("develop")]),e._v("为例，不难发现：")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("使用下列简写命令时，远程分支和本地远程分支都会采用默认的，与本地分支相同的名字：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git push --set-upstream origin develop\ngit push -u origin develop\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])])]),e._v(" "),s("li",[s("p",[e._v("而使用下列命令的完整写法时，就可以自定义远程分支与本地远程分支的名字：")])])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git push --set-upstream origin develop:develop2\ngit push -u origin develop:develop2\ngit push origin develop:develop2\ngit push origin HEAD:develop2\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])]),s("h2",{attrs:{id:"四、git-push-origin-master与git-push-u-origin-master的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、git-push-origin-master与git-push-u-origin-master的区别"}},[e._v("#")]),e._v(" 四、"),s("code",[e._v("git push origin master")]),e._v("与"),s("code",[e._v("git push -u origin master")]),e._v("的区别")]),e._v(" "),s("p",[e._v("第一次将本地仓库的"),s("code",[e._v("master")]),e._v("分支推送到远程仓库的"),s("code",[e._v("master")]),e._v("分支上时，使用前者和后者都可以顺利推送，区别在于是否使用了"),s("code",[e._v("-u")]),e._v("参数：")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("推送时不使用"),s("code",[e._v("-u")]),e._v("参数：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/39.png",alt:"image-20200407204915066"}})])]),e._v(" "),s("li",[s("p",[e._v("推送时使用"),s("code",[e._v("-u")]),e._v("参数：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/40.png",alt:"image-20200407205035250"}})])])]),e._v(" "),s("p",[e._v("注意到推送时使用"),s("code",[e._v("-u")]),e._v("参数会打印下列提示信息：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Branch 'master' set up to track remote branch 'master' from 'origin'.\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("表示本地的"),s("code",[e._v("master")]),e._v("分支被设置去追踪远程的"),s("code",[e._v("master")]),e._v("分支，在第"),s("code",[e._v("2~n")]),e._v("次推送中，只需要使用"),s("code",[e._v("git push")]),e._v("这样的简写命令（当然，完整写法效果等同）。"),s("code",[e._v("git")]),e._v("就会自动将本地的"),s("code",[e._v("master")]),e._v("分支与远程的"),s("code",[e._v("master")]),e._v("分支进行匹配，完成推送：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/41.png",alt:"image-20200407205848977"}})]),e._v(" "),s("p",[e._v("而不使用"),s("code",[e._v("-u")]),e._v("参数时，没有上述的分支追踪信息。此时使用简写"),s("code",[e._v("git push")]),e._v("进行推送会出现错误：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/42.png",alt:"image-20200407210028495"}})]),e._v(" "),s("p",[e._v("错误信息显示：当前分支没有与之对应的远程分支。这个时候想要成功推送，必须采用指明对应关系的完整写法，比如：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git push origin master\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/43.png",alt:"image-20200407210350445"}})]),e._v(" "),s("p",[e._v("这就是推送时使不使用"),s("code",[e._v("-u")]),e._v("参数的区别。并且，根据上面的介绍，使用如下指令进行推送也能达到"),s("code",[e._v("-u")]),e._v("参数的效果：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git push --set-upstream origin develop\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/44.png",alt:"image-20200407210704627"}})]),e._v(" "),s("p",[e._v("之后也可以使用简写的"),s("code",[e._v("git pull")]),e._v("指令进行推送：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/45.png",alt:"image-20200407210730668"}})]),e._v(" "),s("p",[s("strong",[e._v("细心的你一定发现了，以上都只是本地分支与远程分支同名的情况。不同名的情况下，上面的两个方法还好使吗？")])]),e._v(" "),s("p",[e._v("首先验证方法一："),s("code",[e._v("-u")]),e._v("参数：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/46.png",alt:"image-20200407211150483"}})]),e._v(" "),s("blockquote",[s("p",[e._v("设置不同名的远程分支时要注意写成完整形式："),s("code",[e._v("pop:pop2")])])]),e._v(" "),s("p",[e._v("可以看到，即使创建不同名的远程分支，"),s("code",[e._v("-u")]),e._v("参数也一样能够设置追踪关系；但是，奇怪的是"),s("code",[e._v("git push")]),e._v("却不好使了：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/47.png",alt:"image-20200407211424929"}})]),e._v(" "),s("p",[e._v("还是和没使用"),s("code",[e._v("-u")]),e._v("参数时一样，找不到对应的远程分支，需要采用指明对应关系的完整写法，比如：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git push origin pop:pop2\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/48.png",alt:"image-20200407211604378"}})]),e._v(" "),s("p",[e._v("其次验证方法二："),s("code",[e._v("--set-upstream")]),e._v("：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/49.png",alt:"image-20200407212552925"}})]),e._v(" "),s("p",[e._v("同样设置分支对应关系时要使用完整写法。可以看到，该方法也设置了追踪关系。奇怪的是"),s("code",[e._v("git push")]),e._v("同样不管用：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/50.png",alt:"image-20200407212657862"}})]),e._v(" "),s("p",[e._v("同样找不到对应的远程分支，需要采用指明对应关系的完整写法，比如：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git push origin bob:bob2\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/51.png",alt:"image-20200407212901263"}})]),e._v(" "),s("p",[s("strong",[e._v("所以可以得出结论：")])]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("本地/远程分支同名时：")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("-u")]),e._v("参数的作用是设置本地分支与远程分支的追踪关系，设置了追踪关系后，之后的推送可使用简写"),s("code",[e._v("git push")]),e._v("，"),s("code",[e._v("git")]),e._v("内部会自动进行匹配；")]),e._v(" "),s("li",[s("code",[e._v("--set-upstream")]),e._v("参数与"),s("code",[e._v("-u")]),e._v("参数效果等同；")])])]),e._v(" "),s("li",[s("strong",[e._v("本地/远程分支不同名时：")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("--set-upstream")]),e._v("参数与"),s("code",[e._v("-u")]),e._v("参数依然可以设置分支的追踪关系，但是，之后的推送不能使用简写"),s("code",[e._v("git push")]),e._v("，只能使用指定分支对应关系的完整写法；")])])])]),e._v(" "),s("p",[s("strong",[e._v("总结：十分建议将所有的本地分支与对应的远程分支设为同名，并且第一次推送使用"),s("code",[e._v("--set-upstream")]),e._v("或"),s("code",[e._v("-u")]),e._v("参数建立分支追踪关系，之后就可以使用简写"),s("code",[e._v("git push")]),e._v("进行推送了！")])]),e._v(" "),s("h2",{attrs:{id:"五、git-push-f"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、git-push-f"}},[e._v("#")]),e._v(" 五、"),s("code",[e._v("git push -f")])]),e._v(" "),s("p",[e._v("该命令的完整写法为：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git push -f origin master\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("意思为"),s("strong",[e._v("强制推送")]),e._v("：直接跳过与远程仓库的"),s("code",[e._v("master")]),e._v("分支合并的环节，强制覆盖远程仓库上"),s("code",[e._v("master")]),e._v("分支的内容，即以本地的"),s("code",[e._v("master")]),e._v("分支内容为准。应慎用该命令，否则将覆盖远程仓库中"),s("code",[e._v("master")]),e._v("分支上其他人推送的文件（一星期的成果没了）。")]),e._v(" "),s("h3",{attrs:{id:"_1-应用场合"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-应用场合"}},[e._v("#")]),e._v(" 1.应用场合")]),e._v(" "),s("ul",[s("li",[e._v("当远程仓库的历史提交记录太乱了，想要重新整理时。**注意：**一定要与其他人协商好再用本地分支强制覆盖远程分支。")]),e._v(" "),s("li",[e._v("只有一个人开发时，代码以本地为准。为了避免推送时繁琐的合并，可以使用"),s("code",[e._v("-f")]),e._v("强制推送，直接覆盖远程分支上的内容；")])]),e._v(" "),s("p",[e._v("分两种写法：")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("**第一种：**已经通过"),s("code",[e._v("-u")]),e._v("参数等方式，设置了本地分支与远程分支的追踪关系时，采用：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git push -f\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/52.png",alt:"image-20200417113501672"}})])]),e._v(" "),s("li",[s("p",[e._v("**第二种：**还未设置追踪关系，采用：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git push -u origin master -f\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/53.png",alt:"image-20200417114605971"}})])])]),e._v(" "),s("h3",{attrs:{id:"_2-预防措施"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-预防措施"}},[e._v("#")]),e._v(" 2.预防措施")]),e._v(" "),s("p",[s("code",[e._v("Github")]),e._v("提供了相应的分支保护机制，可以在"),s("code",[e._v("Settings")]),e._v("选项中进行设置：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/54.png",alt:"image-20200409092021721"}})]),e._v(" "),s("p",[e._v("可以看到"),s("code",[e._v("Github")]),e._v("默认是保护分支的：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/55.png",alt:"image-20200409092311908"}})]),e._v(" "),s("h3",{attrs:{id:"_3-补救措施"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-补救措施"}},[e._v("#")]),e._v(" 3.补救措施")]),e._v(" "),s("p",[e._v("让有进度的人，再次对被强制覆盖的远程分支执行一次 "),s("code",[e._v("git push -f")]),e._v(" 指令，把正确的内容强制推送上去，覆盖前一次 "),s("code",[e._v("git push -f")]),e._v(" 所造成的灾难。")]),e._v(" "),s("h2",{attrs:{id:"六、设置远程分支对应的本地分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六、设置远程分支对应的本地分支"}},[e._v("#")]),e._v(" 六、设置远程分支对应的本地分支")]),e._v(" "),s("p",[e._v("假如远程仓库"),s("code",[e._v("M3Y")]),e._v("中有"),s("code",[e._v("master")]),e._v("和"),s("code",[e._v("develop")]),e._v("两个分支，此时新建一个空的本地仓库"),s("code",[e._v("mygit")]),e._v("，通过以下指令将它的远程仓库地址"),s("code",[e._v("origin")]),e._v("设置为"),s("code",[e._v("M3Y")]),e._v("的地址：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git remote add origin git@github.com:AhuntSun/M3Y.git\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("此时两仓库的状态为：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/56.png",alt:"image-20200417140610948"}})]),e._v(" "),s("p",[e._v("由于"),s("code",[e._v("mygit")]),e._v("是空仓库与远程仓库"),s("code",[e._v("M3Y")]),e._v("没有任何公共提交历史，所以在执行"),s("code",[e._v("git pull")]),e._v("时会出现下图所示的不同源冲突（上一节中详细介绍过该冲突）：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/57.png",alt:"image-20200417141801581"}})]),e._v(" "),s("p",[e._v("虽然"),s("code",[e._v("git pull")]),e._v("操作失败了，但是也成功地将远程仓库"),s("code",[e._v("M3Y")]),e._v("的分支拉取了下来。但是，通过"),s("code",[e._v("git branch -vv")]),e._v("查看分支追踪关系，发现并没有本地分支与这两个远程分支建立了联系：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/58.png",alt:"image-20200417142011442"}})]),e._v(" "),s("p",[e._v("如何建立这两个本地远程分支对应的本地分支？可以通过以下两种方法：")]),e._v(" "),s("h3",{attrs:{id:"_1-git-checkout-b-branch-origin-branch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-git-checkout-b-branch-origin-branch"}},[e._v("#")]),e._v(" 1."),s("code",[e._v("git checkout -b <branch> origin/<branch>")])]),e._v(" "),s("p",[e._v("比如可以通过以下命令，设置本地远程分支"),s("code",[e._v("origin/master")]),e._v("与本地"),s("code",[e._v("master")]),e._v("分支的追踪关系：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git checkout -b master origin/master\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/59.png",alt:"image-20200417142353425"}})]),e._v(" "),s("p",[e._v("以上为本地"),s("code",[e._v("master")]),e._v("分支已存在的情况，如果本地分支"),s("code",[e._v("develop")]),e._v("未创建，可以采用下述命令创建并切换到"),s("code",[e._v("develop")]),e._v("分支，并且设置"),s("code",[e._v("origin/develop")]),e._v("与"),s("code",[e._v("develop")]),e._v("的追踪关系：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git checkout -b develop origin/develop\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/60.png",alt:"image-20200417142901803"}})]),e._v(" "),s("p",[e._v("设置了本地分支与远程分支的追踪关系，接下来就可以在本地仓库执行"),s("code",[e._v("git push")]),e._v("进行推送了：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/61.png",alt:"image-20200417143211765"}})]),e._v(" "),s("h3",{attrs:{id:"_2-git-checkout-track-origin-branch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-git-checkout-track-origin-branch"}},[e._v("#")]),e._v(" 2."),s("code",[e._v("git checkout --track origin/<branch>")])]),e._v(" "),s("p",[e._v("重置条件，新创建一个空的本地仓库"),s("code",[e._v("mygit2")]),e._v("，同样将其远程地址"),s("code",[e._v("origin")]),e._v("设置为远程仓库"),s("code",[e._v("M3Y")]),e._v("的地址。随后在本地仓库"),s("code",[e._v("mygit2")]),e._v("中执行"),s("code",[e._v("git pull")]),e._v("操作，将远程仓库"),s("code",[e._v("M3Y")]),e._v("中的两个分支拉取到本地：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/62.png",alt:"image-20200417144521310"}})]),e._v(" "),s("p",[e._v("与上次一样，拉取到本地的两个本地远程分支没有与任何本地分支建立追踪关系。这次可以采用另外一种方法：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git checkout --track origin/test\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("创建并切换到"),s("code",[e._v("develop")]),e._v("分支，并且设置该分支与"),s("code",[e._v("origin/develop")]),e._v("分支的追踪关系：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/63.png",alt:"image-20200417144827348"}})]),e._v(" "),s("p",[e._v("可以说该方法是方法一的特殊情况，因为该方法没有指明创建的本地分支的名字，所以默认采用与远程分支一样的名字"),s("code",[e._v("develop")]),e._v("来命名；")]),e._v(" "),s("p",[e._v("如果想在本地建立一个"),s("code",[e._v("develop2")]),e._v("（不同名）的分支与本地远程分支"),s("code",[e._v("origin/test")]),e._v("建立追踪关系，则应采用第一种方法。")]),e._v(" "),s("h2",{attrs:{id:"七、远程分支信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#七、远程分支信息"}},[e._v("#")]),e._v(" 七、远程分支信息")]),e._v(" "),s("p",[e._v("可以进入"),s("code",[e._v(".git")]),e._v("目录，查看储存远程分支信息的文件：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/64.png",alt:"image-20200417123200144"}})]),e._v(" "),s("h3",{attrs:{id:"_1-查看config文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-查看config文件"}},[e._v("#")]),e._v(" 1.查看"),s("code",[e._v("config")]),e._v("文件")]),e._v(" "),s("p",[e._v("使用"),s("code",[e._v("vim")]),e._v("编辑器打开该文件，可以查看到关于远程分支的信息：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/65.png",alt:"image-20200417123001405"}})]),e._v(" "),s("p",[e._v("可以看到"),s("code",[e._v("remote")]),e._v("这一栏中有两个信息，第一个是远程仓库的"),s("code",[e._v("url")]),e._v("，第二个是"),s("code",[e._v("fetch")]),e._v("信息，这两个信息尤为重要：")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("refs/heads/*")]),e._v("表示远程仓库的"),s("code",[e._v("refs/heads")]),e._v("目录下的所有引用都会写入到本地的"),s("code",[e._v("refs/remotes/origin")]),e._v("目录中；")]),e._v(" "),s("li",[e._v("其中的"),s("code",[e._v("+")]),e._v("号是可选的，加了表示无论是否能够自动合并，即是否为"),s("code",[e._v("Fast Forward")]),e._v("方式，都将远程仓库所有文件拉取到本地。")]),e._v(" "),s("li",[e._v("而不加"),s("code",[e._v("+")]),e._v("则表示如果不是"),s("code",[e._v("Fast Forward")]),e._v("方式就不拉取。一般情况下都是加上"),s("code",[e._v("+")]),e._v("号的，先把文件拉取到本地，不是"),s("code",[e._v("Fast Forward")]),e._v("方式就手动合并；")])]),e._v(" "),s("h3",{attrs:{id:"_2-查看refs文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-查看refs文件"}},[e._v("#")]),e._v(" 2.查看"),s("code",[e._v("refs")]),e._v("文件")]),e._v(" "),s("p",[s("code",[e._v("refs")]),e._v("文件夹存储着"),s("code",[e._v("refspec")]),e._v("的文件，里面维护着三个目录：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/66.png",alt:"image-20200417123302707"}})]),e._v(" "),s("ul",[s("li",[s("p",[s("strong",[e._v("第一个目录"),s("code",[e._v("heads")])]),e._v("：存储的是本地仓库的分支信息：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/67.png",alt:"image-20200417123344501"}})]),e._v(" "),s("p",[e._v("可以查看其中一个分支：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/68.png",alt:"image-20200417123406330"}})]),e._v(" "),s("p",[e._v("是一个"),s("code",[e._v("SHA1")]),e._v("值，表示分支就是一个指针，指向当前提交。")])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("第二个目录"),s("code",[e._v("remotes")])]),e._v("：里面存放着远程分支信息，远程仓库中也存在这样的目录与文件；")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/69.png",alt:"image-20200417123559607"}})]),e._v(" "),s("p",[e._v("从上图可以看到，远程分支只有"),s("code",[e._v("master")]),e._v("，没有"),s("code",[e._v("develop")]),e._v("（因为之前被删除了）。并且它们本质上也是一个代表提交的"),s("code",[e._v("SHA1")]),e._v("值：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/70.png",alt:"image-20200417125705684"}})]),e._v(" "),s("p",[e._v("建立"),s("code",[e._v("refspec")]),e._v("映射（即本地分支、本地远程分支、远程分支三者间对应关系）后，"),s("code",[e._v("git")]),e._v("会获取远端上"),s("code",[e._v("refs/heads")]),e._v("下的所有引用，并将它们写入本地的"),s("code",[e._v("refs/remotes/origin")]),e._v("目录下。所以，可以通过查看本地远程分支（如"),s("code",[e._v("origin/master")]),e._v("）的方式查看本地仓库最后一次访问远程仓库时，远程仓库"),s("code",[e._v("master")]),e._v("分支上的历史提交记录：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("//完整写法\ngit log refs/remotes/origin/master\n//进一步简写\ngit log remotes/origin/master\n//继续简写\ngit log origin/master\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br")])]),s("p",[e._v("上述两种省略的写法最终都会转换为完整的写法：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/71.png",alt:"image-20200417125810727"}})])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("第三个目录"),s("code",[e._v("tags")])]),e._v("：存放标签信息，也是一个"),s("code",[e._v("SHA1")]),e._v("值：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/72.png",alt:"image-20200417130027257"}})]),e._v(" "),s("p",[e._v("详细内容将在下一节介绍。")])])]),e._v(" "),s("h2",{attrs:{id:"八、删除远程分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#八、删除远程分支"}},[e._v("#")]),e._v(" 八、删除远程分支")]),e._v(" "),s("p",[e._v("如下图所示，远程仓库有三个分支"),s("code",[e._v("master")]),e._v("、"),s("code",[e._v("develop")]),e._v("和"),s("code",[e._v("test")]),e._v("：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/73.png",alt:"image-20200329125145378"}})]),e._v(" "),s("p",[e._v("通过前面的学习，我们知道通过下述指令可以删除本地"),s("code",[e._v("develop")]),e._v("分支：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git branch -d develop\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/74.png",alt:"image-20200329125322296"}})]),e._v(" "),s("p",[s("strong",[e._v("那么如何删除远程分支呢？")])]),e._v(" "),s("p",[e._v("首先我们来看看"),s("code",[e._v("git push")]),e._v("的完整写法：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git push origin srcBranch:destBranch\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("ul",[s("li",[s("p",[s("code",[e._v("srcBranch")]),e._v("表示本地的分支，"),s("code",[e._v("destBranch")]),e._v("表示对应的远程分支；")])]),e._v(" "),s("li",[s("p",[e._v("表示将本地的分支推送到远程分支，这两个分支可以不同；")])]),e._v(" "),s("li",[s("p",[e._v("之所以可以直接使用"),s("code",[e._v("git push")]),e._v("是因为我们设置的本地分支和远程分支的名字是"),s("strong",[e._v("相同的")]),e._v("，并且手动建立了联系，所以"),s("code",[e._v("git")]),e._v("能够自动识别；")])])]),e._v(" "),s("p",[e._v("明白了这点后，就不难理解下列删除远程分支的两种做法了：")]),e._v(" "),s("h3",{attrs:{id:"_1-git-push-origin-destbranch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-git-push-origin-destbranch"}},[e._v("#")]),e._v(" 1."),s("code",[e._v("git push origin :destBranch")])]),e._v(" "),s("p",[e._v("将空的分支推送到远程分支，这样就能将该远程分支删除；比如删除本地分支"),s("code",[e._v("develop")]),e._v("的远程分支：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git push origin :develop\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/75.png",alt:"image-20200417120547162"}})]),e._v(" "),s("p",[e._v("可以看到成功删除了远程分支"),s("code",[e._v("develop")]),e._v("以及它所对应的本地远程分支"),s("code",[e._v("origin/develop")]),e._v("。")]),e._v(" "),s("blockquote",[s("p",[e._v("**注意：**并不需要切换到需要删除远程分支的本地分支"),s("code",[e._v("develop")]),e._v("上，再执行上述指令。也就是说，可以在任意本地分支上删除任意本地分支对应的远程分支。")])]),e._v(" "),s("h3",{attrs:{id:"_2-git-push-origin-delete-destbranch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-git-push-origin-delete-destbranch"}},[e._v("#")]),e._v(" 2."),s("code",[e._v("git push origin --delete destBranch")])]),e._v(" "),s("p",[e._v("还可以采用更加直观的"),s("code",[e._v("--delete")]),e._v("参数，比如删除远程分支"),s("code",[e._v("develop")]),e._v("：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v(" git push origin --delete develop\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/76.png",alt:"image-20200417120853849"}})]),e._v(" "),s("p",[e._v("这两种方式是等价的，可根据需求选择。")]),e._v(" "),s("h3",{attrs:{id:"_3-git-remote-prune-origin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-git-remote-prune-origin"}},[e._v("#")]),e._v(" 3."),s("code",[e._v("git remote prune origin")])]),e._v(" "),s("p",[e._v("该方法用于删除无效的"),s("strong",[e._v("远程分支")]),e._v("对应的"),s("strong",[e._v("本地远程分支")]),e._v("，具体场合如下：")]),e._v(" "),s("p",[e._v("如图所示"),s("code",[e._v("mygit")]),e._v("与"),s("code",[e._v("mygit2")]),e._v("共享一个有三个分支的远程仓库：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/77.png",alt:"image-20200409230534065"}})]),e._v(" "),s("p",[e._v("首先在"),s("code",[e._v("mygit2")]),e._v("中删除远程仓库的"),s("code",[e._v("develop")]),e._v("分支，可以看到"),s("code",[e._v("mygit2")]),e._v("中远程分支"),s("code",[e._v("develop")]),e._v("对应的本地远程分支"),s("code",[e._v("origin/develop")]),e._v("被删除了：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/78.png",alt:"image-20200329161409609"}})]),e._v(" "),s("p",[e._v("然后在"),s("code",[e._v("mygit")]),e._v("中查看远程分支详细信息：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/79.png",alt:"image-20200329161520419"}})]),e._v(" "),s("p",[e._v("可以看到提示信息中显示远程分支"),s("code",[e._v("develop")]),e._v("对应的本地远程分支"),s("code",[e._v("origin/develop")]),e._v("处于"),s("code",[e._v("stale")]),e._v("（腐烂，游离）状态，即该分支对于"),s("code",[e._v("mygit")]),e._v("来说已经失效，可以使用:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git remote prune origin\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("（"),s("code",[e._v("prune")]),e._v("：裁剪）删除"),s("code",[e._v("mygit")]),e._v("上这个无效的本地远程分支：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/80.png",alt:"image-20200329161857475"}})]),e._v(" "),s("p",[e._v("再次查看分支信息，可发现"),s("code",[e._v("mygit")]),e._v("中的本地远程分支"),s("code",[e._v("origin/develop")]),e._v("已经被删除了：")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/81.png",alt:"image-20200329161939271"}})]),e._v(" "),s("blockquote",[s("p",[e._v("**注意：**一般本地远程分支设置了保护措施，不能随意删除；")])]),e._v(" "),s("h2",{attrs:{id:"九、重命名分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#九、重命名分支"}},[e._v("#")]),e._v(" 九、重命名分支")]),e._v(" "),s("h3",{attrs:{id:"_1-本地分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-本地分支"}},[e._v("#")]),e._v(" 1.本地分支")]),e._v(" "),s("p",[e._v("可以通过以下命令，将本地分支"),s("code",[e._v("dev")]),e._v("重命名为"),s("code",[e._v("develop")]),e._v("：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git branch -m dev develop\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"http://ahuntsun.gitee.io/blogimagebed/img/git/lesson7/82.png",alt:"image-20200407193850382"}})]),e._v(" "),s("h3",{attrs:{id:"_2-远程分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-远程分支"}},[e._v("#")]),e._v(" 2.远程分支")]),e._v(" "),s("p",[e._v("无法直接重命名远程分支，只能通过先删除原来的远程分支，再创建重命名后"),s("code",[e._v("develop")]),e._v("分支对应的远程分支，过程为：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("//删除远程分支dev\ngit push origin :dev\n//创建重命名后develop分支对应的远程分支\ngit push -u origin develop\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])]),s("p",[e._v("由此间接地完成了远程分支的重命名。")])])}),[],!1,null,null,null);t.default=i.exports}}]);