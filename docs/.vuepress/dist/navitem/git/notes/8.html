<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第八讲：Git标签、别名与Git gc | AhuntSun</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="https://blog-static.cnblogs.com/files/AhuntSun-blog/sun1.ico">
    <link rel="stylesheet" href="/css/style.css">
    <script charset="utf-8" src="/js/main.js"></script>
    <meta name="description" content="🌕今日事,今日毕🌕">
    <meta name="keywords" content="AhuntSun, vuepress博客, 学习, 分享">
    <meta name="author" content="AhuntSun">
    <link rel="preload" href="/assets/css/0.styles.265dc05e.css" as="style"><link rel="preload" href="/assets/js/app.3bec9c1b.js" as="script"><link rel="preload" href="/assets/js/2.39079bb7.js" as="script"><link rel="preload" href="/assets/js/107.6ec529aa.js" as="script"><link rel="prefetch" href="/assets/js/10.add3d082.js"><link rel="prefetch" href="/assets/js/100.057d6055.js"><link rel="prefetch" href="/assets/js/101.b29fc953.js"><link rel="prefetch" href="/assets/js/102.2572c9be.js"><link rel="prefetch" href="/assets/js/103.5c526eef.js"><link rel="prefetch" href="/assets/js/104.e6488636.js"><link rel="prefetch" href="/assets/js/105.a7c9ad92.js"><link rel="prefetch" href="/assets/js/106.36e314aa.js"><link rel="prefetch" href="/assets/js/108.fb65aab2.js"><link rel="prefetch" href="/assets/js/109.73ba07b8.js"><link rel="prefetch" href="/assets/js/11.1eb9cf4e.js"><link rel="prefetch" href="/assets/js/110.9b118aad.js"><link rel="prefetch" href="/assets/js/111.c71aa5f7.js"><link rel="prefetch" href="/assets/js/112.b5bb298f.js"><link rel="prefetch" href="/assets/js/113.bd4f0024.js"><link rel="prefetch" href="/assets/js/114.a699f37f.js"><link rel="prefetch" href="/assets/js/115.c5b495d2.js"><link rel="prefetch" href="/assets/js/116.6f3d4e7c.js"><link rel="prefetch" href="/assets/js/117.c56ceb44.js"><link rel="prefetch" href="/assets/js/118.11089bd0.js"><link rel="prefetch" href="/assets/js/119.5eca3d19.js"><link rel="prefetch" href="/assets/js/12.b46051f2.js"><link rel="prefetch" href="/assets/js/13.8e3b1d41.js"><link rel="prefetch" href="/assets/js/14.5b50d887.js"><link rel="prefetch" href="/assets/js/15.5944dae5.js"><link rel="prefetch" href="/assets/js/16.bb0e2ab9.js"><link rel="prefetch" href="/assets/js/17.b1d225ed.js"><link rel="prefetch" href="/assets/js/18.3a1853ca.js"><link rel="prefetch" href="/assets/js/19.5b3500a6.js"><link rel="prefetch" href="/assets/js/20.a82e1ea3.js"><link rel="prefetch" href="/assets/js/21.cc18f127.js"><link rel="prefetch" href="/assets/js/22.610951e3.js"><link rel="prefetch" href="/assets/js/23.064f805c.js"><link rel="prefetch" href="/assets/js/24.c202de18.js"><link rel="prefetch" href="/assets/js/25.eecff72d.js"><link rel="prefetch" href="/assets/js/26.9d667fb0.js"><link rel="prefetch" href="/assets/js/27.ab69dd88.js"><link rel="prefetch" href="/assets/js/28.925a6933.js"><link rel="prefetch" href="/assets/js/29.f9dd7695.js"><link rel="prefetch" href="/assets/js/3.93254602.js"><link rel="prefetch" href="/assets/js/30.244da86b.js"><link rel="prefetch" href="/assets/js/31.e1abfd47.js"><link rel="prefetch" href="/assets/js/32.d5ce5b2a.js"><link rel="prefetch" href="/assets/js/33.dac204a5.js"><link rel="prefetch" href="/assets/js/34.4606019c.js"><link rel="prefetch" href="/assets/js/35.7653b8ba.js"><link rel="prefetch" href="/assets/js/36.0e32baa9.js"><link rel="prefetch" href="/assets/js/37.b85ca083.js"><link rel="prefetch" href="/assets/js/38.8b396a88.js"><link rel="prefetch" href="/assets/js/39.7601379b.js"><link rel="prefetch" href="/assets/js/4.e00be33d.js"><link rel="prefetch" href="/assets/js/40.c7cc8f6d.js"><link rel="prefetch" href="/assets/js/41.e2d4c51e.js"><link rel="prefetch" href="/assets/js/42.099f5f31.js"><link rel="prefetch" href="/assets/js/43.53443cdb.js"><link rel="prefetch" href="/assets/js/44.29a624a7.js"><link rel="prefetch" href="/assets/js/45.9af6b45c.js"><link rel="prefetch" href="/assets/js/46.4bb5db42.js"><link rel="prefetch" href="/assets/js/47.980dc028.js"><link rel="prefetch" href="/assets/js/48.5466f130.js"><link rel="prefetch" href="/assets/js/49.616f7e67.js"><link rel="prefetch" href="/assets/js/5.0871711b.js"><link rel="prefetch" href="/assets/js/50.ac3091f5.js"><link rel="prefetch" href="/assets/js/51.c9172799.js"><link rel="prefetch" href="/assets/js/52.de5d30f3.js"><link rel="prefetch" href="/assets/js/53.dfa209c3.js"><link rel="prefetch" href="/assets/js/54.e962142d.js"><link rel="prefetch" href="/assets/js/55.ffe76555.js"><link rel="prefetch" href="/assets/js/56.aba421de.js"><link rel="prefetch" href="/assets/js/57.be2bc9cb.js"><link rel="prefetch" href="/assets/js/58.f3e222ec.js"><link rel="prefetch" href="/assets/js/59.0ef69410.js"><link rel="prefetch" href="/assets/js/6.5eef3512.js"><link rel="prefetch" href="/assets/js/60.2c2b14f6.js"><link rel="prefetch" href="/assets/js/61.b029d8e1.js"><link rel="prefetch" href="/assets/js/62.b0db3d01.js"><link rel="prefetch" href="/assets/js/63.a0416301.js"><link rel="prefetch" href="/assets/js/64.9ac24a92.js"><link rel="prefetch" href="/assets/js/65.3e45996c.js"><link rel="prefetch" href="/assets/js/66.576a58cd.js"><link rel="prefetch" href="/assets/js/67.ce26bdb2.js"><link rel="prefetch" href="/assets/js/68.0afc885c.js"><link rel="prefetch" href="/assets/js/69.54ee1588.js"><link rel="prefetch" href="/assets/js/7.bd9cbf37.js"><link rel="prefetch" href="/assets/js/70.12901dfb.js"><link rel="prefetch" href="/assets/js/71.4686b267.js"><link rel="prefetch" href="/assets/js/72.1b5aba8e.js"><link rel="prefetch" href="/assets/js/73.1d90e75d.js"><link rel="prefetch" href="/assets/js/74.5058673b.js"><link rel="prefetch" href="/assets/js/75.205b80ce.js"><link rel="prefetch" href="/assets/js/76.dbc88285.js"><link rel="prefetch" href="/assets/js/77.383fb255.js"><link rel="prefetch" href="/assets/js/78.101172c6.js"><link rel="prefetch" href="/assets/js/79.362989cb.js"><link rel="prefetch" href="/assets/js/8.53518c7c.js"><link rel="prefetch" href="/assets/js/80.dccd6a68.js"><link rel="prefetch" href="/assets/js/81.3da0691e.js"><link rel="prefetch" href="/assets/js/82.c544e288.js"><link rel="prefetch" href="/assets/js/83.cc0ec694.js"><link rel="prefetch" href="/assets/js/84.ccc07864.js"><link rel="prefetch" href="/assets/js/85.def5d7af.js"><link rel="prefetch" href="/assets/js/86.34d6b9f4.js"><link rel="prefetch" href="/assets/js/87.404db0e2.js"><link rel="prefetch" href="/assets/js/88.ec6493a6.js"><link rel="prefetch" href="/assets/js/89.440e8108.js"><link rel="prefetch" href="/assets/js/9.01997710.js"><link rel="prefetch" href="/assets/js/90.333f0ccd.js"><link rel="prefetch" href="/assets/js/91.a4b4926c.js"><link rel="prefetch" href="/assets/js/92.9d38f6ca.js"><link rel="prefetch" href="/assets/js/93.dba1ee5a.js"><link rel="prefetch" href="/assets/js/94.807f3e25.js"><link rel="prefetch" href="/assets/js/95.2f76024c.js"><link rel="prefetch" href="/assets/js/96.95f2b789.js"><link rel="prefetch" href="/assets/js/97.162bd2f0.js"><link rel="prefetch" href="/assets/js/98.ed1ddc87.js"><link rel="prefetch" href="/assets/js/99.d40596ea.js">
    <link rel="stylesheet" href="/assets/css/0.styles.265dc05e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">AhuntSun</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/navitem/git/" class="nav-link router-link-active">
  Git应用详解
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构与算法" class="dropdown-title"><span class="title">数据结构与算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          理论篇
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/navitem/algorithm/theory/" class="nav-link">
  JavaScript版基础知识
</a></li></ul></li><li class="dropdown-item"><h4>
          实战篇
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/navitem/algorithm/example/2offer/" class="nav-link">
  剑指offer
</a></li><li class="dropdown-subitem"><a href="/navitem/algorithm/example/leecode/" class="nav-link">
  leecode精选
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/navitem/article/" class="nav-link">
  好文转载
</a></div><div class="nav-item"><a href="/navitem/essay/" class="nav-link">
  随笔整合
</a></div><div class="nav-item"><a href="/navitem/demo/" class="nav-link">
  实战Demo
</a></div><div class="nav-item"><a href="/navitem/esun/" class="nav-link">
  eSun-UI
</a></div><div class="nav-item"><a href="/navitem/tech/" class="nav-link">
  编程技巧
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          在线编辑
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          在线服务
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://cubic-bezier.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  贝塞尔曲线
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://easings.net/en" target="_blank" rel="noopener noreferrer" class="nav-link external">
  加速度曲线速查
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实用网站" class="dropdown-title"><span class="title">实用网站</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/navitem/website/1/" class="nav-link">
  图片编辑
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/2/" class="nav-link">
  样式设计
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/3/" class="nav-link">
  论坛网站
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/4/" class="nav-link">
  在线学习
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/5/" class="nav-link">
  创新社区
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/6/" class="nav-link">
  优质图库
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/7/" class="nav-link">
  UI设计
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/8/" class="nav-link">
  工具网站
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/9/" class="nav-link">
  JavaScript库
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="联系我" class="dropdown-title"><span class="title">联系我</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/AhuntSun-blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客园
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/qq_43425487" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://juejin.im/user/5dea331b518825123e7ae8d4" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/AhuntSun" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/ahuntsun" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/navitem/git/" class="nav-link router-link-active">
  Git应用详解
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构与算法" class="dropdown-title"><span class="title">数据结构与算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          理论篇
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/navitem/algorithm/theory/" class="nav-link">
  JavaScript版基础知识
</a></li></ul></li><li class="dropdown-item"><h4>
          实战篇
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/navitem/algorithm/example/2offer/" class="nav-link">
  剑指offer
</a></li><li class="dropdown-subitem"><a href="/navitem/algorithm/example/leecode/" class="nav-link">
  leecode精选
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/navitem/article/" class="nav-link">
  好文转载
</a></div><div class="nav-item"><a href="/navitem/essay/" class="nav-link">
  随笔整合
</a></div><div class="nav-item"><a href="/navitem/demo/" class="nav-link">
  实战Demo
</a></div><div class="nav-item"><a href="/navitem/esun/" class="nav-link">
  eSun-UI
</a></div><div class="nav-item"><a href="/navitem/tech/" class="nav-link">
  编程技巧
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          在线编辑
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          在线服务
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://cubic-bezier.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  贝塞尔曲线
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://easings.net/en" target="_blank" rel="noopener noreferrer" class="nav-link external">
  加速度曲线速查
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实用网站" class="dropdown-title"><span class="title">实用网站</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/navitem/website/1/" class="nav-link">
  图片编辑
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/2/" class="nav-link">
  样式设计
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/3/" class="nav-link">
  论坛网站
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/4/" class="nav-link">
  在线学习
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/5/" class="nav-link">
  创新社区
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/6/" class="nav-link">
  优质图库
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/7/" class="nav-link">
  UI设计
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/8/" class="nav-link">
  工具网站
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/9/" class="nav-link">
  JavaScript库
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="联系我" class="dropdown-title"><span class="title">联系我</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/AhuntSun-blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客园
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/qq_43425487" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://juejin.im/user/5dea331b518825123e7ae8d4" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/AhuntSun" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/ahuntsun" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Git Tutorial</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/navitem/git/notes/1.html" class="sidebar-link">第一讲：Git 分区，配置与日志</a></li><li><a href="/navitem/git/notes/2.html" class="sidebar-link">第二讲：Git删除、修改、撤销操作</a></li><li><a href="/navitem/git/notes/3.html" class="sidebar-link">第三讲：本地分支的重要操作</a></li><li><a href="/navitem/git/notes/4.html" class="sidebar-link">第四讲：版本回退的三种方式与stash</a></li><li><a href="/navitem/git/notes/5.html" class="sidebar-link">第五讲：远程仓库Github与Git图形化界面</a></li><li><a href="/navitem/git/notes/6.html" class="sidebar-link">第六讲：Git协作与Git pull常见问题</a></li><li><a href="/navitem/git/notes/7.html" class="sidebar-link">第七讲：Git refspec与远程分支的重要操作</a></li><li><a href="/navitem/git/notes/8.html" aria-current="page" class="active sidebar-link">第八讲：Git标签、别名与Git gc</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/navitem/git/notes/8.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/navitem/git/notes/8.html#一、git标签-tag" class="sidebar-link">一、Git标签(tag)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/navitem/git/notes/8.html#_1-标签的实质" class="sidebar-link">1.标签的实质</a></li><li class="sidebar-sub-header"><a href="/navitem/git/notes/8.html#_2-创建标签" class="sidebar-link">2.创建标签</a></li><li class="sidebar-sub-header"><a href="/navitem/git/notes/8.html#_3-查看标签" class="sidebar-link">3.查看标签</a></li><li class="sidebar-sub-header"><a href="/navitem/git/notes/8.html#_4-查找标签" class="sidebar-link">4.查找标签</a></li><li class="sidebar-sub-header"><a href="/navitem/git/notes/8.html#_5-将标签推送到远程" class="sidebar-link">5.将标签推送到远程</a></li><li class="sidebar-sub-header"><a href="/navitem/git/notes/8.html#_6-删除远程标签" class="sidebar-link">6.删除远程标签</a></li><li class="sidebar-sub-header"><a href="/navitem/git/notes/8.html#_7-删除本地标签" class="sidebar-link">7.删除本地标签</a></li><li class="sidebar-sub-header"><a href="/navitem/git/notes/8.html#_8-切换标签" class="sidebar-link">8.切换标签</a></li><li class="sidebar-sub-header"><a href="/navitem/git/notes/8.html#_9-拉取标签" class="sidebar-link">9.拉取标签</a></li></ul></li><li class="sidebar-sub-header"><a href="/navitem/git/notes/8.html#二、git别名" class="sidebar-link">二、Git别名</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/navitem/git/notes/8.html#_1-设置git命令别名" class="sidebar-link">1.设置git命令别名</a></li><li class="sidebar-sub-header"><a href="/navitem/git/notes/8.html#_2-设置外部命令别名" class="sidebar-link">2.设置外部命令别名</a></li></ul></li><li class="sidebar-sub-header"><a href="/navitem/git/notes/8.html#三、垃圾回收：git-gc" class="sidebar-link">三、垃圾回收：Git gc</a></li></ul></li><li><a href="/navitem/git/notes/9.html" class="sidebar-link">第九讲：Git cherry-pick与Git rebase</a></li><li><a href="/navitem/git/notes/10.html" class="sidebar-link">第十讲：Git子库：submodule与subtree</a></li><li><a href="/navitem/git/notes/11.html" class="sidebar-link">第十一讲：Git工作流Gitflow</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="第八讲：git标签、别名与git-gc"><a href="#第八讲：git标签、别名与git-gc" class="header-anchor">#</a> 第八讲：Git标签、别名与Git gc</h1> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>这一节主要介绍<code>Git</code>标签、别名与<code>Git</code>的垃圾回收机制。</p> <h2 id="一、git标签-tag"><a href="#一、git标签-tag" class="header-anchor">#</a> 一、<code>Git</code>标签(<code>tag</code>)</h2> <h3 id="_1-标签的实质"><a href="#_1-标签的实质" class="header-anchor">#</a> 1.标签的实质</h3> <p>标签与分支十分相似，都是指向某一次提交；并且，它们的值都为各自指向提交的<code>SHA1</code>值；但是，不同于会随着提交的变化而变化的分支，一旦给某次提交添加了标签，该标签就永远不会发生变化。</p> <p>**注意：**标签标识的是某一次提交，这次提交可以是任何分支上的任何一次提交。</p> <h4 id="两类标签"><a href="#两类标签" class="header-anchor">#</a> 两类标签</h4> <p><code>Git</code>标签有两种：</p> <ul><li><strong>轻量级标签</strong>（<code>lightweight</code>）：不可添加注释；</li> <li><strong>带有附注的标签</strong>（<code>annotated</code>）：可以添加注释；</li></ul> <blockquote><p>Annotated tags are meant for release while lightweight tags are meant for private or temporary object labels.</p></blockquote> <p>以上是<code>git</code>官方文档对两种标签的说明，大意是：带注释的标签用于发布，而轻量级标签则用于私人或临时对象。</p> <p><strong>什么时候打标签呢？</strong></p> <ul><li><p>**版本发布：**一般<code>master</code>分支都会作为项目的发布分支，当项目开发到了一个成熟的阶段，准备在<code>master</code>分支进行发布时。一般都会在<code>master</code>分支的当前提交上打上一个类似&quot;<code>v1.2</code>&quot;的标签；</p> <p>比如<code>Vue</code>框架：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/1.png" alt="image-20200418125541646"></p> <p>可以看到有许多标签，并且可以在<code>releases</code>选项中查看标签和发布版本：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/2.png" alt="image-20200418125721571"></p></li> <li><p>**版本管理：**可以通过标签的形式记录项目某一阶段的状态，方便管理；</p> <p>比如管理学习微信小程序时每个知识点的代码：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/3.png" alt="image-20200418165957032"></p></li></ul> <h4 id="查看标签文件"><a href="#查看标签文件" class="header-anchor">#</a> <strong>查看标签文件</strong></h4> <p>如下图所示，分别给<code>master</code>分支的提交<code>mas2</code>添加一个轻量级标签<code>v1.0</code>和一个带有附注的标签<code>v2.0</code>：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/4.png" alt="image-20200418122516160"></p> <blockquote><p><code>git dog</code>为<code>git log --all --decorate --oneline --graph</code>的别名，后面会讲解；</p></blockquote> <p>随后，查看存储标签文件的<code>.git/refs/tags</code>目录：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/5.png" alt="image-20200418123105227"></p> <p>可以看到：</p> <ul><li><code>tags</code>目录下存储着添加的标签文件<code>v1.0</code>和<code>v2.0</code>；</li> <li>分别打开标签文件<code>v1.0</code>和<code>v2.0</code>，它们的值都是一个<code>SHA1</code>值，并且与添加标签时所在提交<code>mas2</code>的<code>SHA1</code>值<code>6920a6e...</code>相等。</li> <li><code>emm...</code>等等！并不相等呀，只有<code>v1.0</code>的值与提交<code>mas2</code>的<code>SHA1</code>值相等，而与<code>v2.0</code>的值并不相等！</li> <li>为什么给同一次提交<code>mas2</code>添加的标签，它们的<code>SHA1</code>值会不相等呢？这是因为<code>v1.0</code>是轻量级标签，而<code>v2.0</code>是带有附注的标签。</li></ul> <p>虽然两个标签标记的都是同一次提交，但是它们的构造不一样：</p> <ul><li><p>轻量级标签<code>v1.0</code>直接将这次提交的<code>SHA1</code>值作为自己的<code>SHA1</code>值；</p></li> <li><p>而带附注的标签<code>v2.0</code>会创建一个<code>tag</code>对象，它的<code>SHA1</code>值是<code>tag</code>对象的<code>SHA1</code>值；</p></li></ul> <p>这就是轻量级标签与带有附注标签的区别。不过这两个标签仍然会指向同一次提交，如下图所示：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/6.png" alt="image-20200418124847587"></p> <h3 id="_2-创建标签"><a href="#_2-创建标签" class="header-anchor">#</a> 2.创建标签</h3> <h4 id="git-tag-tag-name"><a href="#git-tag-tag-name" class="header-anchor">#</a> <code>git tag &lt;tag_name&gt;</code></h4> <p>创建一个轻量级标签：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/7.png" alt="image-20200311143441005"></p> <h4 id="git-tag-a-tag-name-m-注释"><a href="#git-tag-a-tag-name-m-注释" class="header-anchor">#</a> <code>git tag -a &lt;tag_name&gt; -m '注释'</code></h4> <p>创建一个带有附注的标签：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/8.png" alt="image-20200311143555121"></p> <h3 id="_3-查看标签"><a href="#_3-查看标签" class="header-anchor">#</a> 3.查看标签</h3> <h4 id="git-tag"><a href="#git-tag" class="header-anchor">#</a> <code>git tag</code></h4> <p>显示添加的所有标签：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/9.png" alt="image-20200418140044357"></p> <p>也可以添加<code>--list</code>参数：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/10.png" alt="image-20200418140101235"></p> <p>如下图所示：切换了分支<code>tag</code>仍然存在，说明<code>tag</code>与分支并没有关系，它标识的是某次特定的提交：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/11.png" alt="image-20200418140210619"></p> <h4 id="git-show-tag-name"><a href="#git-show-tag-name" class="header-anchor">#</a> <code>git show &lt;tag_name&gt;</code></h4> <p>如图所示，在<code>master</code>分支上进行两次提交，每次为文件<code>test.txt</code>添加一行内容并且打上标签。其中<code>v1.0</code>为轻量级标签，<code>v2.0</code>为带有附注的标签：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/12.png" alt="image-20200418164206660"></p> <p>随后，使用<code>git show</code>查看标签的内容：</p> <ul><li><p><strong>轻量级标签：</strong></p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/13.png" alt="image-20200418164502188"></p> <p>如图所示，该指令会显示标签<code>v1.0</code>所指向的提交；并且，会输出标签指向提交与上一次提交的比较结果；由于标签<code>v1.0</code>指向的提交为<code>master</code>分支的第一次提交，所以上一次提交为<code>null</code>。因此比较结果显示：相比于上一次提交，标签指向的提交<code>1st</code>在文件<code>test.txt</code>中新增了一行<code>1st</code>；</p></li> <li><p><strong>带注释的标签：</strong></p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/14.png" alt="image-20200418165301312"></p> <p>相比于轻量级标签，带附注的标签是一个对象，可以存储附注和打标签的人和时间等信息，所以显示的信息多一些；从图中的比较结果可知，相比于上一次提交<code>1st</code>，标签<code>v2.0</code>指向的提交<code>2nd</code>为文件<code>test.txt</code>新增了一行<code>2nd</code>；</p></li></ul> <h3 id="_4-查找标签"><a href="#_4-查找标签" class="header-anchor">#</a> 4.查找标签</h3> <h4 id="git-tag-l-tag-name"><a href="#git-tag-l-tag-name" class="header-anchor">#</a> <code>git tag -l &lt;tag_name&gt;</code></h4> <p>该方式支持正则表达式查找；</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/15.png" alt="image-20200418140732354"></p> <p>如上图所示：</p> <ul><li><code>v*</code>表示搜索所有以<code>v</code>开头的标签；</li> <li><code>?2*</code>表示搜索任意开头，但包含<code>2</code>的标签；</li></ul> <h3 id="_5-将标签推送到远程"><a href="#_5-将标签推送到远程" class="header-anchor">#</a> 5.将标签推送到远程</h3> <p>要将标签推送到远程仓库，首先要建立本地仓库与远程仓库的联系，比如可以采用：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git push -u origin master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>建立本地<code>master</code>分支与远程<code>master</code>分支的联系，并进行一次推送：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/16.png" alt="image-20200418143423585"></p> <h4 id="git-push-origin-tag-name"><a href="#git-push-origin-tag-name" class="header-anchor">#</a> <code>git push origin &lt;tag_name&gt;</code></h4> <p>这种方法可以推送指定的本地标签到远程仓库，例如将本地<code>master</code>分支上的标签<code>v1.0</code>推送到远程仓库：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/17.png" alt="image-20200418143541273"></p> <p>执行上述指令后，对应的远程仓库<code>gitTest</code>中就会出现相应的<code>tag</code>信息了：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/18.png" alt="image-20200418143927912"></p> <p>也可以在<code>releases</code>选项中，查看<code>tag</code>和<code>Releases</code>信息：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/19.png" alt="image-20200418144230515"></p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/20.png" alt="image-20200418144207107"></p> <p><strong>也可以同时推送多个本地标签到远程仓库</strong>：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git push origin  v2.0 v3.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/21.png" alt="image-20200418144612359"></p> <p>以上的命令都是简写形式，<strong>完整写法为：</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git push origin refs/tags/v4.0:refs/tags/v4.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/22.png" alt="image-20200418144755135"></p> <h5 id="git-push-origin-tag"><a href="#git-push-origin-tag" class="header-anchor">#</a> <code>git push origin --tag</code></h5> <p>该方法可以一次性推送所有的本地标签到远程仓库：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/23.png" alt="image-20200418144952994"></p> <p>也可以采用简写命令：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//下面的tag可以写成tags，效果一样
git push --tag
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/24.png" alt="image-20200418145049074"></p> <h3 id="_6-删除远程标签"><a href="#_6-删除远程标签" class="header-anchor">#</a> 6.删除远程标签</h3> <p>当然，我们可以直接在远程仓库上删除远程标签。但是，最好的方式还是采用命令行进行删除。删除远程标签的方法与删除远程分支的方法非常类似，同样有两种方法：</p> <h4 id="git-push-origin-tag-name-2"><a href="#git-push-origin-tag-name-2" class="header-anchor">#</a> <code>git push origin :&lt;tag_name&gt;</code></h4> <p>这种方法相当于推送一个空的标签到远程仓库，由此达到删除的效果。比如删除远程仓库中的标签<code>v3.0</code>：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git push origin :v3.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/25.png" alt="image-20200418154504982"></p> <p>这样远程仓库中的标签<code>V3.0</code>就被删除了：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/26.png" alt="image-20200418154554319"></p> <p>但是本地仓库中对应的标签<code>V3.0</code>并没有被删除：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/27.png" alt="image-20200418154631370"></p> <p>上述指令为简写，<strong>完整写法如下</strong>：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git push origin :refs/tags/v3.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/28.png" alt="image-20200418154906969"></p> <h4 id="git-push-origin-delete-tag-name"><a href="#git-push-origin-delete-tag-name" class="header-anchor">#</a> <code>git push origin --delete &lt;tag_name&gt;</code></h4> <p>该方法采用了更加语义化的参数<code>--delete</code>，实现远程标签的删除：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git push origin --delete v2.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/29.png" alt="image-20200418155134748"></p> <p>同样成功地删除了远程仓库中的标签<code>v2.0</code>：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/30.png" alt="image-20200418155216230"></p> <p>但是，本地的标签<code>v2.0</code>也没有被删除：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/31.png" alt="image-20200418155311429"></p> <p>采用下列的完整写法，效果是一样的：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git push origin --delete tag v2.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/32.png" alt="image-20200418155513090"></p> <blockquote><p>不难发现，删除<strong>远程分支</strong>和<strong>远程标签</strong>的方法是<strong>一样</strong>的。</p></blockquote> <h3 id="_7-删除本地标签"><a href="#_7-删除本地标签" class="header-anchor">#</a> 7.删除本地标签</h3> <h4 id="git-tag-d-tag-name"><a href="#git-tag-d-tag-name" class="header-anchor">#</a> <code>git tag -d &lt;tag_name&gt;</code></h4> <p>如通过以下命令删除标签<code>v3.0</code>：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git tag -d v3.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/33.png" alt="image-20200418155616562"></p> <h3 id="_8-切换标签"><a href="#_8-切换标签" class="header-anchor">#</a> 8.切换标签</h3> <h4 id="git-checkout-tag-name"><a href="#git-checkout-tag-name" class="header-anchor">#</a> <code>git checkout &lt;tag_name&gt;</code></h4> <p>如图所示，在<code>master</code>分支上进行了三次提交，并且添加了相应的标签：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/34.png" alt="image-20200418161353146"></p> <p>当我们通过<code>checkout</code>命令切换到标签<code>v2.0</code>时：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/35.png" alt="image-20200418161526176"></p> <p>可见，会出现游离的提交。此时查看各分支状态：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/36.png" alt="image-20200418161655468"></p> <p>如上图所示，当前处于标签<code>v2.0</code>指向的提交，并且切换标签的过程中改变了<code>HEAD</code>指针的指向。但是，并没有改变分支<code>master</code>的指向。过程如下图所示：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/37.png" alt="image-20200418162458123"></p> <p>也就是说，切换标签与使用<code>reset</code>进行版本回退十分相似。只不过切换标签只改变了<code>HEAD</code>指针的指向，会造成游离的提交。若有需要可以创建一个新分支进行保存。</p> <h3 id="_9-拉取标签"><a href="#_9-拉取标签" class="header-anchor">#</a> 9.拉取标签</h3> <p>在下图所示的情况中，本地仓库<code>mygit</code>与远程仓库有公共的提交历史（同源），并且不发生合并冲突的情况下（具体可参考<a href="https://www.cnblogs.com/AhuntSun-blog/p/12713666.html" target="_blank" rel="noopener noreferrer">Git应用详解第六讲：Git协作与Git pull常见问题<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>）：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/38.png" alt="image-20200418160517111"></p> <p>可以直接通过<code>git pull</code>将远程仓库的标签拉取下来，并创建本地仓库中没有的标签：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/39.png" alt="image-20200418160737829"></p> <h2 id="二、git别名"><a href="#二、git别名" class="header-anchor">#</a> 二、<code>Git</code>别名</h2> <h3 id="_1-设置git命令别名"><a href="#_1-设置git命令别名" class="header-anchor">#</a> 1.设置<code>git</code>命令别名</h3> <h4 id="git-config-作用域-alias-别名-命令"><a href="#git-config-作用域-alias-别名-命令" class="header-anchor">#</a> <code>git config &lt;作用域&gt; alias.&lt;别名&gt; '&lt;命令&gt;'</code></h4> <p>别名就是一个替代，使用一个简短的字符串来代替常用的长命令。比如可以通过如下命令，使用别名<code>bra</code>来替代<code>branch</code>命令：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git config --global alias.bra branch 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/40.png" alt="image-20200417184645237"></p> <p>当命令较为简短时，可以省略命令两边的单引号：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/41.png" alt="image-20200417184803691"></p> <p>在上述命令中：</p> <ul><li><p><code>--global</code>表示设置的别名作用域为系统用户，即该用户对所有的<code>git</code>仓库都可以使用这个别名；其余还有仓库作用域<code>--loacl</code>，系统作用域<code>--system</code>；</p></li> <li><p><code>alias.br</code>表示更改别名为<code>br</code>；</p></li> <li><p>再往后的<code>branch</code>表示需要起别名的命令，可以是带参数的长命令，此时不能省略命令两边的单引号：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git config --global alias.dog 'log --all --decorate --oneline --graph'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/42.png" alt="image-20200413171109680"></p></li></ul> <p>由于上面配置的别名作用域为系统用户，该配置会写入<code>gitconfig</code>配置文件。打开该文件可以看到写入的<strong>别名配置</strong>：</p> <blockquote><p>**补充：**使用<code>vi ~/.gitconfig</code>可以直接打开<code>gitconfig</code>这个文件（记得加点），无论当前所处的路径是什么；</p></blockquote> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/43.png" alt="image-20200417185537264"></p> <p>也就是说可以直接通过修改<code>gitconfig</code>文件的<code>alias</code>选项来设置别名，但是<strong>不建议</strong>。</p> <p>这样，通过别名就可以简化一些常用的命令了，比如<code>git status</code>、<code>git checkout</code>等：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/44.png" alt="image-20200417185854925"></p> <h3 id="_2-设置外部命令别名"><a href="#_2-设置外部命令别名" class="header-anchor">#</a> 2.设置外部命令别名</h3> <p>像<code>gitk</code>这样的外部命令，是没有<code>git</code>前缀的。设置别名的方法与设置<code>git</code>提供的命令有所不同，要按照如下格式设置：</p> <h4 id="git-config-作用域-alias-别名-外部命令"><a href="#git-config-作用域-alias-别名-外部命令" class="header-anchor">#</a> <code>git config &lt;作用域&gt; alias.&lt;别名&gt; '&lt;!外部命令&gt;'</code></h4> <ul><li>感叹号表示这是一个外部命令；</li> <li>注意要加上单引号，不用加<code>git</code>前缀；</li></ul> <p>比如在系统用户作用域下，将<code>git ui</code>设置为<code>gitk</code>的别名：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> git config --global alias.ui '!gitk'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>设置完成后，该配置会被写入系统用户的配置文件<code>gitconfig</code>中：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/45.png" alt="image-20200417190632295"></p> <p>随后直接使用<code>git ui</code>便能打开<code>gitk</code>界面：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/46.png" alt="image-20200417190558949"></p> <p>**补充：**设置了别名后，原来的命令仍然有效。</p> <h2 id="三、垃圾回收：git-gc"><a href="#三、垃圾回收：git-gc" class="header-anchor">#</a> 三、垃圾回收：<code>Git gc</code></h2> <p>所谓<code>gc</code>就是垃圾回收机制，实际使用较少；它的作用是<strong>清理不必要的文件并优化本地存储库</strong>。</p> <p>为了演示它的作用，设置以下测试环境：</p> <ul><li><p>首先，在本地仓库<code>mygit</code>创建<code>master</code>和<code>dev</code>两个分支，并将它们推送到远程仓库：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/47.png" alt="image-20200418105755292"></p></li> <li><p>然后，给本地仓库<code>mygit</code>添加一个轻量级标签<code>v1.0</code>和一个带有附注的标签<code>v2.0</code>：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/48.png" alt="image-20200418110041381"></p></li></ul> <p>此时<code>.git/refs</code>目录下的各文件如下所示：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/49.png" alt="image-20200418110228125"></p> <p><code>heads</code>目录存储的是本地分支信息，<code>remote</code>目录存储的是远程分支信息，<code>tags</code>目录存储的是标签信息，符合预期。</p> <p>随后，执行<code>git gc</code>命令：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/50.png" alt="image-20200418110332080"></p> <p>再次查看<code>.git/refs</code>目录：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/51.png" alt="image-20200418110544449"></p> <p>可以看到<code>refs</code>目录及其子目录下的文件消失了，但是<code>.git</code>目录下多了一个<code>packed-refs</code>文件。事实上，<code>refs</code>目录下的文件不是消失了，而是被打包到了<code>packed-refs</code>文件中。打开<code>packed-refs</code>文件：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/git/lesson8/52.png" alt="image-20200418111206150"></p> <p>可以看到执行<code>git gc</code>后<code>refs</code>目录及其子目录下的文件都被<strong>压缩打包</strong>到<code>packed-refs</code>文件中了。从图中可以看到轻量级标签<code>v1.0</code>只占一行，而带附注的标签<code>v2.0</code>占两行：</p> <ul><li>其中第<code>6</code>行和第<code>8</code>行的<code>SHA1</code>值是相同的，这是因为两个标签都是给同一次提交上添加的；</li> <li>而带附注的标签<code>v2.0</code>中的另外一行信息（第<code>7</code>行）表示的则是<code>tag</code>对象的<code>SHA1</code>值；</li></ul> <p>打包完之后，再次<strong>修改文件</strong>，或者<strong>添加分支</strong>，新增的内容还是会在<code>.git/refs</code>目录下显示，而不会被打包到<code>packed-refs</code>文件中，需要重新执行<code>git gc</code>才会被打包。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新于:</span> <span class="time">2020年6月13日星期六晚上7点32分</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/navitem/git/notes/7.html" class="prev">
        第七讲：Git refspec与远程分支的重要操作
      </a></span> <span class="next"><a href="/navitem/git/notes/9.html">
        第九讲：Git cherry-pick与Git rebase
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.3bec9c1b.js" defer></script><script src="/assets/js/2.39079bb7.js" defer></script><script src="/assets/js/107.6ec529aa.js" defer></script>
  </body>
</html>
