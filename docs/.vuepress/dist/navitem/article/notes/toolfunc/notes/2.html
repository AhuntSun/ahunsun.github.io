<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>30 seconds of code | AhuntSun</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="https://blog-static.cnblogs.com/files/AhuntSun-blog/sun1.ico">
    <link rel="stylesheet" href="/css/style.css">
    <script charset="utf-8" src="/js/main.js"></script>
    <meta name="description" content="🌕今日事,今日毕🌕">
    <meta name="keywords" content="AhuntSun, vuepress博客, 学习, 分享">
    <meta name="author" content="AhuntSun">
    <link rel="preload" href="/assets/css/0.styles.265dc05e.css" as="style"><link rel="preload" href="/assets/js/app.fa91b959.js" as="script"><link rel="preload" href="/assets/js/2.39079bb7.js" as="script"><link rel="preload" href="/assets/js/76.15d4fd09.js" as="script"><link rel="prefetch" href="/assets/js/10.1ecb730e.js"><link rel="prefetch" href="/assets/js/100.057d6055.js"><link rel="prefetch" href="/assets/js/101.b29fc953.js"><link rel="prefetch" href="/assets/js/102.2572c9be.js"><link rel="prefetch" href="/assets/js/103.3b27ad94.js"><link rel="prefetch" href="/assets/js/104.3731fbd3.js"><link rel="prefetch" href="/assets/js/105.cb297d6a.js"><link rel="prefetch" href="/assets/js/106.d79f70f0.js"><link rel="prefetch" href="/assets/js/107.6ec529aa.js"><link rel="prefetch" href="/assets/js/108.3566585a.js"><link rel="prefetch" href="/assets/js/109.59135cfa.js"><link rel="prefetch" href="/assets/js/11.eb662343.js"><link rel="prefetch" href="/assets/js/110.9b118aad.js"><link rel="prefetch" href="/assets/js/111.c71aa5f7.js"><link rel="prefetch" href="/assets/js/112.8142b94e.js"><link rel="prefetch" href="/assets/js/113.540ffb1c.js"><link rel="prefetch" href="/assets/js/114.f3bd426f.js"><link rel="prefetch" href="/assets/js/115.c5b495d2.js"><link rel="prefetch" href="/assets/js/116.6f3d4e7c.js"><link rel="prefetch" href="/assets/js/117.c56ceb44.js"><link rel="prefetch" href="/assets/js/118.11089bd0.js"><link rel="prefetch" href="/assets/js/119.5518b9d2.js"><link rel="prefetch" href="/assets/js/12.aff27046.js"><link rel="prefetch" href="/assets/js/13.c714a593.js"><link rel="prefetch" href="/assets/js/14.27a905ab.js"><link rel="prefetch" href="/assets/js/15.3311906a.js"><link rel="prefetch" href="/assets/js/16.f448b7f3.js"><link rel="prefetch" href="/assets/js/17.79eaf1cb.js"><link rel="prefetch" href="/assets/js/18.291883e2.js"><link rel="prefetch" href="/assets/js/19.f9e6592b.js"><link rel="prefetch" href="/assets/js/20.9fe3ff9e.js"><link rel="prefetch" href="/assets/js/21.332dcadf.js"><link rel="prefetch" href="/assets/js/22.610951e3.js"><link rel="prefetch" href="/assets/js/23.064f805c.js"><link rel="prefetch" href="/assets/js/24.79f3867d.js"><link rel="prefetch" href="/assets/js/25.854e1127.js"><link rel="prefetch" href="/assets/js/26.7439a990.js"><link rel="prefetch" href="/assets/js/27.ab69dd88.js"><link rel="prefetch" href="/assets/js/28.4181486c.js"><link rel="prefetch" href="/assets/js/29.8397b8b5.js"><link rel="prefetch" href="/assets/js/3.93254602.js"><link rel="prefetch" href="/assets/js/30.d79e8342.js"><link rel="prefetch" href="/assets/js/31.d5dfa86b.js"><link rel="prefetch" href="/assets/js/32.1ade938c.js"><link rel="prefetch" href="/assets/js/33.d61273e9.js"><link rel="prefetch" href="/assets/js/34.8a191435.js"><link rel="prefetch" href="/assets/js/35.7653b8ba.js"><link rel="prefetch" href="/assets/js/36.3e25377a.js"><link rel="prefetch" href="/assets/js/37.f60e252a.js"><link rel="prefetch" href="/assets/js/38.8b396a88.js"><link rel="prefetch" href="/assets/js/39.7601379b.js"><link rel="prefetch" href="/assets/js/4.e00be33d.js"><link rel="prefetch" href="/assets/js/40.c7cc8f6d.js"><link rel="prefetch" href="/assets/js/41.e2d4c51e.js"><link rel="prefetch" href="/assets/js/42.099f5f31.js"><link rel="prefetch" href="/assets/js/43.53443cdb.js"><link rel="prefetch" href="/assets/js/44.29a624a7.js"><link rel="prefetch" href="/assets/js/45.9af6b45c.js"><link rel="prefetch" href="/assets/js/46.adee921b.js"><link rel="prefetch" href="/assets/js/47.bf15b401.js"><link rel="prefetch" href="/assets/js/48.5466f130.js"><link rel="prefetch" href="/assets/js/49.960f7b28.js"><link rel="prefetch" href="/assets/js/5.a930f096.js"><link rel="prefetch" href="/assets/js/50.6642e135.js"><link rel="prefetch" href="/assets/js/51.c9172799.js"><link rel="prefetch" href="/assets/js/52.de5d30f3.js"><link rel="prefetch" href="/assets/js/53.dfa209c3.js"><link rel="prefetch" href="/assets/js/54.e962142d.js"><link rel="prefetch" href="/assets/js/55.ffe76555.js"><link rel="prefetch" href="/assets/js/56.aba421de.js"><link rel="prefetch" href="/assets/js/57.be2bc9cb.js"><link rel="prefetch" href="/assets/js/58.4fa385b9.js"><link rel="prefetch" href="/assets/js/59.08364f7c.js"><link rel="prefetch" href="/assets/js/6.1478a3fe.js"><link rel="prefetch" href="/assets/js/60.de6987d0.js"><link rel="prefetch" href="/assets/js/61.b029d8e1.js"><link rel="prefetch" href="/assets/js/62.b0db3d01.js"><link rel="prefetch" href="/assets/js/63.a0416301.js"><link rel="prefetch" href="/assets/js/64.b935dd46.js"><link rel="prefetch" href="/assets/js/65.4b54e880.js"><link rel="prefetch" href="/assets/js/66.576a58cd.js"><link rel="prefetch" href="/assets/js/67.ce26bdb2.js"><link rel="prefetch" href="/assets/js/68.0afc885c.js"><link rel="prefetch" href="/assets/js/69.54ee1588.js"><link rel="prefetch" href="/assets/js/7.e86023fc.js"><link rel="prefetch" href="/assets/js/70.1111e4c8.js"><link rel="prefetch" href="/assets/js/71.fcb90950.js"><link rel="prefetch" href="/assets/js/72.858fb8c4.js"><link rel="prefetch" href="/assets/js/73.1d90e75d.js"><link rel="prefetch" href="/assets/js/74.d8b8c368.js"><link rel="prefetch" href="/assets/js/75.205b80ce.js"><link rel="prefetch" href="/assets/js/77.383fb255.js"><link rel="prefetch" href="/assets/js/78.101172c6.js"><link rel="prefetch" href="/assets/js/79.85945a06.js"><link rel="prefetch" href="/assets/js/8.8a37f718.js"><link rel="prefetch" href="/assets/js/80.dccd6a68.js"><link rel="prefetch" href="/assets/js/81.3da0691e.js"><link rel="prefetch" href="/assets/js/82.c544e288.js"><link rel="prefetch" href="/assets/js/83.cc0ec694.js"><link rel="prefetch" href="/assets/js/84.29d8cfe1.js"><link rel="prefetch" href="/assets/js/85.37444f84.js"><link rel="prefetch" href="/assets/js/86.34d6b9f4.js"><link rel="prefetch" href="/assets/js/87.404db0e2.js"><link rel="prefetch" href="/assets/js/88.ec6493a6.js"><link rel="prefetch" href="/assets/js/89.2edd5b9b.js"><link rel="prefetch" href="/assets/js/9.8b9e3f10.js"><link rel="prefetch" href="/assets/js/90.a7284eff.js"><link rel="prefetch" href="/assets/js/91.a4b4926c.js"><link rel="prefetch" href="/assets/js/92.9d38f6ca.js"><link rel="prefetch" href="/assets/js/93.dba1ee5a.js"><link rel="prefetch" href="/assets/js/94.b67f4d3d.js"><link rel="prefetch" href="/assets/js/95.2f76024c.js"><link rel="prefetch" href="/assets/js/96.95f2b789.js"><link rel="prefetch" href="/assets/js/97.162bd2f0.js"><link rel="prefetch" href="/assets/js/98.0bc45b52.js"><link rel="prefetch" href="/assets/js/99.d40596ea.js">
    <link rel="stylesheet" href="/assets/css/0.styles.265dc05e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">AhuntSun</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/navitem/git/" class="nav-link">
  Git应用详解
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构与算法" class="dropdown-title"><span class="title">数据结构与算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          理论篇
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/navitem/algorithm/theory/" class="nav-link">
  JavaScript版基础知识
</a></li></ul></li><li class="dropdown-item"><h4>
          实战篇
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/navitem/algorithm/example/2offer/" class="nav-link">
  剑指offer
</a></li><li class="dropdown-subitem"><a href="/navitem/algorithm/example/leecode/" class="nav-link">
  leecode精选
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/navitem/article/" class="nav-link router-link-active">
  好文转载
</a></div><div class="nav-item"><a href="/navitem/essay/" class="nav-link">
  随笔整合
</a></div><div class="nav-item"><a href="/navitem/demo/" class="nav-link">
  实战Demo
</a></div><div class="nav-item"><a href="/navitem/esun/" class="nav-link">
  eSun-UI
</a></div><div class="nav-item"><a href="/navitem/tech/" class="nav-link">
  编程技巧
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          在线编辑
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          在线服务
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://cubic-bezier.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  贝塞尔曲线
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://easings.net/en" target="_blank" rel="noopener noreferrer" class="nav-link external">
  加速度曲线速查
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实用网站" class="dropdown-title"><span class="title">实用网站</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/navitem/website/1/" class="nav-link">
  图片编辑
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/2/" class="nav-link">
  样式设计
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/3/" class="nav-link">
  论坛网站
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/4/" class="nav-link">
  在线学习
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/5/" class="nav-link">
  创新社区
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/6/" class="nav-link">
  优质图库
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/7/" class="nav-link">
  UI设计
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/8/" class="nav-link">
  工具网站
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/9/" class="nav-link">
  JavaScript库
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="联系我" class="dropdown-title"><span class="title">联系我</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/AhuntSun-blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客园
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/qq_43425487" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://juejin.im/user/5dea331b518825123e7ae8d4" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/AhuntSun" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/ahuntsun" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/navitem/git/" class="nav-link">
  Git应用详解
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构与算法" class="dropdown-title"><span class="title">数据结构与算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          理论篇
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/navitem/algorithm/theory/" class="nav-link">
  JavaScript版基础知识
</a></li></ul></li><li class="dropdown-item"><h4>
          实战篇
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/navitem/algorithm/example/2offer/" class="nav-link">
  剑指offer
</a></li><li class="dropdown-subitem"><a href="/navitem/algorithm/example/leecode/" class="nav-link">
  leecode精选
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/navitem/article/" class="nav-link router-link-active">
  好文转载
</a></div><div class="nav-item"><a href="/navitem/essay/" class="nav-link">
  随笔整合
</a></div><div class="nav-item"><a href="/navitem/demo/" class="nav-link">
  实战Demo
</a></div><div class="nav-item"><a href="/navitem/esun/" class="nav-link">
  eSun-UI
</a></div><div class="nav-item"><a href="/navitem/tech/" class="nav-link">
  编程技巧
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          在线编辑
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          在线服务
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://cubic-bezier.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  贝塞尔曲线
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://easings.net/en" target="_blank" rel="noopener noreferrer" class="nav-link external">
  加速度曲线速查
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实用网站" class="dropdown-title"><span class="title">实用网站</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/navitem/website/1/" class="nav-link">
  图片编辑
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/2/" class="nav-link">
  样式设计
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/3/" class="nav-link">
  论坛网站
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/4/" class="nav-link">
  在线学习
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/5/" class="nav-link">
  创新社区
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/6/" class="nav-link">
  优质图库
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/7/" class="nav-link">
  UI设计
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/8/" class="nav-link">
  工具网站
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/9/" class="nav-link">
  JavaScript库
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="联系我" class="dropdown-title"><span class="title">联系我</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/AhuntSun-blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客园
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/qq_43425487" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://juejin.im/user/5dea331b518825123e7ae8d4" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/AhuntSun" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/ahuntsun" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Utility Function</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/navitem/article/notes/toolfunc/notes/1.html" class="sidebar-link">269个JavaScript工具函数</a></li><li><a href="/navitem/article/notes/toolfunc/notes/2.html" aria-current="page" class="active sidebar-link">30 seconds of code</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#内容目录" class="sidebar-link">内容目录</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#数组" class="sidebar-link">数组</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#浏览器" class="sidebar-link">浏览器</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#时间" class="sidebar-link">时间</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#函数" class="sidebar-link">函数</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#数学" class="sidebar-link">数学</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#媒体" class="sidebar-link">媒体</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#节点" class="sidebar-link">节点</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#对象" class="sidebar-link">对象</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#字符串" class="sidebar-link">字符串</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#工具" class="sidebar-link">工具</a></li></ul></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#数组-2" class="sidebar-link">数组</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#arraymax" class="sidebar-link">arrayMax</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#arraymin" class="sidebar-link">arrayMin</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#chunk" class="sidebar-link">chunk</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#compact" class="sidebar-link">compact</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#countoccurrences" class="sidebar-link">countOccurrences</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#deepflatten" class="sidebar-link">deepFlatten</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#difference" class="sidebar-link">difference</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#distinctvaluesofarray" class="sidebar-link">distinctValuesOfArray</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#dropelements" class="sidebar-link">dropElements</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#everynth" class="sidebar-link">everyNth</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#filternonunique" class="sidebar-link">filterNonUnique</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#flatten" class="sidebar-link">flatten</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#flattendepth" class="sidebar-link">flattenDepth</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#groupby" class="sidebar-link">groupby</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#head" class="sidebar-link">head</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#initial" class="sidebar-link">initial</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#initializearraywithrange" class="sidebar-link">initializeArrayWithRange</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#initializearraywithvalues" class="sidebar-link">initializeArrayWithValues</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#intersection" class="sidebar-link">intersection</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#last" class="sidebar-link">last</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#mapobject" class="sidebar-link">mapObject</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#nthelement" class="sidebar-link">nthElement</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#pick" class="sidebar-link">pick</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#pull" class="sidebar-link">pull</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#remove" class="sidebar-link">remove</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#sample" class="sidebar-link">sample</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#shuffle" class="sidebar-link">shuffle</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#similarity" class="sidebar-link">similarity</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#symmetricdifference" class="sidebar-link">symmetricDifference</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#tail" class="sidebar-link">tail</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#take" class="sidebar-link">take</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#takeright" class="sidebar-link">takeRight</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#union" class="sidebar-link">union</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#without" class="sidebar-link">without</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#zip" class="sidebar-link">zip</a></li></ul></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#浏览器-2" class="sidebar-link">浏览器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#bottomvisible" class="sidebar-link">bottomVisible</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#currenturl" class="sidebar-link">currentURL</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#elementisvisibleinviewport" class="sidebar-link">elementIsVisibleInViewport</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#getscrollposition" class="sidebar-link">getScrollPosition</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#geturlparameters" class="sidebar-link">getURLParameters</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#redirect" class="sidebar-link">redirect</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#scrolltotop" class="sidebar-link">scrollToTop</a></li></ul></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#日期" class="sidebar-link">日期</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#getdaysdiffbetweendates" class="sidebar-link">getDaysDiffBetweenDates</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#jsontodate" class="sidebar-link">JSONToDate</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#toenglishdate" class="sidebar-link">toEnglishDate</a></li></ul></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#功能" class="sidebar-link">功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#chainasync" class="sidebar-link">chainAsync</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#compose" class="sidebar-link">compose</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#curry" class="sidebar-link">curry</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#functionname" class="sidebar-link">functionName</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#pipe" class="sidebar-link">pipe</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#promisify" class="sidebar-link">promisify</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#runpromisesinseries" class="sidebar-link">runPromisesInSeries</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#sleep" class="sidebar-link">sleep</a></li></ul></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#数学-2" class="sidebar-link">数学</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#arrayaverage" class="sidebar-link">arrayAverage</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#arraysum" class="sidebar-link">arraySum</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#collatz" class="sidebar-link">collatz</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#collatz-2" class="sidebar-link">collatz</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#digitize" class="sidebar-link">digitize</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#distance" class="sidebar-link">distance</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#fibonacci" class="sidebar-link">fibonacci</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#gcd" class="sidebar-link">gcd</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#hammingdistance" class="sidebar-link">hammingDistance</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#isdivisible" class="sidebar-link">isDivisible</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#iseven" class="sidebar-link">iseven</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#lcm" class="sidebar-link">lcm</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#median" class="sidebar-link">median</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#palindrome" class="sidebar-link">palindrome</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#percentile" class="sidebar-link">percentile</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#powerset" class="sidebar-link">powerset</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#randomintegerinrange" class="sidebar-link">randomIntegerInRange</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#randomnumberinrange" class="sidebar-link">randomNumberInRange</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#round" class="sidebar-link">round</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#standarddeviation" class="sidebar-link">standardDeviation</a></li></ul></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#媒体-2" class="sidebar-link">媒体</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#speechsynthesis" class="sidebar-link">speechSynthesis</a></li></ul></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#节点-2" class="sidebar-link">节点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#jsontofile" class="sidebar-link">JSONToFile</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#readfilelines" class="sidebar-link">readFileLines</a></li></ul></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#对象-2" class="sidebar-link">对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#cleanobj" class="sidebar-link">cleanObj</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#objectfrompairs" class="sidebar-link">objectFromPairs</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#objecttopairs" class="sidebar-link">objectToPairs</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#shallowclone" class="sidebar-link">shallowClone</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#truthcheckcollection" class="sidebar-link">truthCheckCollection</a></li></ul></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#字符串-2" class="sidebar-link">字符串</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#anagrams" class="sidebar-link">anagrams</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#capitalize" class="sidebar-link">Capitalize</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#capitalizeeveryword" class="sidebar-link">capitalizeEveryWord</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#escaperegexp" class="sidebar-link">escapeRegExp</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#fromcamelcase" class="sidebar-link">fromCamelCase</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#reversestring" class="sidebar-link">reverseString</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#sortcharactersinstring" class="sidebar-link">sortCharactersInString</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#tocamelcase" class="sidebar-link">toCamelCase</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#truncatestring" class="sidebar-link">truncateString</a></li></ul></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#实用" class="sidebar-link">实用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#coalesce" class="sidebar-link">coalesce</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#coalescefactory" class="sidebar-link">coalesceFactory</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#extendhex" class="sidebar-link">extendHex</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#gettype" class="sidebar-link">gettype</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#hextorgb" class="sidebar-link">hexToRGB</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#isarray" class="sidebar-link">isArray</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#isboolean" class="sidebar-link">isBoolean</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#isfunction" class="sidebar-link">isFunction</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#isnumber" class="sidebar-link">isNumber</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#isstring" class="sidebar-link">isString</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#issymbol" class="sidebar-link">isSymbol</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#rgbtohex" class="sidebar-link">RGBToHex</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#timetaken" class="sidebar-link">timeTaken</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#toordinalsuffix" class="sidebar-link">toOrdinalSuffix</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#uuidgenerator" class="sidebar-link">UUIDGenerator</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#validateemail" class="sidebar-link">validateEmail</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#validatenumber" class="sidebar-link">validateNumber</a></li></ul></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/toolfunc/notes/2.html#credits" class="sidebar-link">Credits</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_30-seconds-of-code"><a href="#_30-seconds-of-code" class="header-anchor">#</a> 30 seconds of code</h1> <blockquote><p>收集有用的 Javascript 片段, 你可以在30秒或更少的时间里理解。</p></blockquote> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/vuepress/article/logo.png" alt="Logo"></p> <ul><li>使用<kbd>Ctrl</kbd> + <kbd>F</kbd> 或 <kbd>command</kbd> + <kbd>F</kbd>搜索代码段。</li> <li>欢迎投稿, 请阅读<a href="/navitem/article/notes/toolfunc/notes/CONTRIBUTING.html">投稿指南</a>。</li> <li>代码段是在 ES6 中编写的, 请使用<a href="https://babeljs.io/" target="_blank" rel="noopener noreferrer">Babel transpiler<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>确保向后兼容。</li></ul> <p>感谢作者分享了大量有用的Javascript片段,本文为中文版翻译，下面一起来看看有哪些精彩的JavaScript代码值得收藏。</p> <p>原文：<a href="https://github.com/Chalarangelo/30-seconds-of-code" target="_blank" rel="noopener noreferrer">https://github.com/Chalarangelo/30-seconds-of-code<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>作者：<a href="https://github.com/Chalarangelo" target="_blank" rel="noopener noreferrer">Chalarangelo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>翻译：<a href="http://caibaojian.com/30-seconds-of-code.html" target="_blank" rel="noopener noreferrer">http://caibaojian.com/30-seconds-of-code.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>译者：<a href="http://caibaojian.com/" target="_blank" rel="noopener noreferrer">蔡宝坚<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>本文翻译为前端开发博客所有，如有需要转载，请详细注明以上信息。</p> <h2 id="内容目录"><a href="#内容目录" class="header-anchor">#</a> 内容目录</h2> <h3 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h3> <ul><li><a href="#arraymax"><code>arrayMax</code></a></li> <li><a href="#arraymin"><code>arrayMin</code></a></li> <li><a href="#chunk"><code>chunk</code></a></li> <li><a href="#compact"><code>compact</code></a></li> <li><a href="#countoccurrences"><code>countOccurrences</code></a></li> <li><a href="#deepflatten"><code>deepFlatten</code></a></li> <li><a href="#difference"><code>difference</code></a></li> <li><a href="#distinctvaluesofarray"><code>distinctValuesOfArray</code></a></li> <li><a href="#dropelements"><code>dropElements</code></a></li> <li><a href="#everynth"><code>everyNth</code></a></li> <li><a href="#filternonunique"><code>filterNonUnique</code></a></li> <li><a href="#flatten"><code>flatten</code></a></li> <li><a href="#flattendepth"><code>flattenDepth</code></a></li> <li><a href="#groupby"><code>groupBy</code></a></li> <li><a href="#head"><code>head</code></a></li> <li><a href="#initial"><code>initial</code></a></li> <li><a href="#initializearraywithrange"><code>initializeArrayWithRange</code></a></li> <li><a href="#initializearraywithvalues"><code>initializeArrayWithValues</code></a></li> <li><a href="#intersection"><code>intersection</code></a></li> <li><a href="#last"><code>last</code></a></li> <li><a href="#mapobject"><code>mapObject</code></a></li> <li><a href="#nthelement"><code>nthElement</code></a></li> <li><a href="#pick"><code>pick</code></a></li> <li><a href="#pull"><code>pull</code></a></li> <li><a href="#remove"><code>remove</code></a></li> <li><a href="#sample"><code>sample</code></a></li> <li><a href="#shuffle"><code>shuffle</code></a></li> <li><a href="#similarity"><code>similarity</code></a></li> <li><a href="#symmetricdifference"><code>symmetricDifference</code></a></li> <li><a href="#tail"><code>tail</code></a></li> <li><a href="#take"><code>take</code></a></li> <li><a href="#takeright"><code>takeRight</code></a></li> <li><a href="#union"><code>union</code></a></li> <li><a href="#without"><code>without</code></a></li> <li><a href="#zip"><code>zip</code></a></li></ul> <h3 id="浏览器"><a href="#浏览器" class="header-anchor">#</a> 浏览器</h3> <ul><li><a href="#bottomvisible"><code>bottomVisible</code></a></li> <li><a href="#currenturl"><code>currentURL</code></a></li> <li><a href="#elementisvisibleinviewport"><code>elementIsVisibleInViewport</code></a></li> <li><a href="#getscrollposition"><code>getScrollPosition</code></a></li> <li><a href="#geturlparameters"><code>getURLParameters</code></a></li> <li><a href="#redirect"><code>redirect</code></a></li> <li><a href="#scrolltotop"><code>scrollToTop</code></a></li></ul> <h3 id="时间"><a href="#时间" class="header-anchor">#</a> 时间</h3> <ul><li><a href="#getdaysdiffbetweendates"><code>getDaysDiffBetweenDates</code></a></li> <li><a href="#jsontodate"><code>JSONToDate</code></a></li> <li><a href="#toenglishdate"><code>toEnglishDate</code></a></li></ul> <h3 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h3> <ul><li><a href="#chainasync"><code>chainAsync</code></a></li> <li><a href="#compose"><code>compose</code></a></li> <li><a href="#curry"><code>curry</code></a></li> <li><a href="#functionname"><code>functionName</code></a></li> <li><a href="#pipe"><code>pipe</code></a></li> <li><a href="#promisify"><code>promisify</code></a></li> <li><a href="#runpromisesinseries"><code>runPromisesInSeries</code></a></li> <li><a href="#sleep"><code>sleep</code></a></li></ul> <h3 id="数学"><a href="#数学" class="header-anchor">#</a> 数学</h3> <ul><li><a href="#arrayaverage"><code>arrayAverage</code></a></li> <li><a href="#arraysum"><code>arraySum</code></a></li> <li><a href="#collatz"><code>collatz</code></a></li> <li><a href="#digitize"><code>digitize</code></a></li> <li><a href="#distance"><code>distance</code></a></li> <li><a href="#factorial"><code>factorial</code></a></li> <li><a href="#fibonacci"><code>fibonacci</code></a></li> <li><a href="#gcd"><code>gcd</code></a></li> <li><a href="#hammingdistance"><code>hammingDistance</code></a></li> <li><a href="#isdivisible"><code>isDivisible</code></a></li> <li><a href="#iseven"><code>isEven</code></a></li> <li><a href="#lcm"><code>lcm</code></a></li> <li><a href="#median"><code>median</code></a></li> <li><a href="#palindrome"><code>palindrome</code></a></li> <li><a href="#percentile"><code>percentile</code></a></li> <li><a href="#powerset"><code>powerset</code></a></li> <li><a href="#randomintegerinrange"><code>randomIntegerInRange</code></a></li> <li><a href="#randomnumberinrange"><code>randomNumberInRange</code></a></li> <li><a href="#round"><code>round</code></a></li> <li><a href="#standarddeviation"><code>standardDeviation</code></a></li></ul> <h3 id="媒体"><a href="#媒体" class="header-anchor">#</a> 媒体</h3> <ul><li><a href="#speechsynthesis"><code>speechSynthesis</code></a></li></ul> <h3 id="节点"><a href="#节点" class="header-anchor">#</a> 节点</h3> <ul><li><a href="#jsontofile"><code>JSONToFile</code></a></li> <li><a href="#readfilelines"><code>readFileLines</code></a></li></ul> <h3 id="对象"><a href="#对象" class="header-anchor">#</a> 对象</h3> <ul><li><a href="#cleanobj"><code>cleanObj</code></a></li> <li><a href="#objectfrompairs"><code>objectFromPairs</code></a></li> <li><a href="#objecttopairs"><code>objectToPairs</code></a></li> <li><a href="#shallowclone"><code>shallowClone</code></a></li> <li><a href="#truthcheckcollection"><code>truthCheckCollection</code></a></li></ul> <h3 id="字符串"><a href="#字符串" class="header-anchor">#</a> 字符串</h3> <ul><li><a href="#anagrams"><code>anagrams</code></a></li> <li><a href="#capitalize"><code>capitalize</code></a></li> <li><a href="#capitalizeeveryword"><code>capitalizeEveryWord</code></a></li> <li><a href="#escaperegexp"><code>escapeRegExp</code></a></li> <li><a href="#fromcamelcase"><code>fromCamelCase</code></a></li> <li><a href="#reversestring"><code>reverseString</code></a></li> <li><a href="#sortcharactersinstring"><code>sortCharactersInString</code></a></li> <li><a href="#tocamelcase"><code>toCamelCase</code></a></li> <li><a href="#truncatestring"><code>truncateString</code></a></li></ul> <h3 id="工具"><a href="#工具" class="header-anchor">#</a> 工具</h3> <ul><li><a href="#coalesce"><code>coalesce</code></a></li> <li><a href="#coalescefactory"><code>coalesceFactory</code></a></li> <li><a href="#extendhex"><code>extendHex</code></a></li> <li><a href="#gettype"><code>getType</code></a></li> <li><a href="#hextorgb"><code>hexToRGB</code></a></li> <li><a href="#isarray"><code>isArray</code></a></li> <li><a href="#isboolean"><code>isBoolean</code></a></li> <li><a href="#isfunction"><code>isFunction</code></a></li> <li><a href="#isnumber"><code>isNumber</code></a></li> <li><a href="#isstring"><code>isString</code></a></li> <li><a href="#issymbol"><code>isSymbol</code></a></li> <li><a href="#rgbtohex"><code>RGBToHex</code></a></li> <li><a href="#timetaken"><code>timeTaken</code></a></li> <li><a href="#toordinalsuffix"><code>toOrdinalSuffix</code></a></li> <li><a href="#uuidgenerator"><code>UUIDGenerator</code></a></li> <li><a href="#validateemail"><code>validateEmail</code></a></li> <li><a href="#validatenumber"><code>validateNumber</code></a></li></ul> <h2 id="数组-2"><a href="#数组-2" class="header-anchor">#</a> 数组</h2> <p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="arraymax"><a href="#arraymax" class="header-anchor">#</a> arrayMax</h3> <p>返回数组中的最大值。</p> <p>将<code>Math.max()</code>与扩展运算符 (<code>...</code>) 结合使用以获取数组中的最大值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">arrayMax</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// arrayMax([10, 1, 5]) -&gt; 10</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="arraymin"><a href="#arraymin" class="header-anchor">#</a> arrayMin</h3> <p>返回数组中的最小值。</p> <p>将<code>Math.min()</code>与扩展运算符 (<code>...</code>) 结合使用以获取数组中的最小值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">arrayMin</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// arrayMin([10, 1, 5]) -&gt; 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="chunk"><a href="#chunk" class="header-anchor">#</a> chunk</h3> <p>将数组块划分为指定大小的较小数组。</p> <p>使用<code>Array.from()</code>创建新的数组, 这符合将生成的区块数。使用<code>Array.slice()</code>将新数组的每个元素映射到<code>size</code>长度的区块。如果原始数组不能均匀拆分, 则最终的块将包含剩余的元素。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">chunk</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> size</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span>length<span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">/</span> size<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>i <span class="token operator">*</span> size<span class="token punctuation">,</span> i <span class="token operator">*</span> size <span class="token operator">+</span> size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// chunk([1,2,3,4,5], 2) -&gt; [[1,2],[3,4],[5]]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="compact"><a href="#compact" class="header-anchor">#</a> compact</h3> <p>从数组中移除 falsey 值。</p> <p>使用<code>Array.filter()</code>筛选出 falsey 值 (<code>false</code>、<code>null</code>、<code>0</code>、<code>&quot;&quot;</code>、<code>undefined</code>和<code>NaN</code>).</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">compact</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>Boolean<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// compact([0, 1, false, 2, '', 3, 'a', 'e'*23, NaN, 's', 34]) -&gt; [ 1, 2, 3, 'a', 's', 34 ]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="countoccurrences"><a href="#countoccurrences" class="header-anchor">#</a> countOccurrences</h3> <p>计算数组中值的出现次数。</p> <p>使用<code>Array.reduce()</code>在每次遇到数组中的特定值时递增计数器。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">countOccurrences</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> v <span class="token operator">===</span> value <span class="token operator">?</span> a <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">:</span> a <span class="token operator">+</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// countOccurrences([1,1,2,1,2,3], 1) -&gt; 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="deepflatten"><a href="#deepflatten" class="header-anchor">#</a> deepFlatten</h3> <p>深拼合数组。</p> <p>使用递归。使用<code>Array.concat()</code>与空数组 (<code>[]</code>) 和跨页运算符 (<code>...</code>) 来拼合数组。递归拼合作为数组的每个元素。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">deepFlatten</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">deepFlatten</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">:</span> v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// deepFlatten([1,[2],[[3],4],5]) -&gt; [1,2,3,4,5]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="difference"><a href="#difference" class="header-anchor">#</a> difference</h3> <p>返回两个数组之间的差异。</p> <p>从<code>b</code>创建<code>Set</code>, 然后使用<code>Array.filter()</code> on 只保留<code>a</code> <code>b</code>中不包含的值.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">difference</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>s<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// difference([1,2,3], [1,2,4]) -&gt; [3]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="distinctvaluesofarray"><a href="#distinctvaluesofarray" class="header-anchor">#</a> distinctValuesOfArray</h3> <p>返回数组的所有不同值。</p> <p>使用 ES6 <code>Set</code>和<code>...rest</code>运算符放弃所有重复的值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">distinctValuesOfArray</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// distinctValuesOfArray([1,2,2,3,4,4,5]) -&gt; [1,2,3,4,5]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="dropelements"><a href="#dropelements" class="header-anchor">#</a> dropElements</h3> <p>移除数组中的元素, 直到传递的函数返回<code>true</code>。返回数组中的其余元素。
在数组中循环, 使用<code>Array.shift()</code>将数组的第一个元素除去, 直到函数的返回值为<code>true</code>。返回其余元素。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">dropElements</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> func</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">func</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> arr<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// dropElements([1, 2, 3, 4], n =&gt; n &gt;= 3) -&gt; [3,4]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="everynth"><a href="#everynth" class="header-anchor">#</a> everyNth</h3> <p>返回数组中的每个第 n 个元素。</p> <p>使用<code>Array.filter()</code>创建一个包含给定数组的每个第 n 个元素的新数组。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">everyNth</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> nth</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> i <span class="token operator">%</span> nth <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// everyNth([1,2,3,4,5,6], 2) -&gt; [ 1, 3, 5 ]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="filternonunique"><a href="#filternonunique" class="header-anchor">#</a> filterNonUnique</h3> <p>筛选出数组中的非唯一值。</p> <p>对于只包含唯一值的数组, 请使用<code>Array.filter()</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">filterNonUnique</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">i</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">===</span> arr<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// filterNonUnique([1,2,2,3,4,4,5]) -&gt; [1,3,5]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="flatten"><a href="#flatten" class="header-anchor">#</a> flatten</h3> <p>拼合数组。</p> <p>使用<code>Array.reduce()</code>获取数组中的所有元素和<code>concat()</code>以拼合它们。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">flatten</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// flatten([1,[2],3,4]) -&gt; [1,2,3,4]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="flattendepth"><a href="#flattendepth" class="header-anchor">#</a> flattenDepth</h3> <p>将数组向上拼合到指定深度。</p> <p>使用递归, 递减<code>depth</code>, 每层深度为1。使用<code>Array.reduce()</code>和<code>Array.concat()</code>来合并元素或数组。基本情况下, 对于等于<code>1</code>的<code>depth</code>停止递归。省略第二个元素,<code>depth</code>仅拼合到<code>1</code>的深度 (单个拼合)。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">flattenDepth</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> depth <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
depth <span class="token operator">!=</span> <span class="token number">1</span> <span class="token operator">?</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">flattenDepth</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> depth <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> v<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">:</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// flattenDepth([1,[2],[[[3],4],5]], 2) -&gt; [1,2,[3],4,5]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="groupby"><a href="#groupby" class="header-anchor">#</a> groupby</h3> <p>根据给定函数对数组元素进行分组。</p> <p>使用<code>Array.map()</code>将数组的值映射到函数或属性名。使用<code>Array.reduce()</code>创建一个对象, 其中的键是从映射的结果生成的。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">groupBy</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> func</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> func <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">?</span> <span class="token function-variable function">func</span> <span class="token operator">:</span> <span class="token parameter">val</span> <span class="token operator">=&gt;</span> val<span class="token punctuation">[</span>func<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> val<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> acc<span class="token punctuation">[</span>val<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>acc<span class="token punctuation">[</span>val<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> acc<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// groupBy([6.1, 4.2, 6.3], Math.floor) -&gt; {4: [4.2], 6: [6.1, 6.3]}</span>
<span class="token comment">// groupBy(['one', 'two', 'three'], 'length') -&gt; {3: ['one', 'two'], 5: ['three']}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="head"><a href="#head" class="header-anchor">#</a> head</h3> <p>返回列表的头。</p> <p>使用<code>arr[0]</code>可返回传递的数组的第一个元素。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">head</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// head([1,2,3]) -&gt; 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="initial"><a href="#initial" class="header-anchor">#</a> initial</h3> <p>返回除最后一个数组之外的所有元素。</p> <p>使用 &quot;<code>arr.slice(0,-1)</code>&quot; 返回数组的最后一个元素。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">initial</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// initial([1,2,3]) -&gt; [1,2]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="initializearraywithrange"><a href="#initializearraywithrange" class="header-anchor">#</a> initializeArrayWithRange</h3> <p>初始化包含指定范围内的数字的数组。</p> <p>使用<code>Array(end-start)</code>创建所需长度的数组<code>Array.map()</code>以填充区域中所需的值。可以省略<code>start</code>以使用默认值<code>0</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">initializeArrayWithRange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">end<span class="token punctuation">,</span> start <span class="token operator">=</span> <span class="token number">0</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> length<span class="token operator">:</span> end <span class="token operator">-</span> start <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> i <span class="token operator">+</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// initializeArrayWithRange(5) -&gt; [0,1,2,3,4]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="initializearraywithvalues"><a href="#initializearraywithvalues" class="header-anchor">#</a> initializeArrayWithValues</h3> <p>初始化并填充具有指定值的数组。</p> <p>使用<code>Array(n)</code>创建所需长度的数组,<code>fill(v)</code>以填充所需的值。可以省略<code>value</code>以使用默认值<code>0</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">initializeArrayWithValues</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token number">0</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">Array</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// initializeArrayWithValues(5, 2) -&gt; [2,2,2,2,2]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="intersection"><a href="#intersection" class="header-anchor">#</a> intersection</h3> <p>返回两个数组中存在的元素的列表。</p> <p>从<code>b</code>创建<code>Set</code>, 然后使用<code>Array.filter()</code>on <code>a</code>只保留<code>b</code>中包含的值.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">intersection</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> s<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// intersection([1,2,3], [4,3,2]) -&gt; [2,3]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="last"><a href="#last" class="header-anchor">#</a> last</h3> <p>返回数组中的最后一个元素。</p> <p>使用<code>arr.length - 1</code>可计算给定数组的最后一个元素的索引并返回它。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">last</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">[</span>arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// last([1,2,3]) -&gt; 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="mapobject"><a href="#mapobject" class="header-anchor">#</a> mapObject</h3> <p>使用函数将数组的值映射到对象, 其中键值对由原始值作为键和映射值组成。</p> <p>使用匿名内部函数范围来声明未定义的内存空间, 使用闭包来存储返回值。使用新的<code>Array</code>可将该数组与函数的映射放在其数据集上, 而逗号运算符返回第二个步骤, 而不需要从一个上下文移动到另一个环境 (由于关闭和操作顺序)。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">mapObject</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> 
<span class="token punctuation">(</span><span class="token parameter">a</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">,</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span>val<span class="token punctuation">,</span>ind</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>acc<span class="token punctuation">[</span>val<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>ind<span class="token punctuation">]</span><span class="token punctuation">,</span> acc<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*
const squareIt = arr =&gt; mapObject(arr, a =&gt; a*a)
squareIt([1,2,3]) // { 1: 1, 2: 4, 3: 9 }
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="nthelement"><a href="#nthelement" class="header-anchor">#</a> nthElement</h3> <p>返回数组的第 n 个元素。</p> <p>使用<code>Array.slice()</code>可获取包含第 n 个元素的数组。如果索引超出界限, 则返回<code>[]</code>。省略第二个参数<code>n</code>, 以获取数组的第一个元素。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">nthElement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> n<span class="token operator">=</span><span class="token number">0</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>n<span class="token operator">&gt;</span><span class="token number">0</span><span class="token operator">?</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// nthElement(['a','b','c'],1) -&gt; 'b'</span>
<span class="token comment">// nthElement(['a','b','b'],-3) -&gt; 'a'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="pick"><a href="#pick" class="header-anchor">#</a> pick</h3> <p>从对象中选取对应于给定键的键值对。</p> <p>使用<code>Array.reduce()</code>将筛选/选取的密钥转换回具有相应键值对的对象 (如果在 obj 中存在该键)。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">pick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> curr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>curr <span class="token keyword">in</span> obj <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>acc<span class="token punctuation">[</span>curr<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>curr<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> acc<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// pick({ 'a': 1, 'b': '2', 'c': 3 }, ['a', 'c']) -&gt; { 'a': 1, 'c': 3 }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="pull"><a href="#pull" class="header-anchor">#</a> pull</h3> <p>对原始数组进行变异, 以筛选出指定的值。</p> <p>使用<code>Array.filter()</code>和<code>Array.includes()</code>来拉出不需要的值。使用<code>Array.length = 0</code>可将传入的数组中的长度重置为零, 并将其设置为<code>Array.push()</code>, 以便仅使用所提取的值填充它。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">pull</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">let</span> pulled <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>args<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> pulled<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// let myArray = ['a', 'b', 'c', 'a', 'b', 'c'];</span>
<span class="token comment">// pull(myArray, 'a', 'c');</span>
<span class="token comment">// console.log(myArray) -&gt; [ 'b', 'b' ]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="remove"><a href="#remove" class="header-anchor">#</a> remove</h3> <p>从数组中移除给定函数返回<code>false</code>的元素.
使用<code>Array.filter()</code>查找返回 truthy 值的数组元素和<code>Array.reduce()</code>以使用<code>Array.splice()</code>删除元素。使用三参数 (<code>func</code> <code>value, index, array</code>调用函数).</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">remove</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> func</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">?</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> acc<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// remove([1, 2, 3, 4], n =&gt; n % 2 == 0) -&gt; [2, 4]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="sample"><a href="#sample" class="header-anchor">#</a> sample</h3> <p>返回数组中的随机元素。</p> <p>使用<code>Math.random()</code>生成一个随机数, 将它与<code>length</code>相乘, 并使用数学将其舍入到最接近的整数<code>Math.floor()</code>。此方法也适用于字符串。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">sample</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// sample([3, 7, 9, 11]) -&gt; 9</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="shuffle"><a href="#shuffle" class="header-anchor">#</a> shuffle</h3> <p>随机数组值的顺序。</p> <p>使用<code>Array.sort()</code>可在比较器中使用<code>Math.random()</code>重新排序元素。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">shuffle</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// shuffle([1,2,3]) -&gt; [2,3,1]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="similarity"><a href="#similarity" class="header-anchor">#</a> similarity</h3> <p>返回两个数组中都显示的元素的数组。</p> <p>使用<code>filter()</code>可删除不属于<code>values</code>的值, 使用<code>includes()</code>确定.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">similarity</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> values</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> values<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// similarity([1,2,3], [1,2,4]) -&gt; [1,2]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="symmetricdifference"><a href="#symmetricdifference" class="header-anchor">#</a> symmetricDifference</h3> <p>返回两个数组之间的对称差。</p> <p>从每个数组创建一个<code>Set</code>, 然后对它们中的每一个都使用<code>Array.filter()</code>, 以便只保留其他值中不包含的数值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">symmetricDifference</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> sA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> sB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>sB<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">...</span>b<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>sA<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// symmetricDifference([1,2,3], [1,2,4]) -&gt; [3,4]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="tail"><a href="#tail" class="header-anchor">#</a> tail</h3> <p>返回数组中的所有元素, 除第一个。</p> <p>如果数组的<code>length</code>大于<code>1</code>, 则返回<code>arr.slice(1)</code>, 否则返回整个数组。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">tail</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">?</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> arr<span class="token punctuation">;</span>
<span class="token comment">// tail([1,2,3]) -&gt; [2,3]</span>
<span class="token comment">// tail([1]) -&gt; [1]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="take"><a href="#take" class="header-anchor">#</a> take</h3> <p>返回一个数组, 其中 n 个元素从开始处移除。</p> <p>使用<code>Array.slice()</code>创建数组的切片, 其中包含从开始处取出的<code>n</code>元素。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">take</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// take([1, 2, 3], 5) -&gt; [1, 2, 3]</span>
<span class="token comment">// take([1, 2, 3], 0) -&gt; []</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="takeright"><a href="#takeright" class="header-anchor">#</a> takeRight</h3> <p>返回一个数组, 其中 n 个元素从末尾移除。</p> <p>使用<code>Array.slice()</code>创建数组的切片, 其中包含从末尾取出的<code>n</code>元素。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">takeRight</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">-</span> n<span class="token punctuation">,</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// takeRight([1, 2, 3], 2) -&gt; [ 2, 3 ]</span>
<span class="token comment">// takeRight([1, 2, 3]) -&gt; [3]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="union"><a href="#union" class="header-anchor">#</a> union</h3> <p>返回在两个数组中的任意一个中存在的每个元素。</p> <p>创建一个<code>Set</code>, 其中包含<code>a</code>和<code>b</code>的所有值, 并将其转换为数组。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">union</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">,</span> <span class="token operator">...</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// union([1,2,3], [4,3,2]) -&gt; [1,2,3,4]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="without"><a href="#without" class="header-anchor">#</a> without</h3> <p>筛选出数组中具有指定值之一的元素。</p> <p>使用<code>Array.filter()</code>创建不包括的数组 (使用<code>!Array.includes()</code>) 所有给定值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">without</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>args<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// without([2, 1, 2, 3], 1, 2) -&gt; [3]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="zip"><a href="#zip" class="header-anchor">#</a> zip</h3> <p>创建基于原始数组中的位置分组的元素数组。</p> <p>使用<code>Math.max.apply()</code>获取参数中最长的数组。创建一个以该长度为返回值的数组, 并使用 map 函数创建一个分组元素的数组<code>Array.from()</code>如果参数数组的长度不同, 则在未找到任何值的情况下使用<code>undefined</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">zip</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>arrays</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> maxLength <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>arrays<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span>length<span class="token operator">:</span> maxLength<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span>length<span class="token operator">:</span> arrays<span class="token punctuation">.</span>length<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> k</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arrays<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//zip(['a', 'b'], [1, 2], [true, false]); -&gt; [['a', 1, true], ['b', 2, false]]</span>
<span class="token comment">//zip(['a'], [1, 2], [true, false]); -&gt; [['a', 1, true], [undefined, 2, false]]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="浏览器-2"><a href="#浏览器-2" class="header-anchor">#</a> 浏览器</h2> <p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="bottomvisible"><a href="#bottomvisible" class="header-anchor">#</a> bottomVisible</h3> <p>如果页的底部可见, 则返回<code>true</code>, 否则为<code>false</code>。</p> <p>使用<code>scrollY</code>、<code>scrollHeight</code>和<code>clientHeight</code>来确定页面底部是否可见。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">bottomVisible</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight <span class="token operator">+</span> window<span class="token punctuation">.</span>scrollY <span class="token operator">&gt;=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollHeight <span class="token operator">||</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
<span class="token comment">// bottomVisible() -&gt; true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="currenturl"><a href="#currenturl" class="header-anchor">#</a> currentURL</h3> <p>返回当前 URL。</p> <p>使用<code>window.location.href</code>获取当前 URL。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">currentURL</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">;</span>
<span class="token comment">// currentUrl() -&gt; 'https://google.com'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="elementisvisibleinviewport"><a href="#elementisvisibleinviewport" class="header-anchor">#</a> elementIsVisibleInViewport</h3> <p>如果指定的元素在视区中可见, 则返回<code>true</code>, 否则为<code>false</code>。</p> <p>使用<code>Element.getBoundingClientRect()</code>和<code>window.inner(Width|Height)</code>值以确定给定元素在视区中是否可见。省略第二个参数以确定该元素是否完全可见, 或指定<code>true</code>以确定它是否部分可见。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">elementIsVisibleInViewport</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> partiallyVisible <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> top<span class="token punctuation">,</span> left<span class="token punctuation">,</span> bottom<span class="token punctuation">,</span> right <span class="token punctuation">}</span> <span class="token operator">=</span> el<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> partiallyVisible
<span class="token operator">?</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>top <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> top <span class="token operator">&lt;</span> innerHeight<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>bottom <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> bottom <span class="token operator">&lt;</span> innerHeight<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span>left <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> left <span class="token operator">&lt;</span> innerWidth<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>right <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> right <span class="token operator">&lt;</span> innerWidth<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">:</span> top <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> left <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> bottom <span class="token operator">&lt;=</span> innerHeight <span class="token operator">&amp;&amp;</span> right <span class="token operator">&lt;=</span> innerWidth<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// e.g. 100x100 viewport and a 10x10px element at position {top: -1, left: 0, bottom: 9, right: 10}</span>
<span class="token comment">// elementIsVisibleInViewport(el) -&gt; false (not fully visible)</span>
<span class="token comment">// elementIsVisibleInViewport(el, true) -&gt; true (partially visible)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="getscrollposition"><a href="#getscrollposition" class="header-anchor">#</a> getScrollPosition</h3> <p>返回当前页的滚动位置。</p> <p>如果已定义, 则使用<code>pageXOffset</code>和<code>pageYOffset</code>, 否则<code>scrollLeft</code>和<code>scrollTop</code>。可以省略<code>el</code>以使用<code>window</code>的默认值.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">getScrollPosition</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">el <span class="token operator">=</span> window</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>pageXOffset <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">?</span> el<span class="token punctuation">.</span>pageXOffset <span class="token operator">:</span> el<span class="token punctuation">.</span>scrollLeft<span class="token punctuation">,</span>
y<span class="token operator">:</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>pageYOffset <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">?</span> el<span class="token punctuation">.</span>pageYOffset <span class="token operator">:</span> el<span class="token punctuation">.</span>scrollTop<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// getScrollPosition() -&gt; {x: 0, y: 200}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="geturlparameters"><a href="#geturlparameters" class="header-anchor">#</a> getURLParameters</h3> <p>返回一个包含当前 URL 参数的对象。</p> <p>使用<code>match()</code>与适当的正则表达式来获取所有键值对,<code>Array.reduce()</code>可将它们映射并合并到单个对象中。将<code>location.search</code>作为要应用于当前<code>url</code>的参数传递.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">getURLParameters</span> <span class="token operator">=</span> <span class="token parameter">url</span> <span class="token operator">=&gt;</span>
url<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/([^?=&amp;]+)(=([^&amp;]*))/g</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
<span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>v<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// getURLParameters('http://url.com/page?name=Adam&amp;surname=Smith') -&gt; {name: 'Adam', surname: 'Smith'}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="redirect"><a href="#redirect" class="header-anchor">#</a> redirect</h3> <p>重定向到指定的 URL。</p> <p>使用<code>window.location.href</code>或<code>window.location.replace()</code>重定向到<code>url</code>。传递第二个参数以模拟链接单击 (<code>true</code>-默认值) 或 HTTP 重定向 (<code>false</code>).</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">redirect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> asLink <span class="token operator">=</span> <span class="token boolean">true</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
asLink <span class="token operator">?</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> url <span class="token operator">:</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// redirect('https://google.com')</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="scrolltotop"><a href="#scrolltotop" class="header-anchor">#</a> scrollToTop</h3> <p>平滑滚动到页面顶部。</p> <p>使用<code>document.documentElement.scrollTop</code>或<code>document.body.scrollTop</code>从顶部获取距离。从顶部的距离的一小部分滚动。使用<code>window.requestAnimationFrame()</code>对滚动进行动画处理。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">scrollToTop</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">||</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>scrollToTop<span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> c <span class="token operator">-</span> c <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// scrollToTop()</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="日期"><a href="#日期" class="header-anchor">#</a> 日期</h2> <p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="getdaysdiffbetweendates"><a href="#getdaysdiffbetweendates" class="header-anchor">#</a> getDaysDiffBetweenDates</h3> <p>返回两个日期之间的差异 (以天为值)。</p> <p>计算<code>Date</code>对象之间的差异 (以天为)。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">getDaysDiffBetweenDates</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">dateInitial<span class="token punctuation">,</span> dateFinal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>dateFinal <span class="token operator">-</span> dateInitial<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// getDaysDiffBetweenDates(new Date(&quot;2017-12-13&quot;), new Date(&quot;2017-12-22&quot;)) -&gt; 9</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="jsontodate"><a href="#jsontodate" class="header-anchor">#</a> JSONToDate</h3> <p>将 JSON 对象转换为日期。</p> <p>使用<code>Date()</code>, 将 JSON 格式的日期转换为可读格式 (<code>dd/mm/yyyy</code>日)).</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">JSONToDate</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> dt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> dt<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> dt<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> dt<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// JSONToDate(/Date(1489525200000)/) -&gt; &quot;14/3/2017&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="toenglishdate"><a href="#toenglishdate" class="header-anchor">#</a> toEnglishDate</h3> <p>将日期从美国格式转换为英文格式。</p> <p>使用<code>Date.toISOString()</code>、<code>split('T')</code>和<code>replace()</code>将日期从美式格式转换为英文格式。如果传递的时间不能转换为日期, 则抛出错误。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">toEnglishDate</span>  <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
<span class="token punctuation">{</span><span class="token keyword">try</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'T'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/-/g</span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// toEnglishDate('09/21/2010') -&gt; '21/09/2010'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="功能"><a href="#功能" class="header-anchor">#</a> 功能</h2> <p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="chainasync"><a href="#chainasync" class="header-anchor">#</a> chainAsync</h3> <p>链异步函数。</p> <p>循环遍历包含异步事件的函数数组, 当每个异步事件完成时调用<code>next</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">chainAsync</span> <span class="token operator">=</span> <span class="token parameter">fns</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">let</span> curr <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token keyword">const</span> <span class="token function-variable function">next</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> fns<span class="token punctuation">[</span>curr<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">/*
chainAsync([
  next =&gt; { console.log('0 seconds'); setTimeout(next, 1000); },
  next =&gt; { console.log('1 second');  setTimeout(next, 1000); },
  next =&gt; { console.log('2 seconds'); }
])
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="compose"><a href="#compose" class="header-anchor">#</a> compose</h3> <p>执行从右向左的函数组合。</p> <p>使用<code>Array.reduce()</code>执行从右向左的函数组合。最后一个 (最右边) 的函数可以接受一个或多个参数;其余的函数必须是一元的。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">compose</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>fns</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> fns<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">f<span class="token punctuation">,</span> g</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token function">g</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*
const add5 = x =&gt; x + 5
const multiply = (x, y) =&gt; x * y
const multiplyAndAdd5 = compose(add5, multiply)
multiplyAndAdd5(5, 2) -&gt; 15
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="curry"><a href="#curry" class="header-anchor">#</a> curry</h3> <p>Curries a function.</p> <p>使用递归。如果提供的参数 (变量) 的数量足够, 请调用传递的函数<code>args</code> <code>f</code>。否则, 返回需要其余参数的扩充函数<code>f</code>。如果你想咖喱一个函数, 接受可变数目的参数 (如<code>Math.min()</code>), 可以选择将参数的个数传递到第二个参数<code>arity</code>(可变函数).</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">curry</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> arity <span class="token operator">=</span> fn<span class="token punctuation">.</span>length<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
arity <span class="token operator">&lt;=</span> args<span class="token punctuation">.</span>length
<span class="token operator">?</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
<span class="token operator">:</span> <span class="token function">curry</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> fn<span class="token punctuation">,</span> arity<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// curry(Math.pow)(2)(10) -&gt; 1024</span>
<span class="token comment">// curry(Math.min, 3)(10)(50)(2) -&gt; 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="functionname"><a href="#functionname" class="header-anchor">#</a> functionName</h3> <p>记录函数的名称。</p> <p>使用<code>console.debug()</code>和传递的方法的<code>name</code>属性将方法的名称记录到控制台的<code>debug</code>通道中。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">functionName</span> <span class="token operator">=</span> <span class="token parameter">fn</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>console<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span>fn<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// functionName(Math.max) -&gt; max (logged in debug channel of console)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="pipe"><a href="#pipe" class="header-anchor">#</a> pipe</h3> <p>执行从左向右的函数组合。</p> <p>使用<code>Array.reduce()</code>与扩展运算符 (<code>...</code>) 执行从左向右的函数组合。第一个 (最左边的) 函数可以接受一个或多个参数;其余的函数必须是一元的。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">pipeFunctions</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>fns</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> fns<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">f<span class="token punctuation">,</span> g</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*
const add5 = x =&gt; x + 5
const multiply = (x, y) =&gt; x * y
const multiplyAndAdd5 = pipeFunctions(multiply, add5)
multiplyAndAdd5(5, 2) -&gt; 15
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="promisify"><a href="#promisify" class="header-anchor">#</a> promisify</h3> <p>转换异步函数以返回一个承诺。</p> <p>使用讨好返回一个返回调用原始函数的<code>Promise</code>的函数。使用<code>...rest</code>运算符传入所有参数。
<em>在节点 8 + 中, 可以使用 <code>util.promisify</code></em></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">promisify</span> <span class="token operator">=</span> <span class="token parameter">func</span> <span class="token operator">=&gt;</span>
<span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
<span class="token function">func</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
err <span class="token operator">?</span> <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// const delay = promisify((d, cb) =&gt; setTimeout(cb, d))</span>
<span class="token comment">// delay(2000).then(() =&gt; console.log('Hi!')) -&gt; Promise resolves after 2s</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="runpromisesinseries"><a href="#runpromisesinseries" class="header-anchor">#</a> runPromisesInSeries</h3> <p>运行一系列的承诺系列。</p> <p>使用<code>Array.reduce()</code>创建一个承诺链, 每个承诺在解决时返回下一个承诺。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">runPromisesInSeries</span> <span class="token operator">=</span> <span class="token parameter">ps</span> <span class="token operator">=&gt;</span> ps<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">,</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// const delay = (d) =&gt; new Promise(r =&gt; setTimeout(r, d))</span>
<span class="token comment">// runPromisesInSeries([() =&gt; delay(1000), () =&gt; delay(2000)]) -&gt; executes each promise sequentially, taking a total of 3 seconds to complete</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="sleep"><a href="#sleep" class="header-anchor">#</a> sleep</h3> <p>延迟异步函数的执行。</p> <p>延迟执行<code>async</code>函数的一部分, 将其放入休眠状态, 返回<code>Promise</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">sleep</span> <span class="token operator">=</span> <span class="token parameter">ms</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*
async function sleepyWork() {
  console.log('I\'m going to sleep for 1 second.');
  await sleep(1000);
  console.log('I woke up after 1 second.');
}
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="数学-2"><a href="#数学-2" class="header-anchor">#</a> 数学</h2> <p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="arrayaverage"><a href="#arrayaverage" class="header-anchor">#</a> arrayAverage</h3> <p>返回数字数组的平均值。</p> <p>使用<code>Array.reduce()</code>将每个值添加到累加器中, 并以<code>0</code>的值初始化, 除以数组的<code>length</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">arrayAverage</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> acc <span class="token operator">+</span> val<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">/</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token comment">// arrayAverage([1,2,3]) -&gt; 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="arraysum"><a href="#arraysum" class="header-anchor">#</a> arraySum</h3> <p>返回一个数字数组的总和。</p> <p>使用<code>Array.reduce()</code>将每个值添加到累加器中, 并以<code>0</code>值初始化.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">arraySum</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> acc <span class="token operator">+</span> val<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// arraySum([1,2,3,4]) -&gt; 10</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="collatz"><a href="#collatz" class="header-anchor">#</a> collatz</h3> <p>应用 Collatz 算法。</p> <p>如果<code>n</code>是偶数, 则返回<code>n/2</code>。否则返回<code>3n+1</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">collatz</span> <span class="token operator">=</span> <span class="token parameter">n</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>n <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>n <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// collatz(8) --&gt; 4</span>
<span class="token comment">// collatz(5) --&gt; 16</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="collatz-2"><a href="#collatz-2" class="header-anchor">#</a> collatz</h3> <p>将数字转换为数字数组。</p> <p>将数字转换为字符串, 在 ES6 (<code>[...string]</code>) 中使用扩展运算符生成数组。使用<code>Array.map()</code>和<code>parseInt()</code>将每个值转换为整数。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">digitize</span> <span class="token operator">=</span> <span class="token parameter">n</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token string">''</span><span class="token operator">+</span>n<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">i</span> <span class="token operator">=&gt;</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// digitize(2334) -&gt; [2, 3, 3, 4]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="digitize"><a href="#digitize" class="header-anchor">#</a> digitize</h3> <p>返回两点之间的距离。</p> <p>使用<code>Math.hypot()</code>计算两个点之间的欧氏距离。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">distance</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x0<span class="token punctuation">,</span> y0<span class="token punctuation">,</span> x1<span class="token punctuation">,</span> y1</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">hypot</span><span class="token punctuation">(</span>x1 <span class="token operator">-</span> x0<span class="token punctuation">,</span> y1 <span class="token operator">-</span> y0<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// distance(1,1, 2,3) -&gt; 2.23606797749979</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="distance"><a href="#distance" class="header-anchor">#</a> distance</h3> <p>计算数字的阶乘。</p> <p>使用递归。如果<code>n</code>小于或等于<code>1</code>, 则返回<code>1</code>。否则, 返回<code>n</code>的乘积和<code>n - 1</code>的阶乘。如果<code>n</code>为负数, 则引发异常。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">factorial</span> <span class="token operator">=</span> <span class="token parameter">n</span> <span class="token operator">=&gt;</span>
n <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'Negative numbers are not allowed!'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">:</span> n <span class="token operator">&lt;=</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> n <span class="token operator">*</span> <span class="token function">factorial</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// factorial(6) -&gt; 720</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="fibonacci"><a href="#fibonacci" class="header-anchor">#</a> fibonacci</h3> <p>生成一个数组, 包含斐波那契数列, 直到第 n 个项。</p> <p>创建一个指定长度的空数组, 初始化前两个值 (<code>0</code>和<code>1</code>)。使用<code>Array.reduce()</code>可将值添加到数组中, 方法是使用前两个值的总和, 但前两个数值除外。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">fibonacci</span> <span class="token operator">=</span> <span class="token parameter">n</span> <span class="token operator">=&gt;</span>
<span class="token function">Array</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> val<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> acc<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">?</span> acc<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> acc<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">:</span> i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// fibonacci(5) -&gt; [0,1,1,2,3]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="gcd"><a href="#gcd" class="header-anchor">#</a> gcd</h3> <p>计算两个数字之间最大的公共除数。</p> <p>使用递归。基本情况是当<code>y</code>等于<code>0</code>时。在这种情况下, 返回<code>x</code>。否则, 返回<code>y</code>的 GCD 和除法的其余部分<code>x/y</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">gcd</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>y <span class="token operator">?</span> x <span class="token operator">:</span> <span class="token function">gcd</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> x <span class="token operator">%</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// gcd (8, 36) -&gt; 4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="hammingdistance"><a href="#hammingdistance" class="header-anchor">#</a> hammingDistance</h3> <p>计算两个值之间的汉明距离。</p> <p>使用 XOR 运算符 (<code>^</code>) 可查找两个数字之间的位差, 使用<code>toString(2)</code>转换为二进制字符串。使用<code>match(/1/g)</code>计算并返回字符串中<code>1</code>的数目。.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">hammingDistance</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span>num1 <span class="token operator">^</span> num2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/1/g</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token comment">// hammingDistance(2,3) -&gt; 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="isdivisible"><a href="#isdivisible" class="header-anchor">#</a> isDivisible</h3> <p>检查第一个数值参数是否可被另一个数字变量整除。</p> <p>使用模数运算符 (<code>%</code>) 检查余数是否等于<code>0</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">isDivisible</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">dividend<span class="token punctuation">,</span> divisor</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> dividend <span class="token operator">%</span> divisor <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment">// isDivisible(6,3) -&gt; true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="iseven"><a href="#iseven" class="header-anchor">#</a> iseven</h3> <p>如果给定的数字为偶数, 则返回<code>true</code>, 否则为<code>false</code>。</p> <p>检查一个数字是奇数还是使用模数 (<code>%</code>) 运算符。如果数字为偶数, 则返回<code>true</code>, 如果数字为奇数, 则为<code>false</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">isEven</span> <span class="token operator">=</span> <span class="token parameter">num</span> <span class="token operator">=&gt;</span> num <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment">// isEven(3) -&gt; false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="lcm"><a href="#lcm" class="header-anchor">#</a> lcm</h3> <p>返回两个数字中最不常见的倍数。</p> <p>使用最大的公共除数 (GCD) 公式和<code>Math.abs()</code>来确定最不常见的倍数。GCD 公式使用递归。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">lcm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token function-variable function">gcd</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>y <span class="token operator">?</span> x <span class="token operator">:</span> <span class="token function">gcd</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> x <span class="token operator">%</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>x<span class="token operator">*</span>y<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token function">gcd</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// lcm(12,7) -&gt; 84</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="median"><a href="#median" class="header-anchor">#</a> median</h3> <p>返回数字数组的中间值。</p> <p>找到数组的中间, 使用<code>Array.sort()</code>来对值进行排序。如果<code>length</code>为奇数, 则返回中点的数字, 否则为两个中间数的平均值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">median</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> mid <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nums <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">-</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> arr<span class="token punctuation">.</span>length <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!==</span> <span class="token number">0</span> <span class="token operator">?</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// median([5,6,50,1,-5]) -&gt; 5</span>
<span class="token comment">// median([0,10,-2,7]) -&gt; 3.5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="palindrome"><a href="#palindrome" class="header-anchor">#</a> palindrome</h3> <p>如果给定字符串为回文, 则返回<code>true</code>, 否则为<code>false</code>。</p> <p>转换字符串<code>toLowerCase()</code>并使用<code>replace()</code>从其中删除非字母数字字符。然后,<code>split('')</code>到各个字符,<code>reverse()</code>,<code>join('')</code>, 并将其与原始的、不可逆转的字符串进行比较, 然后将其转换为<code>tolowerCase()</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">palindrome</span> <span class="token operator">=</span> <span class="token parameter">str</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> s <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/[\W_]/g</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> s <span class="token operator">===</span> s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// palindrome('taco cat') -&gt; true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="percentile"><a href="#percentile" class="header-anchor">#</a> percentile</h3> <p>使用百分比公式计算给定数组中有多少个数小于或等于给定值。</p> <p>使用<code>Array.reduce()</code>计算值的下面有多少, 有多少个数是相同的值, 并应用百分比公式。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">percentile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
<span class="token number">100</span> <span class="token operator">*</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span>v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> acc <span class="token operator">+</span> <span class="token punctuation">(</span>v <span class="token operator">&lt;</span> val <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>v <span class="token operator">===</span> val <span class="token operator">?</span> <span class="token number">0.5</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">/</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token comment">// percentile([1,2,3,4,5,6,7,8,9,10], 6) -&gt; 55</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="powerset"><a href="#powerset" class="header-anchor">#</a> powerset</h3> <p>返回给定数字数组的 powerset。</p> <p>使用<code>Array.reduce()</code>与<code>Array.map()</code>组合, 以循环访问元素并将其合并到包含所有组合的数组中。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">powerset</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span>
arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">r</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// powerset([1,2]) -&gt; [[], [1], [2], [2,1]]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="randomintegerinrange"><a href="#randomintegerinrange" class="header-anchor">#</a> randomIntegerInRange</h3> <p>返回指定范围内的随机整数。</p> <p>使用<code>Math.random()</code>生成一个随机数并将其映射到所需的范围, 使用<code>Math.floor()</code>使其成为整数。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">randomIntegerInRange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span>
<span class="token comment">// randomIntegerInRange(0, 5) -&gt; 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="randomnumberinrange"><a href="#randomnumberinrange" class="header-anchor">#</a> randomNumberInRange</h3> <p>返回指定范围内的随机数。</p> <p>使用<code>Math.random()</code>生成随机值, 并使用乘法将其映射到所需的范围。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">randomNumberInRange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min<span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span>
<span class="token comment">// randomNumberInRange(2,10) -&gt; 6.0211363285087005</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="round"><a href="#round" class="header-anchor">#</a> round</h3> <p>将数字四舍五入到指定的位数。</p> <p>使用<code>Math.round()</code>和模板文本将数字舍入到指定的位数。省略第二个参数,<code>decimals</code>舍入为整数。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">round</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> decimals<span class="token operator">=</span><span class="token number">0</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>n<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">e</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>decimals<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">e-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>decimals<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// round(1.005, 2) -&gt; 1.01</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="standarddeviation"><a href="#standarddeviation" class="header-anchor">#</a> standardDeviation</h3> <p>返回数字数组的标准偏差。</p> <p>使用<code>Array.reduce()</code>计算值的平均值、方差和方差的总和, 值的方差, 然后确定标准偏差。可以省略第二个参数以获取样本标准偏差, 或将其设置为<code>true</code>以获取总体标准偏差。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">standardDeviation</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> usePopulation <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> mean <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> acc <span class="token operator">+</span> val<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">/</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>
arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> acc<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>val <span class="token operator">-</span> mean<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> acc <span class="token operator">+</span> val<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token punctuation">(</span>usePopulation <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// standardDeviation([10,2,38,23,38,23,21]) -&gt; 13.284434142114991 (sample)</span>
<span class="token comment">// standardDeviation([10,2,38,23,38,23,21], true) -&gt; 12.29899614287479 (population)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="媒体-2"><a href="#媒体-2" class="header-anchor">#</a> 媒体</h2> <p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="speechsynthesis"><a href="#speechsynthesis" class="header-anchor">#</a> speechSynthesis</h3> <p>执行语音合成 (实验)。</p> <p>使用<code>SpeechSynthesisUtterance.voice</code>和<code>window.speechSynthesis.getVoices()</code>将邮件转换为语音。使用<code>window.speechSynthesis.speak()</code>播放该消息。了解有关Web 语音 API 的 SpeechSynthesisUtterance 接口的详细信息.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">speechSynthesis</span> <span class="token operator">=</span> <span class="token parameter">message</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpeechSynthesisUtterance</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
msg<span class="token punctuation">.</span>voice <span class="token operator">=</span> window<span class="token punctuation">.</span>speechSynthesis<span class="token punctuation">.</span><span class="token function">getVoices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>speechSynthesis<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// speechSynthesis('Hello, World') -&gt; plays the message</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="节点-2"><a href="#节点-2" class="header-anchor">#</a> 节点</h2> <p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="jsontofile"><a href="#jsontofile" class="header-anchor">#</a> JSONToFile</h3> <p>将 JSON 对象写入文件。</p> <p>使用<code>fs.writeFile()</code>、模板文本和<code>JSON.stringify()</code>将<code>json</code>对象写入<code>.json</code>文件。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">JSONToFile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> filename</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>filename<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.json</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// JSONToFile({test: &quot;is passed&quot;}, 'testJsonFile') -&gt; writes the object to 'testJsonFile.json'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="readfilelines"><a href="#readfilelines" class="header-anchor">#</a> readFileLines</h3> <p>返回指定文件中的行的数组。</p> <p>在<code>fs</code>节点包中使用<code>readFileSync</code>函数可以从文件创建<code>Buffer</code>。使用<code>toString(encoding)</code>函数将缓冲区转换为字符串。通过<code>split</code>ing 文件内容行从文件内容创建数组 (每个<code>\n</code>).</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">readFileLines</span> <span class="token operator">=</span> <span class="token parameter">filename</span> <span class="token operator">=&gt;</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">'UTF8'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*
contents of test.txt :
  line1
  line2
  line3
  ___________________________
let arr = readFileLines('test.txt')
console.log(arr) // -&gt; ['line1', 'line2', 'line3']
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="对象-2"><a href="#对象-2" class="header-anchor">#</a> 对象</h2> <p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="cleanobj"><a href="#cleanobj" class="header-anchor">#</a> cleanObj</h3> <p>移除从 JSON 对象指定的属性之外的任何特性。</p> <p>使用<code>Object.keys()</code>方法可以遍历给定的 json 对象并删除在给定数组中不是<code>include</code>d 的键。另外, 如果给它一个特殊的键 (<code>childIndicator</code>), 它将在里面深入搜索, 并将函数应用于内部对象。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">cleanObj</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> keysToKeep <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> childIndicator</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> childIndicator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token function">cleanObj</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> keysToKeep<span class="token punctuation">,</span> childIndicator<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>keysToKeep<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">delete</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
  const testObj = {a: 1, b: 2, children: {a: 1, b: 2}}
  cleanObj(testObj, [&quot;a&quot;],&quot;children&quot;)
  console.log(testObj)// { a: 1, children : { a: 1}}
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="objectfrompairs"><a href="#objectfrompairs" class="header-anchor">#</a> objectFromPairs</h3> <p>从给定的键值对创建对象。</p> <p>使用<code>Array.reduce()</code>创建和组合键值对。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">objectFromPairs</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// objectFromPairs([['a',1],['b',2]]) -&gt; {a: 1, b: 2}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="objecttopairs"><a href="#objecttopairs" class="header-anchor">#</a> objectToPairs</h3> <p>从对象创建键值对数组的数组。</p> <p>使用<code>Object.keys()</code>和<code>Array.map()</code>循环访问对象的键并生成具有键值对的数组。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">objectToPairs</span> <span class="token operator">=</span> <span class="token parameter">obj</span> <span class="token operator">=&gt;</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">k</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>k<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// objectToPairs({a: 1, b: 2}) -&gt; [['a',1],['b',2]])</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="shallowclone"><a href="#shallowclone" class="header-anchor">#</a> shallowClone</h3> <p>创建对象的浅表克隆。</p> <p>使用<code>Object.assign()</code>和一个空对象 (<code>{}</code>) 创建原始的浅克隆。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">shallowClone</span> <span class="token operator">=</span> <span class="token parameter">obj</span> <span class="token operator">=&gt;</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*
const a = { x: true, y: 1 };
const b = shallowClone(a);
a === b -&gt; false
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="truthcheckcollection"><a href="#truthcheckcollection" class="header-anchor">#</a> truthCheckCollection</h3> <p>检查谓词 (第二个参数) 是否 truthy 集合的所有元素 (第一个参数)。</p> <p>使用<code>Array.every()</code>检查每个传递的对象是否具有指定的属性, 以及是否返回 truthy 值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function-variable function">truthCheckCollection</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">collection<span class="token punctuation">,</span> pre</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>collection<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">obj</span> <span class="token operator">=&gt;</span> obj<span class="token punctuation">[</span>pre<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// truthCheckCollection([{&quot;user&quot;: &quot;Tinky-Winky&quot;, &quot;sex&quot;: &quot;male&quot;}, {&quot;user&quot;: &quot;Dipsy&quot;, &quot;sex&quot;: &quot;male&quot;}], &quot;sex&quot;) -&gt; true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="字符串-2"><a href="#字符串-2" class="header-anchor">#</a> 字符串</h2> <p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="anagrams"><a href="#anagrams" class="header-anchor">#</a> anagrams</h3> <p>生成字符串的所有字谜 (包含重复项)。</p> <p>使用递归。对于给定字符串中的每个字母, 为其其余字母创建所有部分字谜。使用<code>Array.map()</code>将字母与每个部分变位词组合在一起, 然后将<code>Array.reduce()</code>组合在一个数组中的所有字谜。基本情况为字符串<code>length</code>等于<code>2</code>或<code>1</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">anagrams</span> <span class="token operator">=</span> <span class="token parameter">str</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> str<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">2</span> <span class="token operator">?</span> <span class="token punctuation">[</span>str<span class="token punctuation">,</span> str<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span>str<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> letter<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
acc<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token function">anagrams</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> letter <span class="token operator">+</span> val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// anagrams('abc') -&gt; ['abc','acb','bac','bca','cab','cba']</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="capitalize"><a href="#capitalize" class="header-anchor">#</a> Capitalize</h3> <p>将字符串的第一个字母大写。</p> <p>使用 destructuring 和<code>toUpperCase()</code>可将第一个字母、<code>...rest</code>用于获取第一个字母之后的字符数组, 然后是<code>Array.join('')</code>以使其成为字符串。省略<code>lowerRest</code>参数以保持字符串的其余部分不变, 或将其设置为<code>true</code>以转换为小写。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">capitalize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>first<span class="token punctuation">,</span><span class="token operator">...</span>rest<span class="token punctuation">]</span><span class="token punctuation">,</span> lowerRest <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
first<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>lowerRest <span class="token operator">?</span> rest<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> rest<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// capitalize('myName') -&gt; 'MyName'</span>
<span class="token comment">// capitalize('myName', true) -&gt; 'Myname'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="capitalizeeveryword"><a href="#capitalizeeveryword" class="header-anchor">#</a> capitalizeEveryWord</h3> <p>将字符串中每个单词的首字母大写。</p> <p>使用<code>replace()</code>匹配每个单词和<code>toUpperCase()</code>的第一个字符以将其大写。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">capitalizeEveryWord</span> <span class="token operator">=</span> <span class="token parameter">str</span> <span class="token operator">=&gt;</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\b[a-z]/g</span><span class="token punctuation">,</span> <span class="token parameter">char</span> <span class="token operator">=&gt;</span> char<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// capitalizeEveryWord('hello world!') -&gt; 'Hello World!'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="escaperegexp"><a href="#escaperegexp" class="header-anchor">#</a> escapeRegExp</h3> <p>转义要在正则表达式中使用的字符串。</p> <p>使用<code>replace()</code>可转义特殊字符。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">escapeRegExp</span> <span class="token operator">=</span> <span class="token parameter">str</span> <span class="token operator">=&gt;</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/[.*+?^${}()|[\]\\]/g</span><span class="token punctuation">,</span> <span class="token string">'\\$&amp;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// escapeRegExp('(test)') -&gt; \\(test\\)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="fromcamelcase"><a href="#fromcamelcase" class="header-anchor">#</a> fromCamelCase</h3> <p>从匹配转换字符串。</p> <p>使用<code>replace()</code>可删除下划线、连字符和空格, 并将单词转换为匹配。省略第二个参数以使用默认分隔符<code>_</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> fromCamelCase <span class="token operator">=</span> <span class="token punctuation">(</span>str<span class="token punctuation">,</span> separator <span class="token operator">=</span> <span class="token string">'_'</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/([a-z\d])([A-Z])/g</span><span class="token punctuation">,</span> <span class="token string">'$1'</span> <span class="token operator">+</span> separator <span class="token operator">+</span> <span class="token string">'$2'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/([A-Z]+)([A-Z][a-z\d]+)/g</span><span class="token punctuation">,</span> <span class="token string">'$1'</span> <span class="token operator">+</span> separator <span class="token operator">+</span> <span class="token string">'$2'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// fromCamelCase('someDatabaseFieldName', ' ') -&gt; 'some database field name'</span>
<span class="token comment">// fromCamelCase('someLabelThatNeedsToBeCamelized', '-') -&gt; 'some-label-that-needs-to-be-camelized'</span>
<span class="token comment">// fromCamelCase('someJavascriptProperty', '_') -&gt; 'some_javascript_property'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="reversestring"><a href="#reversestring" class="header-anchor">#</a> reverseString</h3> <p>反转字符串。</p> <p>使用数组 destructuring 和<code>Array.reverse()</code>可反转字符串中字符的顺序。使用<code>join('')</code>组合字符以获取字符串.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">reverseString</span> <span class="token operator">=</span> <span class="token parameter">str</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span>str<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// reverseString('foobar') -&gt; 'raboof'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="sortcharactersinstring"><a href="#sortcharactersinstring" class="header-anchor">#</a> sortCharactersInString</h3> <p>按字母顺序对字符串中的字符进行排序。</p> <p>使用<code>split('')</code>、<code>Array.sort()</code>利用<code>localeCompare()</code>重新组合使用<code>join('')</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">sortCharactersInString</span> <span class="token operator">=</span> <span class="token parameter">str</span> <span class="token operator">=&gt;</span>
str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// sortCharactersInString('cabbage') -&gt; 'aabbceg'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="tocamelcase"><a href="#tocamelcase" class="header-anchor">#</a> toCamelCase</h3> <p>将字符串转换为匹配。</p> <p>使用<code>replace()</code>可删除下划线、连字符和空格, 并将单词转换为匹配。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">toCamelCase</span> <span class="token operator">=</span> <span class="token parameter">str</span> <span class="token operator">=&gt;</span>
str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^([A-Z])|[\s-_]+(\w)/g</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span> p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> offset</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  p2 <span class="token operator">?</span> p2<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> p1<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// toCamelCase(&quot;some_database_field_name&quot;) -&gt; 'someDatabaseFieldName'</span>
<span class="token comment">// toCamelCase(&quot;Some label that needs to be camelized&quot;) -&gt; 'someLabelThatNeedsToBeCamelized'</span>
<span class="token comment">// toCamelCase(&quot;some-javascript-property&quot;) -&gt; 'someJavascriptProperty'</span>
<span class="token comment">// toCamelCase(&quot;some-mixed_string with spaces_underscores-and-hyphens&quot;) -&gt; 'someMixedStringWithSpacesUnderscoresAndHyphens'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="truncatestring"><a href="#truncatestring" class="header-anchor">#</a> truncateString</h3> <p>将字符串截断为指定长度。</p> <p>确定字符串的<code>length</code>是否大于<code>num</code>。将截断的字符串返回到所需的长度, 并将<code>...</code>追加到末尾或原始字符串。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">truncateString</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">str<span class="token punctuation">,</span> num</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
str<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> num <span class="token operator">?</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> num <span class="token operator">&gt;</span> <span class="token number">3</span> <span class="token operator">?</span> num <span class="token operator">-</span> <span class="token number">3</span> <span class="token operator">:</span> num<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'...'</span> <span class="token operator">:</span> str<span class="token punctuation">;</span>
<span class="token comment">// truncateString('boomerang', 7) -&gt; 'boom...'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="实用"><a href="#实用" class="header-anchor">#</a> 实用</h2> <p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="coalesce"><a href="#coalesce" class="header-anchor">#</a> coalesce</h3> <p>返回第一个非空/未定义参数。</p> <p>使用<code>Array.find()</code>返回第一个非<code>null</code>/<code>undefined</code>的参数。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">coalesce</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> args<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">_</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span><span class="token punctuation">[</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// coalesce(null,undefined,&quot;&quot;,NaN, &quot;Waldo&quot;) -&gt; &quot;&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="coalescefactory"><a href="#coalescefactory" class="header-anchor">#</a> coalesceFactory</h3> <p>返回自定义的联合函数, 返回从提供的参数验证函数返回<code>true</code>的第一个参数。</p> <p>使用<code>Array.find()</code>返回从提供的参数验证函数返回<code>true</code>的第一个参数。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">coalesceFactory</span> <span class="token operator">=</span> <span class="token parameter">valid</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> args<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>valid<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// const customCoalesce = coalesceFactory(_ =&gt; ![null, undefined, &quot;&quot;, NaN].includes(_))</span>
<span class="token comment">// customCoalesce(undefined, null, NaN, &quot;&quot;, &quot;Waldo&quot;) //-&gt; &quot;Waldo&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="extendhex"><a href="#extendhex" class="header-anchor">#</a> extendHex</h3> <p>将3位色码扩展为6位色码。</p> <p>使用<code>Array.map()</code>、<code>split()</code>和<code>Array.join()</code>来加入映射数组, 将3位的 RGB notated 十六进制 color-code 转换为6位数字形式。<code>Array.slice()</code>用于从字符串启动中删除<code>#</code>, 因为它添加了一次。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">extendHex</span> <span class="token operator">=</span> <span class="token parameter">shortHex</span> <span class="token operator">=&gt;</span>
<span class="token string">'#'</span> <span class="token operator">+</span> shortHex<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>shortHex<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token operator">+</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token comment">// extendHex('#03f') -&gt; '#0033ff'</span>
<span class="token comment">// extendHex('05a') -&gt; '#0055aa'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="gettype"><a href="#gettype" class="header-anchor">#</a> gettype</h3> <p>返回值的本机类型。</p> <p>如果值未定义或为 null, 则返回小写的构造函数名称、&quot;未定义&quot; 或 &quot;null&quot;</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">getType</span> <span class="token operator">=</span> <span class="token parameter">v</span> <span class="token operator">=&gt;</span>
v <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> <span class="token string">'undefined'</span> <span class="token operator">:</span> v <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token string">'null'</span> <span class="token operator">:</span> v<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// getType(new Set([1,2,3])) -&gt; &quot;set&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="hextorgb"><a href="#hextorgb" class="header-anchor">#</a> hexToRGB</h3> <p>将 colorcode 转换为<code>rgb()</code>字符串。</p> <p>使用按位右运算符和掩码位与<code>&amp;</code>(and) 运算符将十六进制颜色代码 (前缀为<code>#</code>) 转换为具有 RGB 值的字符串。如果它是一个3位数的 colorcode, 那么用 extendHex () 函数 (ref.<code>extendHex</code>代码段) 扩展的6位 colorcode 进行相同的处理</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">hexToRgb</span> <span class="token operator">=</span> <span class="token parameter">hex</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token function-variable function">extendHex</span> <span class="token operator">=</span> <span class="token parameter">shortHex</span> <span class="token operator">=&gt;</span>
<span class="token string">'#'</span> <span class="token operator">+</span> shortHex<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>shortHex<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token operator">+</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> extendedHex <span class="token operator">=</span> hex<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>hex<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">3</span> <span class="token operator">?</span> <span class="token function">extendHex</span><span class="token punctuation">(</span>hex<span class="token punctuation">)</span> <span class="token operator">:</span> hex<span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">rgb(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">parseInt</span><span class="token punctuation">(</span>extendedHex<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">16</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>extendedHex<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0x00ff00</span><span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">8</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">parseInt</span><span class="token punctuation">(</span>extendedHex<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0x0000ff</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// hexToRgb('#27ae60') -&gt; 'rgb(39, 174, 96)'</span>
<span class="token comment">// hexToRgb('#acd') -&gt; 'rgb(170, 204, 221)'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="isarray"><a href="#isarray" class="header-anchor">#</a> isArray</h3> <p>检查给定参数是否为数组。</p> <p>使用<code>Array.isArray()</code>检查某个值是否属于数组。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">isArray</span> <span class="token operator">=</span> <span class="token parameter">val</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span><span class="token operator">!</span>val <span class="token operator">&amp;&amp;</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// isArray(null) -&gt; false</span>
<span class="token comment">// isArray([1]) -&gt; true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="isboolean"><a href="#isboolean" class="header-anchor">#</a> isBoolean</h3> <p>检查给定的参数是否为本机布尔元素。</p> <p>使用<code>typeof</code>检查某个值是否被归类为布尔基元。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">isBoolean</span> <span class="token operator">=</span> <span class="token parameter">val</span> <span class="token operator">=&gt;</span> <span class="token keyword">typeof</span> val <span class="token operator">===</span> <span class="token string">'boolean'</span><span class="token punctuation">;</span>
<span class="token comment">// isBoolean(null) -&gt; false</span>
<span class="token comment">// isBoolean(false) -&gt; true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="isfunction"><a href="#isfunction" class="header-anchor">#</a> isFunction</h3> <p>检查给定参数是否为函数。</p> <p>使用<code>typeof</code>检查某个值是否被归类为函数基元。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">isFunction</span> <span class="token operator">=</span> <span class="token parameter">val</span> <span class="token operator">=&gt;</span> val <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> val <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">;</span>
<span class="token comment">// isFunction('x') -&gt; false</span>
<span class="token comment">// isFunction(x =&gt; x) -&gt; true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="isnumber"><a href="#isnumber" class="header-anchor">#</a> isNumber</h3> <p>检查给定参数是否为数字。</p> <p>使用<code>typeof</code>检查某个值是否归类为数字基元。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">isNumber</span> <span class="token operator">=</span> <span class="token parameter">val</span> <span class="token operator">=&gt;</span> <span class="token keyword">typeof</span> val <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">;</span>
<span class="token comment">// isNumber('1') -&gt; false</span>
<span class="token comment">// isNumber(1) -&gt; true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="isstring"><a href="#isstring" class="header-anchor">#</a> isString</h3> <p>检查给定参数是否为字符串。</p> <p>使用<code>typeof</code>检查某个值是否属于字符串基元。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">isString</span> <span class="token operator">=</span> <span class="token parameter">val</span> <span class="token operator">=&gt;</span> <span class="token keyword">typeof</span> val <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">;</span>
<span class="token comment">// isString(10) -&gt; false</span>
<span class="token comment">// isString('10') -&gt; true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="issymbol"><a href="#issymbol" class="header-anchor">#</a> isSymbol</h3> <p>检查给定参数是否为符号。</p> <p>使用<code>typeof</code>检查某个值是否被归类为符号基元。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">isSymbol</span> <span class="token operator">=</span> <span class="token parameter">val</span> <span class="token operator">=&gt;</span> <span class="token keyword">typeof</span> val <span class="token operator">===</span> <span class="token string">'symbol'</span><span class="token punctuation">;</span>
<span class="token comment">// isSymbol('x') -&gt; false</span>
<span class="token comment">// isSymbol(Symbol('x')) -&gt; true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="rgbtohex"><a href="#rgbtohex" class="header-anchor">#</a> RGBToHex</h3> <p>将 RGB 组件的值转换为 colorcode。</p> <p>使用按位左移位运算符 (<code>&lt;&lt;</code>) 和<code>toString(16)</code>将给定的 RGB 参数转换为十六进制字符串, 然后<code>padStart(6,'0')</code>以获取6位十六进制值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">RGBToHex</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>r <span class="token operator">&lt;&lt;</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>g <span class="token operator">&lt;&lt;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// RGBToHex(255, 165, 1) -&gt; 'ffa501'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="timetaken"><a href="#timetaken" class="header-anchor">#</a> timeTaken</h3> <p>测量执行函数所用的时间。</p> <p>使用<code>console.time()</code>和<code>console.timeEnd()</code>来测量开始和结束时间之间的差异, 以确定回调执行所用的时间。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">timeTaken</span> <span class="token operator">=</span> <span class="token parameter">callback</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">'timeTaken'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> r <span class="token operator">=</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">'timeTaken'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> r<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// timeTaken(() =&gt; Math.pow(2, 10)) -&gt; 1024</span>
<span class="token comment">// (logged): timeTaken: 0.02099609375ms</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="toordinalsuffix"><a href="#toordinalsuffix" class="header-anchor">#</a> toOrdinalSuffix</h3> <p>将序号后缀添加到数字。</p> <p>使用模数运算符 (<code>%</code>) 查找单个和十位数字的值。查找匹配的序号模式数字。如果在青少年模式中发现数字, 请使用青少年序号。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">toOrdinalSuffix</span> <span class="token operator">=</span> <span class="token parameter">num</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> int <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">,</span> digits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>int <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>int <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
ordinals <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'st'</span><span class="token punctuation">,</span> <span class="token string">'nd'</span><span class="token punctuation">,</span> <span class="token string">'rd'</span><span class="token punctuation">,</span> <span class="token string">'th'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> oPattern <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
tPattern <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> oPattern<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>digits<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>tPattern<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>digits<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">?</span> int <span class="token operator">+</span> ordinals<span class="token punctuation">[</span>digits<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> int <span class="token operator">+</span> ordinals<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// toOrdinalSuffix(&quot;123&quot;) -&gt; &quot;123rd&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="uuidgenerator"><a href="#uuidgenerator" class="header-anchor">#</a> UUIDGenerator</h3> <p>生成 UUID。</p> <p>使用<code>crypto</code>API 生成 UUID, 符合RFC4122版本4。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">UUIDGenerator</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1e7</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token operator">-</span><span class="token number">1e3</span> <span class="token operator">+</span> <span class="token operator">-</span><span class="token number">4e3</span> <span class="token operator">+</span> <span class="token operator">-</span><span class="token number">8e3</span> <span class="token operator">+</span> <span class="token operator">-</span><span class="token number">1e11</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/[018]/g</span><span class="token punctuation">,</span> <span class="token parameter">c</span> <span class="token operator">=&gt;</span>
<span class="token punctuation">(</span>c <span class="token operator">^</span> crypto<span class="token punctuation">.</span><span class="token function">getRandomValues</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">15</span> <span class="token operator">&gt;&gt;</span> c <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// UUIDGenerator() -&gt; '7982fcfe-5721-4632-bede-6000885be57d'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="validateemail"><a href="#validateemail" class="header-anchor">#</a> validateEmail</h3> <p>如果给定的字符串是有效的电子邮件, 则返回<code>true</code>, 否则为<code>false</code>。</p> <p>使用正则表达式检查电子邮件是否有效。如果电子邮件有效, 则返回 true, 如果没有, 则返回<code>false</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">validateEmail</span> <span class="token operator">=</span> <span class="token parameter">str</span> <span class="token operator">=&gt;</span>
  <span class="token regex">/^(([^&lt;&gt;()\[\]\\.,;:\s@&quot;]+(\.[^&lt;&gt;()\[\]\\.,;:\s@&quot;]+)*)|(&quot;.+&quot;))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// validateEmail(mymail@gmail.com) -&gt; true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="#table-of-contents">⬆ 返回顶部</a></p> <h3 id="validatenumber"><a href="#validatenumber" class="header-anchor">#</a> validateNumber</h3> <p>如果给定值为数字, 则返回<code>true</code>, 否则为<code>false</code>。</p> <p>将<code>!isNaN</code>与<code>parseFloat()</code>结合使用, 以检查参数是否为数字。使用<code>isFinite()</code>检查数字是否是有限的。使用<code>Number()</code>检查强制是否保持。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">validateNumber</span> <span class="token operator">=</span> <span class="token parameter">n</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isFinite</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">Number</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">==</span> n<span class="token punctuation">;</span>
<span class="token comment">// validateNumber('10') -&gt; true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="credits"><a href="#credits" class="header-anchor">#</a> Credits</h2> <p><em>Icons made by <a href="https://www.flaticon.com/authors/smashicons" target="_blank" rel="noopener noreferrer">Smashicons<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> from <a href="https://www.flaticon.com/" target="_blank" rel="noopener noreferrer">www.flaticon.com<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" target="_blank" rel="noopener noreferrer">CC 3.0 BY<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</em></p> <p>再次声明：有需要转载请保留头部信息，有问题可以联系我的微信，caibaojian89，或者关注我的微信公众号：前端开发博客</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新于:</span> <span class="time">2020年8月21日星期五上午9点29分</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/navitem/article/notes/toolfunc/notes/1.html" class="prev">
        269个JavaScript工具函数
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.fa91b959.js" defer></script><script src="/assets/js/2.39079bb7.js" defer></script><script src="/assets/js/76.15d4fd09.js" defer></script>
  </body>
</html>
