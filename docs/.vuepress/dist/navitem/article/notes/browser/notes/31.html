<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>31.HTTP3：甩掉TCP、TCL包袱 构建高效网络 | AhuntSun</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="https://blog-static.cnblogs.com/files/AhuntSun-blog/sun1.ico">
    <link rel="stylesheet" href="/css/style.css">
    <script charset="utf-8" src="/js/main.js"></script>
    <meta name="description" content="🌕今日事,今日毕🌕">
    <meta name="keywords" content="AhuntSun, vuepress博客, 学习, 分享">
    <meta name="author" content="AhuntSun">
    <link rel="preload" href="/assets/css/0.styles.265dc05e.css" as="style"><link rel="preload" href="/assets/js/app.9d9ee333.js" as="script"><link rel="preload" href="/assets/js/2.39079bb7.js" as="script"><link rel="preload" href="/assets/js/48.6ac79eae.js" as="script"><link rel="prefetch" href="/assets/js/10.fa57694c.js"><link rel="prefetch" href="/assets/js/100.d3d6ebf8.js"><link rel="prefetch" href="/assets/js/101.d7616632.js"><link rel="prefetch" href="/assets/js/102.cbc918cf.js"><link rel="prefetch" href="/assets/js/103.1bff3c4d.js"><link rel="prefetch" href="/assets/js/104.5a1a908e.js"><link rel="prefetch" href="/assets/js/105.26c6b5cd.js"><link rel="prefetch" href="/assets/js/106.2f85d4a2.js"><link rel="prefetch" href="/assets/js/107.14a583fa.js"><link rel="prefetch" href="/assets/js/108.4a1c000c.js"><link rel="prefetch" href="/assets/js/109.b694086c.js"><link rel="prefetch" href="/assets/js/11.02220042.js"><link rel="prefetch" href="/assets/js/110.4587d458.js"><link rel="prefetch" href="/assets/js/111.557f3fc7.js"><link rel="prefetch" href="/assets/js/112.37beda15.js"><link rel="prefetch" href="/assets/js/113.ecf8e7de.js"><link rel="prefetch" href="/assets/js/114.4a0d02f0.js"><link rel="prefetch" href="/assets/js/115.10e6a3ad.js"><link rel="prefetch" href="/assets/js/116.3bcc1260.js"><link rel="prefetch" href="/assets/js/117.286c5c0b.js"><link rel="prefetch" href="/assets/js/118.f4801cc7.js"><link rel="prefetch" href="/assets/js/119.09394760.js"><link rel="prefetch" href="/assets/js/12.ae7dfa8d.js"><link rel="prefetch" href="/assets/js/120.80ce7432.js"><link rel="prefetch" href="/assets/js/13.34a67b6f.js"><link rel="prefetch" href="/assets/js/14.2605a7a1.js"><link rel="prefetch" href="/assets/js/15.e1270692.js"><link rel="prefetch" href="/assets/js/16.85bfeedf.js"><link rel="prefetch" href="/assets/js/17.b9af131d.js"><link rel="prefetch" href="/assets/js/18.cbe48f2c.js"><link rel="prefetch" href="/assets/js/19.4680deae.js"><link rel="prefetch" href="/assets/js/20.72273fa1.js"><link rel="prefetch" href="/assets/js/21.3e1da5dd.js"><link rel="prefetch" href="/assets/js/22.f31722f7.js"><link rel="prefetch" href="/assets/js/23.00f0a755.js"><link rel="prefetch" href="/assets/js/24.56f11c26.js"><link rel="prefetch" href="/assets/js/25.1a8ae695.js"><link rel="prefetch" href="/assets/js/26.4af03cb6.js"><link rel="prefetch" href="/assets/js/27.99e1e2b3.js"><link rel="prefetch" href="/assets/js/28.085758d6.js"><link rel="prefetch" href="/assets/js/29.caac3cdd.js"><link rel="prefetch" href="/assets/js/3.c7da8c86.js"><link rel="prefetch" href="/assets/js/30.9115571a.js"><link rel="prefetch" href="/assets/js/31.3c5b26c4.js"><link rel="prefetch" href="/assets/js/32.c810c65c.js"><link rel="prefetch" href="/assets/js/33.f98fdd71.js"><link rel="prefetch" href="/assets/js/34.d24d7208.js"><link rel="prefetch" href="/assets/js/35.383b9699.js"><link rel="prefetch" href="/assets/js/36.6daff889.js"><link rel="prefetch" href="/assets/js/37.67f875d6.js"><link rel="prefetch" href="/assets/js/38.26964ece.js"><link rel="prefetch" href="/assets/js/39.651253c8.js"><link rel="prefetch" href="/assets/js/4.e00be33d.js"><link rel="prefetch" href="/assets/js/40.7adad5a7.js"><link rel="prefetch" href="/assets/js/41.4ac3a72c.js"><link rel="prefetch" href="/assets/js/42.50e071e0.js"><link rel="prefetch" href="/assets/js/43.4e460b28.js"><link rel="prefetch" href="/assets/js/44.66368f68.js"><link rel="prefetch" href="/assets/js/45.33d57e69.js"><link rel="prefetch" href="/assets/js/46.0d2ee47d.js"><link rel="prefetch" href="/assets/js/47.b701ff01.js"><link rel="prefetch" href="/assets/js/49.0ffc44a4.js"><link rel="prefetch" href="/assets/js/5.0871711b.js"><link rel="prefetch" href="/assets/js/50.fe406a35.js"><link rel="prefetch" href="/assets/js/51.b24b9982.js"><link rel="prefetch" href="/assets/js/52.b8eded48.js"><link rel="prefetch" href="/assets/js/53.784fd970.js"><link rel="prefetch" href="/assets/js/54.c1bffa16.js"><link rel="prefetch" href="/assets/js/55.d3369206.js"><link rel="prefetch" href="/assets/js/56.a39c4157.js"><link rel="prefetch" href="/assets/js/57.3dfba582.js"><link rel="prefetch" href="/assets/js/58.c93f6915.js"><link rel="prefetch" href="/assets/js/59.6b776e9f.js"><link rel="prefetch" href="/assets/js/6.bd161d08.js"><link rel="prefetch" href="/assets/js/60.624c2a39.js"><link rel="prefetch" href="/assets/js/61.c55b5b91.js"><link rel="prefetch" href="/assets/js/62.3d2dd060.js"><link rel="prefetch" href="/assets/js/63.e64a527c.js"><link rel="prefetch" href="/assets/js/64.c75ae631.js"><link rel="prefetch" href="/assets/js/65.072e12f8.js"><link rel="prefetch" href="/assets/js/66.d79eb4e0.js"><link rel="prefetch" href="/assets/js/67.ac22efdf.js"><link rel="prefetch" href="/assets/js/68.9ddfecd3.js"><link rel="prefetch" href="/assets/js/69.704840c7.js"><link rel="prefetch" href="/assets/js/7.81bece1e.js"><link rel="prefetch" href="/assets/js/70.96a7c992.js"><link rel="prefetch" href="/assets/js/71.1392b311.js"><link rel="prefetch" href="/assets/js/72.1f24c100.js"><link rel="prefetch" href="/assets/js/73.68159c54.js"><link rel="prefetch" href="/assets/js/74.ad0217d3.js"><link rel="prefetch" href="/assets/js/75.f0722bf0.js"><link rel="prefetch" href="/assets/js/76.18a15a8e.js"><link rel="prefetch" href="/assets/js/77.c2d81548.js"><link rel="prefetch" href="/assets/js/78.02df4050.js"><link rel="prefetch" href="/assets/js/79.db35cff5.js"><link rel="prefetch" href="/assets/js/8.2da11b0e.js"><link rel="prefetch" href="/assets/js/80.ada25052.js"><link rel="prefetch" href="/assets/js/81.cea8edd7.js"><link rel="prefetch" href="/assets/js/82.d1d48188.js"><link rel="prefetch" href="/assets/js/83.684fd55d.js"><link rel="prefetch" href="/assets/js/84.7cb2e250.js"><link rel="prefetch" href="/assets/js/85.a331406e.js"><link rel="prefetch" href="/assets/js/86.e74733a2.js"><link rel="prefetch" href="/assets/js/87.17c6e5aa.js"><link rel="prefetch" href="/assets/js/88.7b80b255.js"><link rel="prefetch" href="/assets/js/89.7840a9e0.js"><link rel="prefetch" href="/assets/js/9.9701c9c5.js"><link rel="prefetch" href="/assets/js/90.9f8e2402.js"><link rel="prefetch" href="/assets/js/91.d55a18af.js"><link rel="prefetch" href="/assets/js/92.9f952d9b.js"><link rel="prefetch" href="/assets/js/93.0da9b769.js"><link rel="prefetch" href="/assets/js/94.5bc4f644.js"><link rel="prefetch" href="/assets/js/95.347a0d5c.js"><link rel="prefetch" href="/assets/js/96.95b172aa.js"><link rel="prefetch" href="/assets/js/97.88cbe0e9.js"><link rel="prefetch" href="/assets/js/98.b6eb5a77.js"><link rel="prefetch" href="/assets/js/99.4dc6a061.js">
    <link rel="stylesheet" href="/assets/css/0.styles.265dc05e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">AhuntSun</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/navitem/git/" class="nav-link">
  Git应用详解
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构与算法" class="dropdown-title"><span class="title">数据结构与算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          理论篇
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/navitem/algorithm/theory/" class="nav-link">
  JavaScript版基础知识
</a></li></ul></li><li class="dropdown-item"><h4>
          实战篇
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/navitem/algorithm/example/2offer/" class="nav-link">
  剑指offer
</a></li><li class="dropdown-subitem"><a href="/navitem/algorithm/example/leecode/" class="nav-link">
  leecode精选
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/navitem/article/" class="nav-link router-link-active">
  好文转载
</a></div><div class="nav-item"><a href="/navitem/essay/" class="nav-link">
  随笔整合
</a></div><div class="nav-item"><a href="/navitem/demo/" class="nav-link">
  实战Demo
</a></div><div class="nav-item"><a href="/navitem/esun/" class="nav-link">
  eSun-UI
</a></div><div class="nav-item"><a href="/navitem/tech/" class="nav-link">
  面试宝典
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          在线编辑
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          在线服务
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://cubic-bezier.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  贝塞尔曲线
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://easings.net/en" target="_blank" rel="noopener noreferrer" class="nav-link external">
  加速度曲线速查
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实用网站" class="dropdown-title"><span class="title">实用网站</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/navitem/website/1/" class="nav-link">
  图片编辑
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/2/" class="nav-link">
  样式设计
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/3/" class="nav-link">
  论坛网站
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/4/" class="nav-link">
  在线学习
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/5/" class="nav-link">
  创新社区
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/6/" class="nav-link">
  优质图库
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/7/" class="nav-link">
  UI设计
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/8/" class="nav-link">
  工具网站
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/9/" class="nav-link">
  JavaScript库
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="联系我" class="dropdown-title"><span class="title">联系我</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/AhuntSun-blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客园
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/qq_43425487" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://juejin.im/user/5dea331b518825123e7ae8d4" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/AhuntSun" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/ahuntsun" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/navitem/git/" class="nav-link">
  Git应用详解
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构与算法" class="dropdown-title"><span class="title">数据结构与算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          理论篇
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/navitem/algorithm/theory/" class="nav-link">
  JavaScript版基础知识
</a></li></ul></li><li class="dropdown-item"><h4>
          实战篇
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/navitem/algorithm/example/2offer/" class="nav-link">
  剑指offer
</a></li><li class="dropdown-subitem"><a href="/navitem/algorithm/example/leecode/" class="nav-link">
  leecode精选
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/navitem/article/" class="nav-link router-link-active">
  好文转载
</a></div><div class="nav-item"><a href="/navitem/essay/" class="nav-link">
  随笔整合
</a></div><div class="nav-item"><a href="/navitem/demo/" class="nav-link">
  实战Demo
</a></div><div class="nav-item"><a href="/navitem/esun/" class="nav-link">
  eSun-UI
</a></div><div class="nav-item"><a href="/navitem/tech/" class="nav-link">
  面试宝典
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          在线编辑
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          在线服务
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://cubic-bezier.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  贝塞尔曲线
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://easings.net/en" target="_blank" rel="noopener noreferrer" class="nav-link external">
  加速度曲线速查
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实用网站" class="dropdown-title"><span class="title">实用网站</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/navitem/website/1/" class="nav-link">
  图片编辑
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/2/" class="nav-link">
  样式设计
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/3/" class="nav-link">
  论坛网站
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/4/" class="nav-link">
  在线学习
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/5/" class="nav-link">
  创新社区
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/6/" class="nav-link">
  优质图库
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/7/" class="nav-link">
  UI设计
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/8/" class="nav-link">
  工具网站
</a></li><li class="dropdown-item"><!----> <a href="/navitem/website/9/" class="nav-link">
  JavaScript库
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="联系我" class="dropdown-title"><span class="title">联系我</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/AhuntSun-blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客园
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/qq_43425487" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://juejin.im/user/5dea331b518825123e7ae8d4" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/AhuntSun" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/ahuntsun" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Part1</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Part2</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Part3</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Part4</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Part5</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Part6</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/navitem/article/notes/browser/notes/29.html" class="sidebar-link">29.HTTP1：HTTP性能优化</a></li><li><a href="/navitem/article/notes/browser/notes/30.html" class="sidebar-link">30.HTTP2：如何提升网络速度</a></li><li><a href="/navitem/article/notes/browser/notes/31.html" aria-current="page" class="active sidebar-link">31.HTTP3：甩掉TCP、TCL包袱 构建高效网络</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/navitem/article/notes/browser/notes/31.html#tcp-的队头阻塞" class="sidebar-link">TCP 的队头阻塞</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/browser/notes/31.html#tcp-建立连接的延时" class="sidebar-link">TCP 建立连接的延时</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/browser/notes/31.html#tcp-协议僵化" class="sidebar-link">TCP 协议僵化</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/browser/notes/31.html#quic-协议" class="sidebar-link">QUIC 协议</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/browser/notes/31.html#http-3-的挑战" class="sidebar-link">HTTP/3 的挑战</a></li><li class="sidebar-sub-header"><a href="/navitem/article/notes/browser/notes/31.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/navitem/article/notes/browser/notes/32.html" class="sidebar-link">32.同源策略：为什么XMLHttpRequst不能跨域请求资源</a></li><li><a href="/navitem/article/notes/browser/notes/33.html" class="sidebar-link">33.跨站脚本攻击XSS：为什么Cookie中有httpOnly属性</a></li><li><a href="/navitem/article/notes/browser/notes/34.html" class="sidebar-link">34.CSRF攻击：陌生链接不要随便点</a></li><li><a href="/navitem/article/notes/browser/notes/35.html" class="sidebar-link">35.沙盒：页面和系统之间的隔离墙</a></li><li><a href="/navitem/article/notes/browser/notes/36.html" class="sidebar-link">36.HTTPS：让数据传输更安全</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_31-http3：甩掉tcp、tcl包袱-构建高效网络"><a href="#_31-http3：甩掉tcp、tcl包袱-构建高效网络" class="header-anchor">#</a> 31.HTTP3：甩掉TCP、TCL包袱 构建高效网络</h1> <p>前面两篇文章我们分析了 <code>HTTP/1</code> 和 <code>HTTP/2</code>，在 <code>HTTP/2</code> 出现之前，开发者需要采取很多变通的方式来解决 <code>HTTP/1</code> 所存在的问题，不过 <code>HTTP/2</code> 在 <code>2018</code> 年就开始得到了大规模的应用，<code>HTTP/1</code> 中存在的一大堆缺陷都得到了解决。</p> <p><code>HTTP/2</code> 的一个核心特性是使用了<strong>多路复用技术</strong>，因此它可以通过一个 <code>TCP</code> 连接来发送多个 <code>URL</code> 请求。多路复用技术能<strong>充分利用带宽</strong>，最大限度规避了 <code>TCP</code> 的<strong>慢启动</strong>所带来的问题，同时还实现了<strong>头部压缩</strong>、<strong>服务器推送</strong>等功能，使得页面资源的传输速度得到了大幅提升。在 <code>HTTP/1.1</code> 时代，为了提升并行下载效率，浏览器为每个域名维护了 <code>6</code> 个 <code>TCP</code> 连接；而采用 <code>HTTP/2</code> 之后，浏览器只需要为每个域名维护 <code>1</code> 个 <code>TCP</code> 持久连接，同时还解决了 <code>HTTP/1.1</code> 队头阻塞的问题。</p> <p>从目前的情况来看，<code>HTTP/2</code> 似乎可以完美取代 <code>HTTP/1</code> 了，不过 <code>HTTP/2</code> 依然存在一些缺陷，于是就有了 <code>HTTP/3</code>。和通常一样，介绍 <code>HTTP/3</code> 之前，我们先来看看 <code>HTTP/2</code> 到底有什么缺陷。</p> <h2 id="tcp-的队头阻塞"><a href="#tcp-的队头阻塞" class="header-anchor">#</a> <code>TCP</code> 的队头阻塞</h2> <p>虽然 <code>HTTP/2</code> 解决了应用层面的队头阻塞问题，不过和 <code>HTTP/1.1</code> 一样，<code>HTTP/2</code> 依然是基于 <code>TCP</code> 协议的，而 <code>TCP</code> 最初就是为了<strong>单连接</strong>而设计的。你可以把 <code>TCP</code> 连接看成是两台计算机之前的一个<strong>虚拟管道</strong>，计算机的一端将要传输的数据按照顺序放入管道，最终数据会以相同的顺序出现在管道的另外一头。</p> <p>接下来我们就来分析下 <code>HTTP/1.1</code> 协议栈中 <code>TCP</code> 是如何传输数据的。为直观理解，你可以参考下图：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/browser/part6/ls31/1.png" alt=""></p> <p>通过上图你会发现，从一端发送给另外一端的数据会被拆分为一个个<strong>按照顺序排列</strong>的数据包，这些数据包通过网络传输到了接收端，接收端再按照顺序将这些数据包组合成原始数据，这样就完成了数据传输。</p> <p>不过，如果在数据传输的过程中，有一个数据因为网络故障或者其他原因而<strong>丢包</strong>了，那么整个 <code>TCP</code> 的连接就会处于<strong>暂停状态</strong>，需要等待丢失的数据包被重新传输过来。你可以把 <code>TCP</code> 连接看成是一个<strong>按照顺序传输数据</strong>的管道，管道中的<strong>任意一个数据丢失</strong>了，那之后的数据<strong>都需要等待该数据的重新传输</strong>。为了直观理解，你可以参考下图：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/browser/part6/ls31/2.png" alt=""></p> <p>我们就把在 <code>TCP</code> 传输过程中，由于单个数据包的丢失而造成的阻塞称为 <code>TCP</code> 上的<strong>队头阻塞</strong>。</p> <p>那队头阻塞是怎么影响 <code>HTTP/2</code> 传输的呢？首先我们来看正常情况下 <code>HTTP/2</code> 是怎么传输多路请求的，为了直观理解，你可以参考下图：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/browser/part6/ls31/3.png" alt=""></p> <p>通过该图，我们知道在 <code>HTTP/2</code> 中，多个请求是跑在一个 <code>TCP</code> 管道中的，如果其中任意一路数据流中出现了丢包的情况，那么就会<strong>阻塞</strong>该 <code>TCP</code> 连接中的<strong>所有请求</strong>。这不同于 <code>HTTP/1.1</code>，使用 <code>HTTP/1.1</code> 时，浏览器为每个域名开启了 <code>6</code> 个 <code>TCP</code> 连接，如果其中的 <code>1</code> 个<code>TCP</code> 连接发生了<strong>队头阻塞</strong>，那么其他的 <code>5</code> 个连接依然可以继续传输数据。</p> <p>所以随着<strong>丢包率的增加</strong>，<code>HTTP/2</code> 的<strong>传输效率也会越来越差</strong>。有测试数据表明，当系统达到了 <code>2%</code>的丢包率时，<code>HTTP/1.1</code> 的传输效率反而比<code>HTTP/2</code> 表现得更好。</p> <h2 id="tcp-建立连接的延时"><a href="#tcp-建立连接的延时" class="header-anchor">#</a> <code>TCP</code> 建立连接的延时</h2> <p>除了 <code>TCP</code> <strong>队头阻塞</strong>之外，<code>TCP</code> 的握手过程也是影响传输效率的一个重要因素。</p> <p>为了搞清楚 <code>TCP</code> 协议建立连接的延迟问题，我们还是先来回顾下网络延迟的概念，这会有助于你对后面内容的理解。<strong>网络延迟</strong>又称为 <code>RTT</code>（<code>Round Trip Time</code>）。我们把从浏览器发送一个数据包到服务器，再从服务器返回数据包到浏览器的整个往返时间称为 <code>RTT</code>（如下图）。<code>RTT</code> 是反映网络性能的一个重要指标。</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/browser/part6/ls31/4.png" alt=""></p> <p>那建立 <code>TCP</code> 连接时，需要花费多少个 <code>RTT</code> 呢？下面我们来计算下。</p> <p>我们知道 <code>HTTP/1</code> 和 <code>HTTP/2</code> 都是使用 <code>TCP</code> 协议来传输的，而如果使用 <code>HTTPS</code> 的话，还需要使用 <code>TLS</code> 协议进行安全传输，而使用 <code>TLS</code> 也需要一个握手过程，这样就需要有<strong>两个握手延迟过程</strong>。</p> <ul><li>在建立 <code>TCP</code> 连接的时候，需要和服务器进行<strong>三次握手来确认连接成功</strong>，也就是说需要在消耗完 <code>1.5</code> 个 <code>RTT</code> 之后才能进行数据传输。</li> <li>进行 <code>TLS</code> 连接，<code>TLS</code> 有两个版本——<code>TLS1.2</code> 和 <code>TLS1.3</code>，每个版本建立连接所花的时间不同，大致是需要 <code>1～2</code> 个 <code>RTT</code>，关于 <code>HTTPS</code> 我们到后面到安全模块再做详细介绍</li></ul> <p>总之，在传输数据之前，我们需要花掉 <code>3～4</code> 个 <code>RTT</code>。如果浏览器和服务器的物理距离较近，那么 <code>1</code> 个 <code>RTT</code> 的时间可能在 <code>10</code> 毫秒以内，也就是说总共要消耗掉 <code>30～40</code> 毫秒。这个时间也许用户还可以接受，但如果服务器相隔较远，那么 <code>1</code> 个 <code>RTT</code> 就可能需要 <code>100</code> 毫秒以上了，这种情况下整个握手过程需要 <code>300～400</code> 毫秒，这时用户就能明显地感受到“慢”了。</p> <h2 id="tcp-协议僵化"><a href="#tcp-协议僵化" class="header-anchor">#</a> <code>TCP</code> 协议僵化</h2> <p>现在我们知道了 <code>TCP</code> 协议存在<strong>队头阻塞</strong>和<strong>建立连接延迟</strong>等缺点，那我们是不是可以通过改进 <code>TCP</code> 协议来解决这些问题呢？</p> <p>答案是：非常困难。之所以这样，主要有两个原因。</p> <p>第一个是<strong>中间设备的僵化</strong>。要搞清楚什么是中间设备僵化，我们先要弄明白什么是<strong>中间设备</strong>。我们知道互联网是由多个网络互联的网状结构，为了能够保障互联网的正常工作，我们需要在互联网的各处搭建各种设备，这些设备就被称为中间设备。</p> <p>这些中间设备有很多种类型，并且每种设备都有自己的目的，这些设备包括了<strong>路由器</strong>、<strong>防火墙</strong>、<code>NAT</code>、<strong>交换机</strong>等。它们通常依赖一些很少升级的软件，这些软件使用了大量的 <code>TCP</code> 特性，这些功能被设置之后就很少更新了。</p> <p>所以，如果我们在客户端升级了 <code>TCP</code> 协议，但是当新协议的数据包经过这些中间设备时，它们可能不理解包的内容，于是这些数据就会被丢弃掉。这就是<strong>中间设备僵化</strong>，它是阻碍 <code>TCP</code> 更新的一大障碍。</p> <p>除了中间设备僵化外，<strong>操作系统</strong>也是导致 <code>TCP</code> 协议僵化的另外一个原因。因为 <code>TCP</code> 协议都是通过操作系统内核来实现的，应用程序只能使用不能修改。通常操作系统的更新都滞后于软件的更新，因此要想自由地更新内核中的 <code>TCP</code> 协议也是非常困难的</p> <h2 id="quic-协议"><a href="#quic-协议" class="header-anchor">#</a> <code>QUIC</code> 协议</h2> <p><code>HTTP/2</code> 存在一些比较严重的与 <code>TCP</code> 协议相关的缺陷，但由于 <code>TCP</code> 协议僵化，我们几乎不可能通过修改 <code>TCP</code> 协议自身来解决这些问题，那么解决问题的思路是<strong>绕过 <code>TCP</code> 协议</strong>，发明一个 <code>TCP</code> 和 <code>UDP</code> 之外的新的传输协议。但是这也面临着和修改 <code>TCP</code> 一样的挑战，因为中间设备的僵化，这些设备只认 <code>TCP</code> 和 <code>UDP</code>，如果采用了新的协议，新协议在这些设备同样不被很好地支持。</p> <p>因此，<code>HTTP/3</code> 选择了一个折衷的方法——<code>UDP</code> 协议，基于 <code>UDP</code> 实现了类似于 <code>TCP</code> 的<strong>多路数据流</strong>、<strong>传输可靠性</strong>等功能，我们把这套功能称为<code>QUIC</code> 协议。关于 <code>HTTP/2</code> 和 <code>HTTP/3</code> 协议栈的比较，你可以参考下图：</p> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/browser/part6/ls31/5.png" alt=""></p> <p>通过上图我们可以看出，<code>HTTP/3</code> 中的 <code>QUIC</code> 协议集合了以下几点功能。</p> <ul><li>实现了类似 <code>TCP</code> 的<strong>流量控制</strong>、<strong>传输可靠性</strong>的功能。虽然 <code>UDP</code> 不提供可靠性的传输，但 <code>QUIC</code> 在 <code>UDP</code> 的基础之上增加了一层来保证数据可靠性传输。它提供了<strong>数据包重传</strong>、<strong>拥塞控制</strong>以及其他一些 <code>TCP</code> 中存在的特性。</li> <li>集成了 <code>TLS</code> <strong>加密功能</strong>。目前 <code>QUIC</code> 使用的是 <code>TLS1.3</code>，相较于早期版本 <code>TLS1.3</code> 有更多的优点，其中最重要的一点是<strong>减少了握手所花费的 <code>RTT</code> 个数</strong>。</li> <li>实现了 <code>HTTP/2</code> 中的<strong>多路复用功能</strong>。和 <code>TCP</code> 不同，<code>QUIC</code> 实现了在同一物理连接上可以有多个独立的逻辑数据流（如下图）。实现了<strong>数据流的单独传输</strong>，就解决了 <code>TCP</code> 中<strong>队头阻塞</strong>的问题。</li></ul> <p><img src="http://ahuntsun.gitee.io/blogimagebed/img/browser/part6/ls31/6.png" alt=""></p> <p>实现了<strong>快速握手功能</strong>。由于 <code>QUIC</code> 是基于 <code>UDP</code> 的，所以 <code>QUIC</code> 可以实现使用 <code>0-RTT</code> 或者 <code>1-RTT</code> 来建立连接，这意味着 <code>QUIC</code> 可以用最快的速度来发送和接收数据，这样可以大大提升首次打开页面的速度。</p> <h2 id="http-3-的挑战"><a href="#http-3-的挑战" class="header-anchor">#</a> <code>HTTP/3</code> 的挑战</h2> <p>通过上面的分析，我们相信在技术层面，<code>HTTP/3</code> 是个完美的协议。不过要将 <code>HTTP/3</code> 应用到实际环境中依然面临着诸多严峻的挑战，这些挑战主要来自于以下<strong>三个方面：</strong></p> <ul><li><p>**第一：**从目前的情况来看，服务器和浏览器端都没有对 <code>HTTP/3</code> 提供比较完整的支持。<code>Chrome</code> 虽然在数年前就开始支持 <code>Google</code> 版本的 <code>QUIC</code>，但是这个版本的 <code>QUIC</code> 和官方的 <code>QUIC</code> 存在着非常大的差异。</p></li> <li><p>**第二：**部署 <code>HTTP/3</code> 也存在着非常大的问题。因为系统内核对 <code>UDP</code> 的优化远远没有达到 <code>TCP</code> 的优化程度，这也是阻碍 <code>QUIC</code> 的一个重要原因。</p></li> <li><p>**第三：**中间设备僵化的问题。这些设备对 <code>UDP</code> 的优化程度远远低于 <code>TCP</code>，据统计使用 <code>QUIC</code> 协议时，大约有 <code>3%～7%</code> 的丢包率。</p></li></ul> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>好了，今天就介绍到这里，下面我来总结下本文的主要内容。</p> <p>我们首先分析了<code>HTTP/2</code> 中所存在的一些问题，主要包括了 <code>TCP</code> 的<strong>队头阻塞</strong>、<strong>建立 <code>TCP</code> 连接的延时</strong>、<strong><code>TCP</code> 协议僵化</strong>等问题。</p> <p>这些问题都是 <code>TCP</code> 的内部问题，因此要解决这些问题就要优化 <code>TCP</code> 或者“<strong>另起炉灶</strong>”创造新的协议。由于优化 <code>TCP</code> 协议存在着诸多挑战，所以官方选择了创建新的 <code>QUIC</code> 协议。</p> <p><code>HTTP/3</code> 正是基于 <code>QUIC</code> 协议的，你可以把 <code>QUIC</code> 看成是集成了“<code>TCP+HTTP/2</code> 的<strong>多路复用</strong> +<code>TLS</code> 等功能”的一套协议。这是集众家所长的一个协议，从协议最底层对 <code>Web</code> 的文件传输做了比较彻底的优化，所以等生态相对成熟时，可以用来打造比现在的 <code>HTTP/2</code> 还更加高效的网络。</p> <p>虽说这套协议解决了 <code>HTTP/2</code> 中因 <code>TCP</code> 而带来的问题，不过由于是改动了底层协议，所以推广起来还会面临着巨大的挑战。</p> <p><strong>关于 HTTP/3 的未来，我有下面两点判断：</strong></p> <ul><li>从标准制定到实践再到协议优化还需要走很长一段路；</li> <li>因为<strong>动了底层协议</strong>，所以 <code>HTTP/3</code> 的增长会比较缓慢，这和 <code>HTTP/2</code> 有着本质的区别</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新于:</span> <span class="time">2020年8月21日星期五上午9点29分</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/navitem/article/notes/browser/notes/30.html" class="prev">
        30.HTTP2：如何提升网络速度
      </a></span> <span class="next"><a href="/navitem/article/notes/browser/notes/32.html">
        32.同源策略：为什么XMLHttpRequst不能跨域请求资源
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.9d9ee333.js" defer></script><script src="/assets/js/2.39079bb7.js" defer></script><script src="/assets/js/48.6ac79eae.js" defer></script>
  </body>
</html>
