(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{436:function(s,t,a){"use strict";a.r(t);var n={mounted:function(){var s=document.createElement("script");s.type="text/javascript",s.charset="UTF-8",s.src="http://tajs.qq.com/stats?sId=59154049",document.body.appendChild(s)}},e=a(27),r=Object(e.a)(n,(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"精简"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#精简"}},[s._v("#")]),s._v(" 精简")]),s._v(" "),a("h2",{attrs:{id:"一、css相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、css相关"}},[s._v("#")]),s._v(" 一、CSS相关")]),s._v(" "),a("h3",{attrs:{id:"_1-1-左边定宽，右边自适应方案：float-margin，float-calc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-左边定宽，右边自适应方案：float-margin，float-calc"}},[s._v("#")]),s._v(" 1.1 左边定宽，右边自适应方案：float + margin，float + calc")]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 方案1 */")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".left")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 120px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" left"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".right")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin-left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 120px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 方案2 */")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".left")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 120px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" left"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".right")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("calc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("100% - 120px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" left"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h3",{attrs:{id:"_1-2-左右两边定宽，中间自适应：float，float-calc-圣杯布局（设置bfc，margin负值法），flex"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-左右两边定宽，中间自适应：float，float-calc-圣杯布局（设置bfc，margin负值法），flex"}},[s._v("#")]),s._v(" 1.2 左右两边定宽，中间自适应：float，float + calc, 圣杯布局（设置BFC，margin负值法），flex")]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".wrap")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 200px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".wrap > div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 方案1 */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".left")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 120px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" left"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".right")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" right"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 120px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".center")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0 120px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 方案2 */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".left")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 120px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" left"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".right")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" right"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 120px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".center")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("calc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("100% - 240px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin-left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 120px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 方案3 */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".wrap")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" flex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".left")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 120px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".right")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 120px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".center")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("flex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br")])]),a("h3",{attrs:{id:"_1-3-左右居中"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-左右居中"}},[s._v("#")]),s._v(" 1.3 左右居中")]),s._v(" "),a("ul",[a("li",[s._v("行内元素: "),a("code",[s._v("text-align: center")])]),s._v(" "),a("li",[s._v("定宽块状元素: 左右 "),a("code",[s._v("margin")]),s._v(" 值为 "),a("code",[s._v("auto")])]),s._v(" "),a("li",[s._v("不定宽块状元素: "),a("code",[s._v("table")]),s._v("布局，"),a("code",[s._v("position + transform")])])]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 方案1 */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".wrap")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("text-align")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" center\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".center")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" inline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* or */")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* display: inline-block; */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 方案2 */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".center")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0 auto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 方案2 */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".wrap")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" relative"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".center")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" absulote"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 50%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("transform")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("translateX")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("-50%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("h3",{attrs:{id:"_1-4-上下垂直居中"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-上下垂直居中"}},[s._v("#")]),s._v(" 1.4 上下垂直居中")]),s._v(" "),a("ul",[a("li",[s._v("定高："),a("code",[s._v("margin")]),s._v("，"),a("code",[s._v("position + margin")]),s._v("(负值)")]),s._v(" "),a("li",[s._v("不定高："),a("code",[s._v("position")]),s._v(" + "),a("code",[s._v("transform")]),s._v("，"),a("code",[s._v("flex")]),s._v("，"),a("code",[s._v("IFC + vertical-align:middle")])])]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 定高方案1 */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".center")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 50px 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 定高方案2 */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".center")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" absolute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 50%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin-top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" -25px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 不定高方案1 */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".center")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" absolute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 50%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("transform")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("translateY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("-50%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 不定高方案2 */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".wrap")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" flex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("align-items")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" center"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".center")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 不定高方案3 */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 设置 inline-block 则会在外层产生 IFC，高度设为 100% 撑开 wrap 的高度 */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".wrap::before")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("content")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" inline-block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("vertical-align")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" middle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".wrap")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("text-align")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" center"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".center")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" inline-block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("vertical-align")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" middle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br")])]),a("h3",{attrs:{id:"_1-5-盒模型：content（元素内容）-padding（内边距）-border（边框）-margin（外边距）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-盒模型：content（元素内容）-padding（内边距）-border（边框）-margin（外边距）"}},[s._v("#")]),s._v(" 1.5 盒模型：content（元素内容） + padding（内边距） + border（边框） + margin（外边距）")]),s._v(" "),a("blockquote",[a("p",[s._v("延伸： "),a("code",[s._v("box-sizing")])])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("content-box")]),s._v("：默认值，总宽度 = "),a("code",[s._v("margin")]),s._v(" + "),a("code",[s._v("border")]),s._v(" + "),a("code",[s._v("padding")]),s._v(" + "),a("code",[s._v("width")])]),s._v(" "),a("li",[a("code",[s._v("border-box")]),s._v("：盒子宽度包含 "),a("code",[s._v("padding")]),s._v(" 和 "),a("code",[s._v("border")]),s._v("，"),a("code",[s._v("总宽度 = margin + width")])]),s._v(" "),a("li",[a("code",[s._v("inherit")]),s._v("：从父元素继承 "),a("code",[s._v("box-sizing")]),s._v(" 属性")])]),s._v(" "),a("h3",{attrs:{id:"_1-6-bfc、ifc、gfc、ffc：fc（formatting-contexts），格式化上下文"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-bfc、ifc、gfc、ffc：fc（formatting-contexts），格式化上下文"}},[s._v("#")]),s._v(" 1.6 BFC、IFC、GFC、FFC：FC（Formatting Contexts），格式化上下文")]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("BFC")]),s._v("：块级格式化上下文，容器里面的子元素不会在布局上影响到外面的元素，反之也是如此(按照这个理念来想，只要脱离文档流，肯定就能产生 "),a("code",[s._v("BFC")]),s._v(")。产生 "),a("code",[s._v("BFC")]),s._v(" 方式如下")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("float")]),s._v(" 的值不为 "),a("code",[s._v("none")]),s._v("。")]),s._v(" "),a("li",[a("code",[s._v("overflow")]),s._v(" 的值不为 "),a("code",[s._v("visible")]),s._v("。")]),s._v(" "),a("li",[a("code",[s._v("position")]),s._v(" 的值不为 "),a("code",[s._v("relative")]),s._v(" 和 "),a("code",[s._v("static")]),s._v("。")]),s._v(" "),a("li",[a("code",[s._v("display")]),s._v(" 的值为 "),a("code",[s._v("table-cell")]),s._v(", "),a("code",[s._v("table-caption")]),s._v(", "),a("code",[s._v("inline-block")]),s._v("中的任何一个")])]),s._v(" "),a("blockquote",[a("p",[s._v("用处？常见的多栏布局，结合块级别元素浮动，里面的元素则是在一个相对隔离的环境里运行")])]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("IFC")]),s._v("：内联格式化上下文，"),a("code",[s._v("IFC")]),s._v(" 的 "),a("code",[s._v("line")]),s._v(" "),a("code",[s._v("box")]),s._v("（线框）高度由其包含行内元素中最高的实际高度计算而来（不受到竖直方向的 "),a("code",[s._v("padding/margin")]),s._v(" 影响)。")])]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("IFC")]),s._v("中的"),a("code",[s._v("line box")]),s._v("一般左右都贴紧整个 "),a("code",[s._v("IFC")]),s._v("，但是会因为 "),a("code",[s._v("float")]),s._v(" 元素而扰乱。"),a("code",[s._v("float")]),s._v(" 元素会位于 IFC 与 "),a("code",[s._v("line box")]),s._v(" 之间，使得 "),a("code",[s._v("line box")]),s._v(" 宽度缩短。 同个 "),a("code",[s._v("ifc")]),s._v(" 下的多个 "),a("code",[s._v("line box")]),s._v(" 高度会不同。 "),a("code",[s._v("IFC")]),s._v("中时不可能有块级元素的，当插入块级元素时（如 "),a("code",[s._v("p")]),s._v(" 中插入 "),a("code",[s._v("div")]),s._v("）会产生两个匿名块与 "),a("code",[s._v("div")]),s._v(" 分隔开，即产生两个 "),a("code",[s._v("IFC")]),s._v(" ，每个 "),a("code",[s._v("IFC")]),s._v(" 对外表现为块级元素，与 "),a("code",[s._v("div")]),s._v(" 垂直排列。")])]),s._v(" "),a("p",[s._v("用处？")]),s._v(" "),a("ul",[a("li",[s._v("水平居中：当一个块要在环境中水平居中时，设置其为 "),a("code",[s._v("inline-block")]),s._v(" 则会在外层产生"),a("code",[s._v("IFC")]),s._v("，通过 "),a("code",[s._v("text-align")]),s._v(" 则可以使其水平居中。")]),s._v(" "),a("li",[s._v("垂直居中：创建一个 "),a("code",[s._v("IFC")]),s._v("，用其中一个元素撑开父元素的高度，然后设置其 "),a("code",[s._v("vertical-align")]),s._v(": "),a("code",[s._v("middle")]),s._v("，其他行内元素则可以在此父元素下垂直居中")])]),s._v(" "),a("blockquote",[a("ul",[a("li",[a("strong",[s._v("GFC")]),s._v("：网格布局格式化上下文（"),a("code",[s._v("display: grid")]),s._v("）")]),s._v(" "),a("li",[a("strong",[s._v("FFC")]),s._v("：自适应格式化上下文（"),a("code",[s._v("display: flex")]),s._v("）")])])]),s._v(" "),a("h2",{attrs:{id:"二、js-基础（es5）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、js-基础（es5）"}},[s._v("#")]),s._v(" 二、JS 基础（ES5）")]),s._v(" "),a("h3",{attrs:{id:"_2-1-原型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-原型"}},[s._v("#")]),s._v(" 2.1 原型")]),s._v(" "),a("blockquote",[a("p",[s._v("这里可以谈很多，只要围绕 "),a("code",[s._v("[[ prototype ]]")]),s._v(" 谈，都没啥问题")])]),s._v(" "),a("h3",{attrs:{id:"_2-2-闭包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-闭包"}},[s._v("#")]),s._v(" 2.2 闭包")]),s._v(" "),a("blockquote",[a("p",[s._v("牵扯作用域，可以两者联系起来一起谈")])]),s._v(" "),a("h3",{attrs:{id:"_2-3-作用域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-作用域"}},[s._v("#")]),s._v(" 2.3 作用域")]),s._v(" "),a("blockquote",[a("p",[s._v("词法作用域，动态作用域")])]),s._v(" "),a("h3",{attrs:{id:"_2-4-this"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-this"}},[s._v("#")]),s._v(" 2.4 this")]),s._v(" "),a("blockquote",[a("p",[s._v("不同情况的调用，"),a("code",[s._v("this")]),s._v("指向分别如何。顺带可以提一下 "),a("code",[s._v("es6")]),s._v(" 中箭头函数没有 "),a("code",[s._v("this")]),s._v(", "),a("code",[s._v("arguments")]),s._v(", "),a("code",[s._v("super")]),s._v(" 等，这些只依赖包含箭头函数最接近的函数")])]),s._v(" "),a("h3",{attrs:{id:"_2-5-call，apply，bind-三者用法和区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-call，apply，bind-三者用法和区别"}},[s._v("#")]),s._v(" 2.5 call，apply，bind 三者用法和区别")]),s._v(" "),a("blockquote",[a("p",[s._v("参数、绑定规则（显示绑定和强绑定），运行效率（最终都会转换成一个一个的参数去运行）、运行情况（"),a("code",[s._v("call")]),s._v("，"),a("code",[s._v("apply")]),s._v(" 立即执行，"),a("code",[s._v("bind")]),s._v(" 是"),a("code",[s._v("return")]),s._v(" 出一个 "),a("code",[s._v("this")]),s._v(" “固定”的函数，这也是为什么 "),a("code",[s._v("bind")]),s._v(" 是强绑定的一个原因）")])]),s._v(" "),a("blockquote",[a("p",[s._v("注：“固定”这个词的含义，它指的固定是指只要传进去了 "),a("code",[s._v("context")]),s._v("，则 "),a("code",[s._v("bind")]),s._v(" 中 "),a("code",[s._v("return")]),s._v(" 出来的函数 "),a("code",[s._v("this")]),s._v(" 便一直指向 "),a("code",[s._v("context")]),s._v("，除非 "),a("code",[s._v("context")]),s._v(" 是个变量")])]),s._v(" "),a("h3",{attrs:{id:"_2-6-变量声明提升"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-变量声明提升"}},[s._v("#")]),s._v(" 2.6 变量声明提升")]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("js")]),s._v(" 代码在运行前都会进行 "),a("code",[s._v("AST")]),s._v(" 解析，函数申明默认会提到当前作用域最前面，变量申明也会进行提升。但赋值不会得到提升。关于 "),a("code",[s._v("AST")]),s._v(" 解析，这里也可以说是形成词法作用域的主要原因")])]),s._v(" "),a("h2",{attrs:{id:"三、js-基础（es6）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、js-基础（es6）"}},[s._v("#")]),s._v(" 三、JS 基础（ES6）")]),s._v(" "),a("h3",{attrs:{id:"_3-1-let，const"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-let，const"}},[s._v("#")]),s._v(" 3.1 let，const")]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("let")]),s._v(" 产生块级作用域（通常配合 "),a("code",[s._v("for")]),s._v(" 循环或者 "),a("code",[s._v("{}")]),s._v(" 进行使用产生块级作用域），"),a("code",[s._v("const")]),s._v(" 申明的变量是常量（内存地址不变）")])]),s._v(" "),a("h3",{attrs:{id:"_3-2-promise"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-promise"}},[s._v("#")]),s._v(" 3.2 Promise")]),s._v(" "),a("blockquote",[a("p",[s._v("这里你谈 "),a("code",[s._v("promise")]),s._v("的时候，除了将他解决的痛点以及常用的 "),a("code",[s._v("API")]),s._v(" 之外，最好进行拓展把 "),a("code",[s._v("eventloop")]),s._v(" 带进来好好讲一下，"),a("code",[s._v("microtask")]),s._v("(微任务)、"),a("code",[s._v("macrotask")]),s._v("(任务) 的执行顺序，如果看过 "),a("code",[s._v("promise")]),s._v(" 源码，最好可以谈一谈 原生 "),a("code",[s._v("Promise")]),s._v(" 是如何实现的。"),a("code",[s._v("Promise")]),s._v(" 的关键点在于"),a("code",[s._v("callback")]),s._v(" 的两个参数，一个是 "),a("code",[s._v("resovle")]),s._v("，一个是 "),a("code",[s._v("reject")]),s._v("。还有就是 "),a("code",[s._v("Promise")]),s._v(" 的链式调用（"),a("code",[s._v("Promise.then()")]),s._v("，每一个 "),a("code",[s._v("then")]),s._v(" 都是一个责任人）")])]),s._v(" "),a("h3",{attrs:{id:"_3-3-generator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-generator"}},[s._v("#")]),s._v(" 3.3 Generator")]),s._v(" "),a("blockquote",[a("p",[s._v("遍历器对象生成函数，最大的特点是可以交出函数的执行权")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("function")]),s._v(" 关键字与函数名之间有一个星号；")]),s._v(" "),a("li",[s._v("函数体内部使用 "),a("code",[s._v("yield")]),s._v("表达式，定义不同的内部状态；")]),s._v(" "),a("li",[a("code",[s._v("next")]),s._v("指针移向下一个状态")])]),s._v(" "),a("blockquote",[a("p",[s._v("这里你可以说说 "),a("code",[s._v("Generator")]),s._v("的异步编程，以及它的语法糖 "),a("code",[s._v("async")]),s._v(" 和 "),a("code",[s._v("awiat")]),s._v("，传统的异步编程。"),a("code",[s._v("ES6")]),s._v(" 之前，异步编程大致如下")])]),s._v(" "),a("ul",[a("li",[s._v("回调函数")]),s._v(" "),a("li",[s._v("事件监听")]),s._v(" "),a("li",[s._v("发布/订阅")])]),s._v(" "),a("blockquote",[a("p",[s._v("传统异步编程方案之一：协程，多个线程互相协作，完成异步任务。")])]),s._v(" "),a("h3",{attrs:{id:"_3-4-async、await"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-async、await"}},[s._v("#")]),s._v(" 3.4 async、await")]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("Generator")]),s._v(" 函数的语法糖。有更好的语义、更好的适用性、返回值是 "),a("code",[s._v("Promise")]),s._v("。")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("async => *")])]),s._v(" "),a("li",[a("code",[s._v("await => yield")])])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 基本用法")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("timeout")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("ms")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("    \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("asyncConsole")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ms")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("timeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("asyncConsole")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello async and await'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("blockquote",[a("p",[s._v("注：最好把2，3，4 连到一起讲")])]),s._v(" "),a("h3",{attrs:{id:"_3-5-amd，cmd，commonjs，es6-module：解决原始无模块化的痛点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-amd，cmd，commonjs，es6-module：解决原始无模块化的痛点"}},[s._v("#")]),s._v(" 3.5 AMD，CMD，CommonJs，ES6 Module：解决原始无模块化的痛点")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("AMD")]),s._v("："),a("code",[s._v("requirejs")]),s._v(" 在推广过程中对模块定义的规范化产出，提前执行，推崇依赖前置")]),s._v(" "),a("li",[a("strong",[s._v("CMD")]),s._v("："),a("code",[s._v("seajs")]),s._v(" 在推广过程中对模块定义的规范化产出，延迟执行，推崇依赖就近")]),s._v(" "),a("li",[a("strong",[s._v("CommonJs")]),s._v("：模块输出的是一个值的 "),a("code",[s._v("copy")]),s._v("，运行时加载，加载的是一个对象（"),a("code",[s._v("module.exports")]),s._v(" 属性），该对象只有在脚本运行完才会生成")]),s._v(" "),a("li",[a("strong",[s._v("ES6 Module")]),s._v("：模块输出的是一个值的引用，编译时输出接口，"),a("code",[s._v("ES6")]),s._v("模块不是对象，它对外接口只是一种静态定义，在代码静态解析阶段就会生成。")])]),s._v(" "),a("h2",{attrs:{id:"四、框架相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、框架相关"}},[s._v("#")]),s._v(" 四、框架相关")]),s._v(" "),a("h3",{attrs:{id:"_4-1-数据双向绑定原理：常见数据绑定的方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-数据双向绑定原理：常见数据绑定的方案"}},[s._v("#")]),s._v(" 4.1 数据双向绑定原理：常见数据绑定的方案")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("Object.defineProperty（vue）")]),s._v("：劫持数据的 "),a("code",[s._v("getter")]),s._v(" 和 "),a("code",[s._v("setter")])]),s._v(" "),a("li",[s._v("脏值检测（"),a("code",[s._v("angularjs")]),s._v("）：通过特定事件进行轮循\n发布/订阅模式：通过消息发布并将消息进行订阅")])]),s._v(" "),a("h3",{attrs:{id:"_4-2-vdom：三个-part"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-vdom：三个-part"}},[s._v("#")]),s._v(" 4.2 VDOM：三个 part")]),s._v(" "),a("ul",[a("li",[s._v("虚拟节点类，将真实 "),a("code",[s._v("DOM")]),s._v("节点用 "),a("code",[s._v("js")]),s._v(" 对象的形式进行展示，并提供 "),a("code",[s._v("render")]),s._v(" 方法，将虚拟节点渲染成真实 "),a("code",[s._v("DOM")])]),s._v(" "),a("li",[s._v("节点 "),a("code",[s._v("diff")]),s._v(" 比较：对虚拟节点进行 "),a("code",[s._v("js")]),s._v(" 层面的计算，并将不同的操作都记录到 "),a("code",[s._v("patch")]),s._v(" 对象")]),s._v(" "),a("li",[a("code",[s._v("re-render")]),s._v("：解析 "),a("code",[s._v("patch")]),s._v(" 对象，进行 "),a("code",[s._v("re-render")])])]),s._v(" "),a("p",[a("strong",[s._v("补充1：VDOM 的必要性？")])]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("创建真实DOM的代价高")]),s._v("：真实的 "),a("code",[s._v("DOM")]),s._v(" 节点 "),a("code",[s._v("node")]),s._v(" 实现的属性很多，而 "),a("code",[s._v("vnode")]),s._v(" 仅仅实现一些必要的属性，相比起来，创建一个 "),a("code",[s._v("vnode")]),s._v(" 的成本比较低。")]),s._v(" "),a("li",[a("strong",[s._v("触发多次浏览器重绘及回流")]),s._v("：使用 "),a("code",[s._v("vnode")]),s._v(" ，相当于加了一个缓冲，让一次数据变动所带来的所有 "),a("code",[s._v("node")]),s._v(" 变化，先在 "),a("code",[s._v("vnode")]),s._v(" 中进行修改，然后 "),a("code",[s._v("diff")]),s._v(" 之后对所有产生差异的节点集中一次对 "),a("code",[s._v("DOM tree")]),s._v(" 进行修改，以减少浏览器的重绘及回流。")])]),s._v(" "),a("p",[a("strong",[s._v("补充2：vue 为什么采用 vdom？")])]),s._v(" "),a("blockquote",[a("p",[s._v("引入 "),a("code",[s._v("Virtual DOM")]),s._v(" 在性能方面的考量仅仅是一方面。")])]),s._v(" "),a("ul",[a("li",[s._v("性能受场景的影响是非常大的，不同的场景可能造成不同实现方案之间成倍的性能差距，所以依赖细粒度绑定及 "),a("code",[s._v("Virtual DOM")]),s._v(" 哪个的性能更好还真不是一个容易下定论的问题。")]),s._v(" "),a("li",[a("code",[s._v("Vue")]),s._v(" 之所以引入了 "),a("code",[s._v("Virtual DOM")]),s._v("，更重要的原因是为了解耦 "),a("code",[s._v("HTML")]),s._v("依赖，这带来两个非常重要的好处是：")])]),s._v(" "),a("blockquote",[a("ul",[a("li",[s._v("不再依赖 "),a("code",[s._v("HTML")]),s._v(" 解析器进行模版解析，可以进行更多的 "),a("code",[s._v("AOT")]),s._v(" 工作提高运行时效率：通过模版 "),a("code",[s._v("AOT")]),s._v(" 编译，"),a("code",[s._v("Vue")]),s._v(" 的运行时体积可以进一步压缩，运行时效率可以进一步提升；")]),s._v(" "),a("li",[s._v("可以渲染到 "),a("code",[s._v("DOM")]),s._v(" 以外的平台，实现 "),a("code",[s._v("SSR")]),s._v("、同构渲染这些高级特性，"),a("code",[s._v("Weex")]),s._v("等框架应用的就是这一特性。")])])]),s._v(" "),a("blockquote",[a("p",[s._v("综上，"),a("code",[s._v("Virtual DOM")]),s._v(" 在性能上的收益并不是最主要的，更重要的是它使得 "),a("code",[s._v("Vue")]),s._v(" 具备了现代框架应有的高级特性。")])]),s._v(" "),a("h3",{attrs:{id:"_4-3-vue-和-react-区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-vue-和-react-区别"}},[s._v("#")]),s._v(" 4.3 vue 和 react 区别")]),s._v(" "),a("ul",[a("li",[s._v("相同点：都支持 "),a("code",[s._v("ssr")]),s._v("，都有 "),a("code",[s._v("vdom")]),s._v("，组件化开发，实现 "),a("code",[s._v("webComponents")]),s._v(" 规范，数据驱动等")]),s._v(" "),a("li",[s._v("不同点："),a("code",[s._v("vue")]),s._v(" 是双向数据流（当然为了实现单数据流方便管理组件状态，"),a("code",[s._v("vuex")]),s._v(" 便出现了），"),a("code",[s._v("react")]),s._v(" 是单向数据流。"),a("code",[s._v("vue")]),s._v("的 "),a("code",[s._v("vdom")]),s._v(" 是追踪每个组件的依赖关系，不会渲染整个组件树，"),a("code",[s._v("react")]),s._v(" 每当应该状态被改变时，全部子组件都会 "),a("code",[s._v("re-render")])])]),s._v(" "),a("h3",{attrs:{id:"_4-4-为什么用-vue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-为什么用-vue"}},[s._v("#")]),s._v(" 4.4 为什么用 vue")]),s._v(" "),a("blockquote",[a("p",[s._v("简洁、轻快、舒服")])]),s._v(" "),a("h2",{attrs:{id:"五、网络基础类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、网络基础类"}},[s._v("#")]),s._v(" 五、网络基础类")]),s._v(" "),a("h3",{attrs:{id:"_5-1-跨域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-跨域"}},[s._v("#")]),s._v(" 5.1 跨域")]),s._v(" "),a("blockquote",[a("p",[s._v("很多种方法，但万变不离其宗，都是为了搞定同源策略。重用的有 "),a("code",[s._v("jsonp")]),s._v("、"),a("code",[s._v("iframe")]),s._v("、"),a("code",[s._v("cors")]),s._v("、"),a("code",[s._v("img")]),s._v("、H"),a("code",[s._v("TML5 postMessage")]),s._v("等等。其中用到 "),a("code",[s._v("html")]),s._v(" 标签进行跨域的原理就是 "),a("code",[s._v("html")]),s._v(" 不受同源策略影响。但只是接受 "),a("code",[s._v("Get")]),s._v(" 的请求方式，这个得清楚。")])]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("延伸1：img iframe script 来发送跨域请求有什么优缺点？")])])]),s._v(" "),a("p",[a("strong",[s._v("1. "),a("code",[s._v("iframe")])])]),s._v(" "),a("ul",[a("li",[s._v("优点：跨域完毕之后"),a("code",[s._v("DOM")]),s._v("操作和互相之间的"),a("code",[s._v("JavaScript")]),s._v("调用都是没有问题的")]),s._v(" "),a("li",[s._v("缺点：1.若结果要以"),a("code",[s._v("URL")]),s._v("参数传递，这就意味着在结果数据量很大的时候需要分割传递，巨烦。2.还有一个是"),a("code",[s._v("iframe")]),s._v("本身带来的，母页面和"),a("code",[s._v("iframe")]),s._v("本身的交互本身就有安全性限制。")])]),s._v(" "),a("p",[a("strong",[s._v("2. script")])]),s._v(" "),a("ul",[a("li",[s._v("优点：可以直接返回"),a("code",[s._v("json")]),s._v("格式的数据，方便处理")]),s._v(" "),a("li",[s._v("缺点：只接受"),a("code",[s._v("GET")]),s._v("请求方式")])]),s._v(" "),a("p",[a("strong",[s._v("3. 图片ping")])]),s._v(" "),a("ul",[a("li",[s._v("优点：可以访问任何"),a("code",[s._v("url")]),s._v("，一般用来进行点击追踪，做页面分析常用的方法")]),s._v(" "),a("li",[s._v("缺点：不能访问响应文本，只能监听是否响应")])]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("延伸2：配合 webpack 进行反向代理？")])])]),s._v(" "),a("p",[a("code",[s._v("webpack")]),s._v(" 在 "),a("code",[s._v("devServer")]),s._v(" 选项里面提供了一个 "),a("code",[s._v("proxy")]),s._v(" 的参数供开发人员进行反向代理")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/api'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  target"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://www.example.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// your target host")]),s._v("\n  changeOrigin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// needed for virtual hosted sites")]),s._v("\n  pathRewrite"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^/api'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// rewrite path")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("blockquote",[a("p",[s._v("然后再配合 "),a("code",[s._v("http-proxy-middleware")]),s._v(" 插件对 "),a("code",[s._v("api")]),s._v(" 请求地址进行代理")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" express "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" proxy "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http-proxy-middleware'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// proxy api requests")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" exampleProxy "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这里的 options 就是 webpack 里面的 proxy 选项对应的每个选项")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// mount `exampleProxy` in web server")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/api'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" exampleProxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("blockquote",[a("p",[s._v("然后再用 "),a("code",[s._v("nginx")]),s._v(" 把允许跨域的源地址添加到报头里面即可")])]),s._v(" "),a("blockquote",[a("p",[s._v("说到 "),a("code",[s._v("nginx")]),s._v(" ，可以再谈谈 "),a("code",[s._v("CORS")]),s._v(" 配置，大致如下")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("location "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$request_method "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'OPTIONS'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    add_header "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Access-Control-Allow-Origin'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n    add_header "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Access-Control-Allow-Methods'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'GET, POST, OPTIONS'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n    add_header "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Access-Control-Allow-Credentials'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'true'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    add_header "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Access-Control-Allow-Headers'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'DNT, X-Mx-ReqToken, Keep-Alive, User-Agent, X-Requested-With, If-Modified-Since, Cache-Control, Content-Type'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n    add_header "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Access-Control-Max-Age'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("86400")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n    add_header "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-Type'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'text/plain charset=UTF-8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n    add_header "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-Length'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"_5-2-http-无状态无连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-http-无状态无连接"}},[s._v("#")]),s._v(" 5.2 http 无状态无连接")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("http")]),s._v(" 协议对于事务处理没有记忆能力")]),s._v(" "),a("li",[s._v("对同一个"),a("code",[s._v("url")]),s._v("请求没有上下文关系")]),s._v(" "),a("li",[s._v("每次的请求都是独立的，它的执行情况和结果与前面的请求和之后的请求是无直接关系的，它不会受前面的请求应答情况直接影响，也不会直接影响后面的请求应答情况")]),s._v(" "),a("li",[s._v("服务器中没有保存客户端的状态，客户端必须每次带上自己的状态去请求服务器")]),s._v(" "),a("li",[s._v("人生若只如初见，请求过的资源下一次会继续进行请求")])]),s._v(" "),a("p",[a("strong",[s._v("http协议无状态中的 状态 到底指的是什么？！")])]),s._v(" "),a("ul",[a("li",[s._v("【状态】的含义就是：客户端和服务器在某次会话中产生的数据")]),s._v(" "),a("li",[s._v("那么对应的【无状态】就意味着：这些数据不会被保留")]),s._v(" "),a("li",[s._v("通过增加"),a("code",[s._v("cookie")]),s._v("和"),a("code",[s._v("session")]),s._v("机制，现在的网络请求其实是有状态的")]),s._v(" "),a("li",[s._v("在没有状态的"),a("code",[s._v("http")]),s._v("协议下，服务器也一定会保留你每次网络请求对数据的修改，但这跟保留每次访问的数据是不一样的，保留的只是会话产生的结果，而没有保留会话")])]),s._v(" "),a("h3",{attrs:{id:"_5-3-http-cache：就是-http-缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-http-cache：就是-http-缓存"}},[s._v("#")]),s._v(" 5.3 http-cache：就是 http 缓存")]),s._v(" "),a("p",[a("strong",[s._v("1. 首先得明确 http 缓存的好处")])]),s._v(" "),a("ul",[a("li",[s._v("减少了冗余的数据传输，减少网费")]),s._v(" "),a("li",[s._v("减少服务器端的压力")]),s._v(" "),a("li",[a("code",[s._v("Web")]),s._v(" 缓存能够减少延迟与网络阻塞，进而减少显示某个资源所用的时间")]),s._v(" "),a("li",[s._v("加快客户端加载网页的速度")])]),s._v(" "),a("p",[a("strong",[s._v("2. 常见 http 缓存的类型")])]),s._v(" "),a("ul",[a("li",[s._v("私有缓存（一般为本地浏览器缓存）")]),s._v(" "),a("li",[s._v("代理缓存")])]),s._v(" "),a("p",[a("strong",[s._v("3. 然后谈谈本地缓存")])]),s._v(" "),a("blockquote",[a("p",[s._v("本地缓存是指浏览器请求资源时命中了浏览器本地的缓存资源，浏览器并不会发送真正的请求给服务器了。它的执行过程是")])]),s._v(" "),a("ul",[a("li",[s._v("第一次浏览器发送请求给服务器时，此时浏览器还没有本地缓存副本，服务器返回资源给浏览器，响应码是"),a("code",[s._v("200 OK")]),s._v("，浏览器收到资源后，把资源和对应的响应头一起缓存下来")]),s._v(" "),a("li",[s._v("第二次浏览器准备发送请求给服务器时候，浏览器会先检查上一次服务端返回的响应头信息中的"),a("code",[s._v("Cache-Control")]),s._v("，它的值是一个相对值，单位为秒，表示资源在客户端缓存的最大有效期，过期时间为第一次请求的时间减去"),a("code",[s._v("Cache-Control")]),s._v("的值，过期时间跟当前的请求时间比较，如果本地缓存资源没过期，那么命中缓存，不再请求服务器")]),s._v(" "),a("li",[s._v("如果没有命中，浏览器就会把请求发送给服务器，进入缓存协商阶段。")])]),s._v(" "),a("blockquote",[a("p",[s._v("与本地缓存相关的头有："),a("code",[s._v("Cache-Control")]),s._v("、"),a("code",[s._v("Expires")]),s._v("，"),a("code",[s._v("Cache-Control")]),s._v("有多个可选值代表不同的意义，而"),a("code",[s._v("Expires")]),s._v("就是一个日期格式的绝对值。")])]),s._v(" "),a("p",[a("strong",[s._v("3.1 Cache-Control")])]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("Cache-Control")]),s._v("是"),a("code",[s._v("HTPP")]),s._v("缓存策略中最重要的头，它是"),a("code",[s._v("HTTP/1.1")]),s._v("中出现的，它由如下几个值")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("no-cache")]),s._v("：不使用本地缓存。需要使用缓存协商，先与服务器确认返回的响应是否被更改，如果之前的响应中存在"),a("code",[s._v("ETag")]),s._v("，那么请求的时候会与服务端验证，如果资源未被更改，则可以避免重新下载")]),s._v(" "),a("li",[a("code",[s._v("no-store")]),s._v("：直接禁止游览器缓存数据，每次用户请求该资源，都会向服务器发送一个请求，每次都会下载完整的资源")]),s._v(" "),a("li",[a("code",[s._v("public")]),s._v("：可以被所有的用户缓存，包括终端用户和"),a("code",[s._v("CDN")]),s._v("等中间代理服务器。")]),s._v(" "),a("li",[a("code",[s._v("private")]),s._v("：只能被终端用户的浏览器缓存，不允许"),a("code",[s._v("CDN")]),s._v("等中继缓存服务器对其缓存。")]),s._v(" "),a("li",[a("code",[s._v("max-age")]),s._v("：从当前请求开始，允许获取的响应被重用的最长时间（秒）。")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 例如：")]),s._v("\n\nCache-Control: public, max-age"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 表示资源可以被所有用户以及代理服务器缓存，最长时间为1000秒。")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[a("strong",[s._v("3.2 Expires")])]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("Expires")]),s._v("是"),a("code",[s._v("HTTP/1.0")]),s._v("出现的头信息，同样是用于决定本地缓存策略的头，它是一个绝对时间，时间格式是如"),a("code",[s._v("Mon, 10 Jun 2015 21:31:12 GMT")]),s._v("，只要发送请求时间是在"),a("code",[s._v("Expires")]),s._v("之前，那么本地缓存始终有效，否则就会去服务器发送请求获取新的资源。如果同时出现"),a("code",[s._v("Cache-Control：max-age")]),s._v("和"),a("code",[s._v("Expires")]),s._v("，那么"),a("code",[s._v("max-age")]),s._v("优先级更高。他们可以这样组合使用")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Cache-Control: public\nExpires: Wed, Jan 10 2018 00:27:04 GMT\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("3.3 所谓的缓存协商")])]),s._v(" "),a("blockquote",[a("p",[s._v("当第一次请求时服务器返回的响应头中存在以下情况时")])]),s._v(" "),a("ul",[a("li",[s._v("没有 "),a("code",[s._v("Cache-Control")]),s._v(" 和 "),a("code",[s._v("Expires")])]),s._v(" "),a("li",[a("code",[s._v("Cache-Control")]),s._v(" 和 "),a("code",[s._v("Expires")]),s._v(" 过期了")]),s._v(" "),a("li",[a("code",[s._v("Cache-Control")]),s._v(" 的属性设置为 "),a("code",[s._v("no-cache")]),s._v(" 时")])]),s._v(" "),a("blockquote",[a("p",[s._v("那么浏览器第二次请求时就会与服务器进行协商，询问浏览器中的缓存资源是不是旧版本，需不需要更新，此时，服务器就会做出判断，如果缓存和服务端资源的最新版本是一致的，那么就无需再次下载该资源，服务端直接返回"),a("code",[s._v("304 Not Modified")]),s._v(" 状态码，如果服务器发现浏览器中的缓存已经是旧版本了，那么服务器就会把最新资源的完整内容返回给浏览器，状态码就是"),a("code",[s._v("200 Ok")]),s._v("，那么服务端是根据什么来判断浏览器的缓存是不是最新的呢？其实是根据"),a("code",[s._v("HTTP")]),s._v("的另外两组头信息，分别是："),a("code",[s._v("Last-Modified/If-Modified-Since")]),s._v(" 与 "),a("code",[s._v("ETag/If-None-Match")]),s._v("。")])]),s._v(" "),a("p",[a("strong",[s._v("Last-Modified 与 If-Modified-Since")])]),s._v(" "),a("ul",[a("li",[s._v("浏览器第一次请求资源时，服务器会把资源的最新修改时间"),a("code",[s._v("Last-Modified:Thu, 29 Dec 2011 18:23:55 GMT")]),s._v("放在响应头中返回给浏览器")]),s._v(" "),a("li",[s._v("第二次请求时，浏览器就会把上一次服务器返回的修改时间放在请求头"),a("code",[s._v("If-Modified-Since:Thu, 29 Dec 2011 18:23:55")]),s._v("发送给服务器，服务器就会拿这个时间跟服务器上的资源的最新修改时间进行对比")])]),s._v(" "),a("blockquote",[a("p",[s._v("如果两者相等或者大于服务器上的最新修改时间，那么表示浏览器的缓存是有效的，此时缓存会命中，服务器就不再返回内容给浏览器了，同时"),a("code",[s._v("Last-Modified")]),s._v("头也不会返回，因为资源没被修改，返回了也没什么意义。如果没命中缓存则最新修改的资源连同"),a("code",[s._v("Last-Modified")]),s._v("头一起返回")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第一次请求返回的响应头")]),s._v("\nCache-Control:max-age"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3600")]),s._v("\nExpires: Fri, Jan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v(" 00:27:04 GMT\nLast-Modified: Wed, Jan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v(" 00:27:04 GMT\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第二次请求的请求头信息")]),s._v("\nIf-Modified-Since: Wed, Jan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v(" 00:27:04 GMT\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("blockquote",[a("p",[s._v("这组头信息是基于资源的修改时间来判断资源有没有更新，另一种方式就是根据资源的内容来判断，就是接下来要讨论的 "),a("code",[s._v("ETag")]),s._v(" 与 "),a("code",[s._v("If-None-Match")])])]),s._v(" "),a("p",[a("strong",[s._v("ETag与If-None-Match")])]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("ETag/If-None-Match")]),s._v("与"),a("code",[s._v("Last-Modified/If-Modified-Since")]),s._v("的流程其实是类似的，唯一的区别是它基于资源的内容的摘要信息（比如"),a("code",[s._v("MD5 hash")]),s._v("）来判断")])]),s._v(" "),a("blockquote",[a("p",[s._v("浏览器发送第二次请求时，会把第一次的响应头信息"),a("code",[s._v("ETag")]),s._v("的值放在"),a("code",[s._v("If-None-Match")]),s._v("的请求头中发送到服务器，与最新的资源的摘要信息对比，如果相等，取浏览器缓存，否则内容有更新，最新的资源连同最新的摘要信息返回。用"),a("code",[s._v("ETag")]),s._v("的好处是如果因为某种原因到时资源的修改时间没改变，那么用"),a("code",[s._v("ETag")]),s._v("就能区分资源是不是有被更新。")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第一次请求返回的响应头：")]),s._v("\n\nCache-Control: public, max-age"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31536000")]),s._v("\nETag: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"15f0fff99ed5aae4edffdd6496d7131f"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第二次请求的请求头信息：")]),s._v("\n\nIf-None-Match: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"15f0fff99ed5aae4edffdd6496d7131f"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_5-4-cookie-和-session"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-cookie-和-session"}},[s._v("#")]),s._v(" 5.4 cookie 和 session")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("session")]),s._v("： 是一个抽象概念，开发者为了实现中断和继续等操作，将 "),a("code",[s._v("user agent")]),s._v("和 "),a("code",[s._v("server")]),s._v(" 之间一对一的交互，抽象为“会话”，进而衍生出“会话状态”，也就是 "),a("code",[s._v("session")]),s._v(" 的概念")]),s._v(" "),a("li",[a("code",[s._v("cookie")]),s._v("：它是一个世纪存在的东西，"),a("code",[s._v("http")]),s._v(" 协议中定义在 "),a("code",[s._v("header")]),s._v(" 中的字段，可以认为是 "),a("code",[s._v("session")]),s._v(" 的一种后端无状态实现")])]),s._v(" "),a("blockquote",[a("p",[s._v("现在我们常说的 "),a("code",[s._v("session")]),s._v("，是为了绕开 "),a("code",[s._v("cookie")]),s._v(" 的各种限制，通常借助 "),a("code",[s._v("cookie")]),s._v("本身和后端存储实现的，一种更高级的会话状态实现")])]),s._v(" "),a("p",[a("code",[s._v("session")]),s._v(" 的常见实现要借助"),a("code",[s._v("cookie")]),s._v("来发送 "),a("code",[s._v("sessionID")])]),s._v(" "),a("h3",{attrs:{id:"_5-5-安全问题，如-xss-和-csrf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-安全问题，如-xss-和-csrf"}},[s._v("#")]),s._v(" 5.5 安全问题，如 XSS 和 CSRF")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("XSS")]),s._v("：跨站脚本攻击，是一种网站应用程序的安全漏洞攻击，是代码注入的一种。常见方式是将恶意代码注入合法代码里隐藏起来，再诱发恶意代码，从而进行各种各样的非法活动")])]),s._v(" "),a("blockquote",[a("p",[s._v("防范：记住一点 “所有用户输入都是不可信的”，所以得做输入过滤和转义")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("CSRF")]),s._v("：跨站请求伪造，也称 "),a("code",[s._v("XSRF")]),s._v("，是一种挟制用户在当前已登录的"),a("code",[s._v("Web")]),s._v("应用程序上执行非本意的操作的攻击方法。与 "),a("code",[s._v("XSS")]),s._v(" 相比，"),a("code",[s._v("XSS")]),s._v("利用的是用户对指定网站的信任，"),a("code",[s._v("CSRF")]),s._v("利用的是网站对用户网页浏览器的信任。")])]),s._v(" "),a("blockquote",[a("p",[s._v("防范：用户操作验证（验证码），额外验证机制（"),a("code",[s._v("token")]),s._v("使用）等")])])])}),[],!1,null,null,null);t.default=r.exports}}]);